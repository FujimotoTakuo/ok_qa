現在H8S2368のソースコードでウォッチドックタイマを使用しているのかどうかわからないものがあります。 一部の機能の組み合わせで動作させていると、マイコンがフリーズする現象があるようで、現在のソースコードでのWDTの使用状況がどうなっているのかを分析したいのですが、作成者の方と連絡がつかずウォッチドックの動作をどうしていたかということが確認できません。 数年前に作成者さんにこのソースコードでのウォッチドックについて口頭で聞いた際には、”ソースコード内でuCOSというOS機能を利用しているためH8マイコンに搭載されているWDT機能は使用できなかった”みたいなことをおっしゃっていた記憶があるのですが、定かではありません。 ソースコードの読み込みやデバッグでWDTの有無を判定するしかないと思うのですが、その場合、それを判別する方法などご教示頂きますようよろしくお願い致します。 また、現在のフリーズする現象を早急に対処する場合に、WDTのコーディング方法もご教示頂けると大変助かります。 例えば、ATMELのAVRStudioでは wdt_enable(9)関数 wdt_reset関数 などの関数でWDTを利用できてよく使っているのですが、H8マイコンでも同様のコードなどありますでしょうか？ どうぞ、よろしくお願い致します。
今プログラミングを行っているのですが、Xn+1=Xn-f(Xn)/g(Xn)（f(x)=x*x-x-1,g(x)=2x-1,これらはfloat型の関数とすること）で初期値Xo=-2としたときに繰り返しｘを求めていき、|f(x)|=<10^-5となるまで計算するプログラムを作成したいのですが結果がおかしくなるので、ここからどう手直しすればいいのかわかりません。 #include<stdio.h> float wa(void); int main(void) { float a,i; for (i = -2; i <= 0.00005; i++) { a = wa(); printf("%f\n", a); } return 0; } float wa(void) { float l = 0, i, m, n, x,b; for (i = -2; i <= 0.00005; i++) { x = i; l *= i; m = x*x - x - 1; n = (2 * x) - 1; b = l - (m / n); } return b; } 結果 -1.000000 -1.000000 -1.000000 正直言ってどういう結果になればいいのかもわかりません。 せめてどういうような結果になるのかだけでも教えていただければありがたいです。
次のプログラミングでfloat型関数を定義しようとしても下の矢印のところにどんな文字を入れても「初期化されてないローカル変数が使用されます。」と出て、どうしてもうまくいきません。 こういう場合どこを直せばエラーが出なくなるのでしょうか？ #include<stdio.h> float wa(float 　); 　　　　　　↑ int main(void) { float a; a = wa(); 　　　　　↑ printf("%f\n",a); return 0; } float wa(float 　) 　　　　　　↑ { float l = 0, i, m, n, x,b; for (i = -2; i <= 0.00005; i++) { x = i; l *= i; m = x*x - x - 1; n = (2 * x) - 1; b = l - (m / n); } return b; }
失礼します。カンマ区切りのC言語を配列に挿入したいのですが、エラーが出てしまいます。 初心者的な質問で申し訳ございませんが、よろしくお願いします。 途中までですが、コードを掲載させていただきます。 #define _CRT_SECURE_NO_WARNINGS #include <stdio.h> #include <stdlib.h> #include<string.h> #define piyo 11 #define hoge 2900 int main(void) { FILE *fp; char test[piyo][hoge]; char buf[hoge]; char *ary[hoge]; int i, k; test[piyo][hoge] = NULL; if ((fp = fopen("testfile.csv", "r")) == NULL) { printf("\aファイルをオープンできません\n"); }else{ while (fgets(buf, hoge, fp) != NULL) { for (k = 0; k < hoge; k++) { ary[k] = strtok(buf, ","); } } fclose(fp); return(0); } エラーメッセージ 警告C4047'=': 間接参照のレベルが 'char' と 'void *' で異なっています。 C1075左側の 中かっこ '{' に対応するものがファイルの最後まで検出されませんでした。
ご質問させていただきます。 CSVファイルからデータを呼び出し、二次元配列として出力したいのですが上手くいきません。 CSVファイルには英数字が混ざっており、エクセルでいう、１１行と１４４０列ほどのデータがあります。初心者なりに書いてみたのですが、どこから手を付けたらいいかわかりません。 三次元配列にしないといけないとのアドバイスをいただいたのですがどのようにすればいいかわかりませんヒントを頂けるとたすかります。 元のcsvファイルは例ですがこのような下記のような構造になっていて２行目にいったときに[0][0]から[1][0]と変わっていってほしいです。 testt,esttest,testte,stte,sttest testte,sttes,ttest,～ 理想 [0][0] = [testtesttest] [0][1] = [testtesttesttest] 一行が終わりしだい [1][0] = [testtesttesttest] と変わっていくようにしたいです。 エラーが出ますが、コードを記載させていただきます。 コード #define _CRT_SECURE_NO_WARNINGS #include <stdio.h> #include <stdlib.h> int main(void) { //ストリームポインタ FILE *fp; int kk = 0; int nn = 0; int hoge; //ファイルから読み込んだテキスト１行分を格納するためのchar配列を指定します int piyo[11][1440]; //*filename : 開くファイル名を指定 char *fname = "./test1/test2/201509/test.csv"; //ファイルが無かったり,指定フォルダでなければ、FILE変数fpはNULLが返ります。 fp = fopen(fname, "r"); //NULLが返ってきた場合の処理 if (fp == NULL) { printf("%sファイルが開けません¥n", fname); return -1; } //ファイルから1行ずつ読み込む成功すると、読み込んだ文字列のポインタを返し、失敗すると、NULLを返します。 while (1 == fscanf(fp, "%c,", &hoge)) { piyo[kk][nn] = hoge; printf("[%d][%d]=%d\n", kk, nn, piyo[kk][nn]); nn++; if (1440 == nn) { kk++; nn = 0; } } //FILE *fp : fopen()で取得したファイルポインタ fclose(fp); return 0; }
Ｃ言語をやることになり苦戦しています。 CSVファイルからデータを呼び出し、二次元配列として出力したいのですが上手くいきません。 CSVファイルには英数字が混ざっており、エクセルでいう、１１行と１４４０列ほどのデータがあります。初心者なりに書いてみたのですが、どこから手を付けたらいいかわかりません。 是非ヒントを頂けるとうれしいです。よろしくお願いします。 理想 [0][0] = [testtesttest] [0][1] = [testtesttesttest] 一行が終わりしだい [1][0] = [testtesttesttest] と変わっていくようにしたいです。 エラーが出ますが、コードを記載させていただきます。 コード #define _CRT_SECURE_NO_WARNINGS #include <stdio.h> #include <stdlib.h> int main(void) { //ストリームポインタ FILE *fp; int kk = 0; int nn = 0; int hoge; //ファイルから読み込んだテキスト１行分を格納するためのchar配列を指定します int piyo[11][1440]; //*filename : 開くファイル名を指定 char *fname = "./test1/test2/201509/test.csv"; //ファイルが無かったり,指定フォルダでなければ、FILE変数fpはNULLが返ります。 fp = fopen(fname, "r"); //NULLが返ってきた場合の処理 if (fp == NULL) { printf("%sファイルが開けません¥n", fname); return -1; } //ファイルから1行ずつ読み込む成功すると、読み込んだ文字列のポインタを返し、失敗すると、NULLを返します。 while (1 == fscanf(fp, "%c,", &hoge)) { piyo[kk][nn] = hoge; printf("[%d][%d]=%d\n", kk, nn, piyo[kk][nn]); nn++; if (1440 == nn) { kk++; nn = 0; } } //FILE *fp : fopen()で取得したファイルポインタ fclose(fp); return 0; }
失礼します。現在指定したディレクトリのファイルを取得したいのですがどういった関数を使えばいいかわからず手の付け方がわかりません。ヒントをいただけると嬉しいです。 例ですがTestディレクトリのSelect.csv,Select1.csv,,Select2.csv,を読み込み その後Test2ディレクトリの Select3.csv,Select4.csv,,Select5.csv,を読み込みたいです。 ディレクトリ構造 Test------------------------------------------------------------------------------Select.csv 　　　　　　　　　　　　 　　　　　　　　　　　　　|----Select1.csv 　　　　　　　　　　　　　 |----Select2.csv 　　　　　　　　　　　 　　　　　　　　　　　　　　 |----test.text Test2-------------------------------------------------------------Select3.csv |----Select4.csv |----Select5.csv text.json hoge.text
初心者の質問になります。現在ファイルがオープンできるかどうかを確認したいのですが、指定したディレクトリの中のファイルを指定しているのですが、オープンできませんという結果が返ってきます。同じ場所にファイルを置いてファイル名だけでしていするとオープンが出来ます。 何卒よろしくおねがいします。 #define _CRT_SECURE_NO_WARNINGS #include <stdio.h> int main(void) { FILE *fp; char *filename = "/file/d20151001.csv"; fp = fopen(filename,"r"); if (fp == NULL) { printf("\aファイルをオープンできません\n"); } else { printf("ファイルがオープンできました\n"); fclose(fp); } return (0); } ディレクトリ(わかりにくくてすいません汗) file------d20151001.csv data.c 環境　VisualStudio
以前、数学カテゴリーでした質問（対子が暗刻になるまでの平均順目http://okwave.jp/qa/q9209998.html）をもとに、質問します。手計算に限界を感じたため、一念発起してC++の学習を始めて、プログラムを書いてみたのですがどうでしょうか？計算結果は13.492（順目）だったのですが、予想していた約8順に対して少し大きい値が得られてしまいました。 もっとこういう書き方をしたほうがいいよ、とか、立式が間違っているよ、とかなんでもいいので意見をいただけると嬉しいです。 あと、rand関数の精度？がいまいちだという話も聞いているので、もっといい乱数の発生させかたに関する意見も欲しいです。しかし、約5順のずれは乱数の問題だけではないような気がしますが・・ #include <iostream> #include <stdio.h> using namespace std; inline double chusen() { return rand() % 100 ;//0～100までの値を生成 } int main() { //牌姿は例えば、(1)(1)(9)(9)123456789のような形とする //ここに(1)(1)(9)(9)123456789+(1)or(9)のように、アンコができる場合を考える int nhai[18] = { 123, 119, 115, 111, 107, 103, 99, 95, 91, 87, 83, 79, 75, 71, 67, 63, 59, 55 };//各順目における残りの牌 double tumochusen[18];//各順目にツモってこれるかどうかを判定するために用いる。rand関数によって、ランダムな値を得る int SIMULATE = 10000;//シミュレーションの回数 int junme[10000];//アンコができた順目。終局までにできなければ18とする double sum=0;//順目の合計値 for (int j = 0; j < SIMULATE; j++) { junme[j] = 18; for (int i = 0; i <= 17; i++) { tumochusen[i] = chusen(); cout << "tumochusen[" << i << "]の値は" << tumochusen[i] << "です。\n"; if (tumochusen[i] < (400 / nhai[i])) { cout << i + 1 << "順目でアンコになりました。\n"; junme[j] = i + 1; goto end;//アンコができたら、その局は終了する } } end: cout << "シミュレーション" << j + 1 << "を終了します。\n"; } for (int k = 0; k < SIMULATE; k++) { cout<<"junme["<<k<<"]の値は"<<junme[k] << "です。\n"; } for (int l = 0; l < SIMULATE; l++) { sum += junme[l]; } cout << "よって、求める平均順目は" << sum / SIMULATE << "です。\n"; return 0; }
失礼します。現在書籍にて勉強しているのですが、エラーが出てしまい調べてみたのですが原因がわかりません。何卒よろしくお願いします。 /* 文字列として読み込んだ整数を変換して表示 */ #include <stdio.h> #include <stdlib.h> int main(void) { char temp[20];/* 読込み用文字列 */ printf("整数を入力してください："); scanf_s("%s", temp); printf("%dと入力しましたね。\n", atoi(temp)); return 0; } エラーメッセージ ハンドルされない例外が 0xFEFEFEFE (helloworld.exe) で発生しました: 0xC00001A5: 無効な例外ハンドラー ルーチンが検出されました。 (パラメーター: 0x00000003)。
現在ATMEL社のATxmega128A1というCPUでプログラミングを行っております。 テンキーパネルでのコマンド操作機能というのを設置しているのですが、テンキー操作で、”＃”ボタンが押されると u8 key_proc(u8 * buf,int length) この関数が必ず呼ばれます。 bufという引数に”＃”ボタンが押されるまでに押されたボタンのキャラクタデータが収納されたSRAMの番地が格納されています。 例えば、端末の設定などを変更したい場合に使用する4文字のキーがEEPROMに格納されていて、それを変更したい場合のコマンドを追加したいと思っています。 そのEEPROMに格納されている4文字キーというのは (u16)gEnv.main_set.key; というEEPROMに”1234”というデータが入っているのですが、 bufというSRAMのメモリに例えば”1234Z4321#” このようなコマンドが来たらもともと”1234”という現在のkeyと合致して、なおかつ次の文字が”Z”という文字が来たら、次の”4321”というデータに(u16)gEnv.main_set.key;のEEPROMの内容を変更するというプログラムが作りたいと思っています。 現在このようなプログラムでこの機能を実現しています。 #if 1 pass16 = (u16)gEnv.main_set.key; sprintf((char *)str,"%04d",pass16); str[4] = 0; memcpy(value,buf,4); if(strstr((char *)value,(char *)str) != 0) { if(buf[4] == 'Z' && buf[9] == '#') { value[0] = buf[5]; value[1] = buf[6]; value[2] = buf[7]; value[3] = buf[8]; gEnv.main_set.key = strtoul(value,NULL,10); env_save(&gEnv); return true; } } #endif このプログラムを作ったことで疑問に思っていることなのですが、 buf[4] == 'Z' であるかどうかをstrstrとは別のコードで判定しているのですが、 sprintf((char *)str,"%04dZ",pass16); このようなコードで"1234Z"という文字列をstrstr検索して判定することはできないのでしょうか? 現在”sprintf((char *)str,"%04dZ",pass16);”としてしまうと、プログラムが暴走したような状態になり、正常な動作ができなくなってしまう現象が出てしまいます。 どうぞ、ご教示よろしくお願い致します。
失礼します。現在テキストファイルを昇順で出力したいのですが うまくいきません、書籍にて勉強しているのですが、打ち間違いなどがみつかりません。 何卒よろしくお願いします。 #include <stdint.h> #pragma warning(disable:4996) typedef struct { char name[100]; double height; double weight; } pdata; void swap(pdata *x, pdata *y) { pdata temp = *x; *x = *y; *y = temp; } void sort(pdata data[], int n) { int k = n - 1; while (k >= 0) { int i, j; for (i = 1, j = -1; i <= k; i++) if (data[i - 1].height > data[i].height) { j = i - 1; swap(&data[i], &data[j]); } k = j; } } int main(void) { FILE *fp; int i; int ninzu = 0; double hsum = 0.0; double wsum = 0.0; pdata data[NUMBER]; if ((fp = fopen("hw.dat", "r")) == NULL) printf("\aファイルをオープンできません\n"); else { while (fscanf(fp, "%s%lf%lf", data[ninzu].name, &data[ninzu].height, &data[ninzu].weight) == 3) { hsum += data[ninzu].height; wsum += data[ninzu].weight; ninzu++; } sort(data, ninzu); for (i = 0; i < ninzu; i++) printf("%-10s %5.lf %5.lf\n", data[i].name, data[i].height, data[i].weight); printf("----------------------------"); printf("平均 %5.1f %5.1f", hsum / ninzu, wsum / ninzu); fclose(fp); } return(0); } エラーメッセージ 重大度レベルコード説明プロジェクトファイル行抑制状態 エラーC2057定数式が必要です。helloworldc:\users\documents\visual studio 2015\projects\helloworld\helloworld\helloworld.c36 重大度レベルコード説明プロジェクトファイル行抑制状態 エラー (アクティブ)識別子 "FILE" が定義されていませんhelloworldc:\Users\Documents\Visual Studio 2015\Projects\helloworld\helloworld\helloworld.c30 重大度レベルコード説明プロジェクトファイル行抑制状態 エラー (アクティブ)識別子 "NUMBER" が定義されていませんhelloworldc:\UsersDocuments\Visual Studio 2015\Projects\helloworld\helloworld\helloworld.c36
現在書籍にてC言語を用いたファイル操作を勉強しています。 何故か動作が停止してしまい次に進めません、よろしくお願いします。 #include <stdio.h> #pragma warning(disable:4996) int main(void) { FILE *fp; char fname[64]; printf("ファイル名:"); scanf_s("%s", fname); //ポインタfpが指すストリーム fp = fopen(fname, "r"); if (fp == NULL) printf("\aファイルをオープンできません\n"); else fclose(fp); return(0); } エラーメッセージ ハンドルされない例外が 0xFEFEFEFE (helloworld.exe) で発生しました: 0xC00001A5: 無効な例外ハンドラー ルーチンが検出されました。 (パラメーター: 0x00000003)。
今、Ａのフォルダーにあるファイルをすべてクリップボードに切り取りたいのですが、いたるサイトで探しても データーの切り取りはあってもファイルの切り取りが見当たらなくて困っています。 どのようにすれば出来ますか？ よろしくお願いいたします。
失礼します現在C言語を書籍にて勉強しておりますが、エラーが出てしまいすすめません正誤表などがなくこまっています現在のソースは #include <stdio.h> int str_char(const char str[], int c) { int i; for (i = 0; str[i] != '\0'; i++) if (str[i] == c) return (i); return(-1); } int main(void) { int no; char ch[10]; printf("英文字を入力してください"); scanf_s("%s", ch); no = str_char("ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz", ch[0]); if (no >= 0 && no <= 25) printf("それは英大文字の%dです\n", no + 1); else if (no >= 26 && no <= 51) printf("それは英小文字の%dです\n", no - 25); else printf("それは英文字ではありません\n"); return(0); } で、出てくるエラーメッセージは ハンドルされない例外が 0xFEFEFEFE (helloworld.exe) で発生しました: 0xC00001A5: 無効な例外ハンドラー ルーチンが検出されました。 (パラメーター: 0x00000003)。 です。 よろしくお願いします
下記のようなクラス構成があるとします。 説明のため簡略化しています。 [Test.h] class CParent { protected: int nParent; public: CParent(){nParent = 10;} ~CParent(){}; virtual int func1(){// (*1) return nParent; } }; class CSub : public CParent { int m_nSub1;// 派生クラスにしかないメンバ変数 int m_nSub2;// 派生クラスにしかないメンバ変数 public: CSub(){m_nSub = 20;} ~CSub(){}; int func1(){ // (*3) return nParent*2;// 20 } // 派生クラスにしかないメンバ関数 int func2()// (*4) { m_nParent;// 10 return m_nSub1;// 不定値 } int SetData(int n)// (*5) { m_nSub2 = n; return m_nSub2; } }; [Test.cpp] void main() { CParent parent;// 親クラスのオブジェクト CParent* pParent = &parent;// 親クラスのオブジェクトを指すポインタ int nRet = 0; nRet = pParent->func1();// (*1) // サブクラスのポインタ型にキャストする CSub* pSub = (CSub*)pParent;// (*2) nRet = pSub->func1();// (*3) nRet = pSub->func2();// (*4) nRet = pSub->SetData(60);// (*5) } (*3)ではpSubの指すオブジェクトが親クラス（CParent）のため、ポリモーフィズムのメカニズムに従ってCParent::func1()が呼ばれ10が返ってきます。ここまでは想定通りです。 次の(*4)ですが、これはCSub::func2()が呼ばれています。なぜこの呼び出しで子クラスの関数を呼ぶことが出来るのでしょうか？ 実際その動作をさせたいのですが、なぜそうなるのかが分かりません。想定ではpSubが指す先は親クラスのため、子クラスにしかないメンバ関数func2()は呼べないはずです。 このコードでは、CSubのコンストラクタは通りませんので（そもそもCSub型のインスタンスは実体化していない）、(*4)の呼び出しでは不定値が返ります。また、(*5)は期待通り動作し、戻り値60が返っています。 これは危険な事をしているのでしょうか？ 期待通りではあるのですが、なぜこのような動作になるのか理解できません。 上記のようなことをしたい場合、どのように記述するべきでしょうか？
スクロールバーを作り下のプログラムのようにSB_LINEDOWN:の所でメッセージボックスを表示するとなぜかメッセージボックスが何個も表示されてしまいます（２０個ぐらい）。しかも表示される個数が変わる時もあります。 メッセージボックスを表示する行を消し、実行される回数をカウントする変数を記入してデバッグしてみると正常に１回実行されているようです。 SB_ENDSCROLLの中で表示した場合も正常に１回だけ表示されます。 どうしてこうなるのでしょうか？ --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語 case WM_VSCROLL: switch(LOWORD(wParam)){ case SB_LINEDOWN: MessageBox(hwnd,TEXT("スクロールバーのテスト中"),TEXT("メッセージボックス"),MB_OK); break; } break;
http://kidd0320.hatenablog.com/entry/2014/06/06/142355 EXEにDLLファイルを同梱するためこちらのサイトを参考にしたのですが、ソフトを別のパソコンに入れたところ”MSVCP120.dllがないため、プログラムを開始できません。” と表示されてしまいます。 開発環境はC++でOPENCVを使っています。 開発ソフトはMicrosoft Visual Studio Express 2013 for Windows Desktopを使っています。 構成はReleaseでプラットフォームはwin32です。 インクルードファイルなどは以下のとおりです。 #include "stdafx.h" #include <stdio.h> #include <windows.h> #define snprintf _snprintf #include <opencv/highgui.h> #include <iostream> #include<fstream> using namespace std; どういった原因が考えられるでしょうか。 どなたかご教授いただけないでしょうか。
　こんにちは。 VS2012 Express EdtionでDirectXのライブラリを使えるようにしているのですが 毎回設定するのはめんどくさいので プロパティシートを編集してそれを取り入れて設定させようと思っています。 しかしどのように編集したらいいか分かりません。 ネットで調べてもそれらが詳しく載っているのをみかけなかったからここで質問したしだいです。 プロパティシートというのは、propsファイルのことです。 ここで編集するのですが、ディレクトリ指定などどのようにやればいいのでしょうか？
現在wifiモジュール基板のESP-WROOM-02で、今までイーサネットポートしかもっていなかった端末機の残っていたUARTポートを利用してwifi通信を行えるようにしたいと考えています。 現在、端末側からESP-WROOM-02に対してwifi APの設定と接続先サーバの設定を完了して、30秒に1回程度送信するための1.2kByte程度のパケットデータをESP-WROOM-02の透過送信モードを使用して送信しようとしています。 受信側のサーバPCでWiresharkを起動して、データの受信状況を確認したのですが、 イーサーネット側で送信していた場合は1.2Kbyte程度のパケットデータ長だったのですが、ESP-WROOM-02で送信してみるとなぜか48Byteのパケットデータ長になってしまい、1.2Kbyteで構成されているデータの頭の4バイトのみしか送信できていないことが分かりました。 1.2KByteの”Packet”というデータパケットは、イーサネットポートからパケットを出力している際には send(s+1,(BYTE *)Packet,sizeof(TEST_PACKET)); このように送信していたところを wifiModuleSendAT((BYTE *)Packet,200); 今回wifi送信のための関数として作成した”wifiModuleSendAT”に入れて送信しました。200という引数は、この端末で使用しているucosのペンディング時のエラーとしてのポストのタイムアウト時間です。 send関数の場合、引数としてパケットサイズを見るsizeof(TEST_PACKET)を渡している部分がありますが、wifiModuleSendAT関数ではこの部分がないのですが、パケットサイズを引数として渡さなくてはいけませんでしょうか? どうぞ、ご教示頂きますようよろしくお願い致します。 wifiModuleSendAT関数のコード u8 wifiModuleSendAT(u8 * cmd,int timeOutTime) { int i; u8 err; u8* pC; int checkLen; checkLen = strlen(cmd); for(i = 0 ; i < strlen(cmd) ; i++) wireless_put_for_Wifi_data(cmd[i]); OSSemPend(WifiRxData, timeOutTime, &err); memset(g_wire_cmd,0,sizeof(g_wire_cmd)); if(err != 0) { memset(g_wire_rx_buf,0,MAX_WIRELESS_BUF); return false; //continue; } pC = strtok(g_wire_rx_buf," "); i=0; while(pC != NULL) { strcpy(&g_wire_cmd[i][0],pC); pC = strtok(NULL," "); i++; } memset(g_wire_rx_buf,0,MAX_WIRELESS_BUF); if(err == 0) { if(strstr(cmd,"AT+CIPSEND") != NULL) { return TRUE; } if(strstr(cmd,"AT+CWJAP") != NULL) { return TRUE; } if(strstr(cmd,"AT+CIPSTART") != NULL) { return TRUE; } if(strstr(cmd,"AT+CIFSR") != NULL) { return TRUE; } if(strstr(g_wire_cmd[0],"OK") != NULL) { return TRUE; } } return FALSE; }
工学社のその本を買ったのですが、サンプルも動かないほど、酷い誤植？内容でした。 工学社の本は信用していたのになぜなのでしょうか？ また、DXライブラリではなくDirectXでお勧めの本はありますか？
ダイアログベースのプログラムで、ダイアログを表示後にメッセージボックスを表示しようとして、下のプログラムのようにしたのですがダイアログが表示される前にメッセージボックスが表示されてしまいます。 ダイアログが表示された直後に１回だけ表示されるようにするにはどうすればいいですか？ #include<Windows.h> #include "resource.h" HINSTANCE hinst; INT_PTR CALLBACK dlgproc(HWND,UINT,WPARAM,LPARAM); int APIENTRY WinMain(HINSTANCE hInstance,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int nCmdShow) { hinst=hInstance; DialogBox(hinst,TEXT("mydlgmain"),NULL,dlgproc); } INT_PTR CALLBACK dlgproc(HWND hwnd,UINT msg,WPARAM wp,LPARAM lp) { TCHAR moji[]=TEXT("ダイアログ表示"); switch(msg) { case WM_INITDIALOG: MessageBox(hwnd,moji,TEXT(""),MB_OK); return(INT_PTR)TRUE; case WM_CLOSE: EndDialog(hwnd,LOWORD(wp)); return (INT_PTR)TRUE; } return(INT_PTR)FALSE; } --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語
ResEditを使いwidthを306に設定してダイアログボックスを作成したのですが、プログラム中にGetWindowRect関数を使い、そのダイアログボックスの横幅を調べてみると542という値が返されました。どうしてこのような違いが出るのでしょうか？ また、両方の数値を一致させるにはどうすればいいですか？ --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語
Windows10の上で、Visual Studio　Community2015 を使ってC++を勉強中の者です。 Time　クラスというのを定義して使おうとしましたが、クライアント側のプログラム作成中にエラーメッセージが出てきて、色々考えましたがどこが悪いのかわかりません。 プログラム自体は時刻を設定してそれを表示させるだけのものです。 詳しい方がいらっしゃいましたら、ご教授お願い致します。 問題のエラーメッセージ； "consoleApplication69.cpp"　を作成中にエディターの中で、波型の赤線が出ているところにカーソルを持っていくと、次の３か所でそれぞれ次のようなエラーメッセージが出てきます。 (1) #include "time3.h" のところ：　「ソースファイルをひらけません。"time3.h"」 (2) 関数 incrementMinute( )のプロトタイプのところ：「不完全な型は使用できません。」 (3) 最初のパラメーター Time & のところ：「識別子　Time が定義されていません。」 以下に、 1: 私が作ったTimeクラスの定義のあるヘッダー　"time3.h", 2: メンバー関数の定義ファイル　"time3.cpp" 3:クライアント側プログラム　"consoleApplication69.cpp" の３つのソースコードをコピーします。 "time3.cpp"　については長いので、上の半分だけにしました。 ****************************************************** 1: "time3.h" ******************************************************** #pragma once // header file for Time class // time3.h #ifndef TIME3_H #define TIME3_H class Time { public: Time(int = 0, int = 0, int = 0); ~Time(); void setTime(int, int, int); void setHour(int); void setMinute(int); void setSecond(int); int getHour(); int getMinute(); int getSecond(); void printUniversal(); void printStandard(); private: int hour; int minute; int second; }; #endif *********************************************** 2: "time3.cpp" ************************************************ #include <iostream> #include <iomanip> #include <cstdlib> #include <ctime> #include <cmath> #include <cstring> #include "time3.h" using namespace System; using namespace std; Time::Time(int hr, int min, int sec) { setTime(hr, min, sec); } void Time::setTime(int hr, int min, int sec) { setHour(hr); setMinute(min); setSecond(sec); } void Time::setHour(int hr) { hour = (0 <= hr && hr <= 23) ? hr : 0; } void Time::setMinute(int min) { minute = (0 <= min && min <= 59) ? min : 0; } void Time::setSecond(int sec) { second = (0 <= sec && sec <= 59) ? sec : 0; } ********************************************************* 3: "consoleApplication69.cpp" ********************************************************* // ConsoleApplication69.cpp : メイン プロジェクト ファイルです。 #include "stdafx.h" #include <iostream> #include <iomanip> #include "time3.h" using namespace System; using namespace std; //prototype void incrementMinute(Time &, const int); int main() { Time t; t.setHour(2); t.setMinute(10); t.setSecond(30); cout << " current time is "; cout << setfill('0'); cout << setw(2) << t.getHour() << ":"; cout << setw(2) << t.getMinute() << ":"; cout << setw(2) << t.getSecond() << "\n"; return 0; } // function void incrementMinute(Time &tt, const int num) { //　まだ未定義 } またソリューションエクスプローラーの画面写真も添付します。 ヘッダーファイルもインクルードしていますし、ソリューションの中に入れたつもりですが、なぜ　Time が定義されていないといわれるのでしょうか？ どうぞよろしくお願いいたします。
http://kidd0320.hatenablog.com/entry/2014/06/06/142355 EXEにDLLファイルを同梱するため、こちらのサイトを参考にしたのですが、ソフトを別のパソコンに入れたところ”MSVCP120D.dllがないため、プログラムを開始できません。” と表示されてしまいます。 開発環境はC++でOPENCVを使っています。 開発ソフトはMicrosoft Visual Studio Express 2013 for Windows Desktopを使っています。 構成はReleaseでプラットフォームはwin32です。 どうすればよいでしょうか。 どなたかご教授いただけないでしょうか。
ソートの時間計測について以下のようなプログラムを作成したのですが、ソートはうまく動きますが何度試しても処理時間が0.00000秒となってしまいます。どのように改良すればこのような問題を解決できるのでしょうか。ご回答よろしくお願いいたします。 #include <stdio.h> #include <time.h> #define SIZE 100 void swap(int data[], int s, int t){ int tmp = data[s]; data[s] = data[t]; data[t] = tmp; } void Bsort(int data[], int size) { int i, j; for(i=1; i<size; i++){ for(j=(size-1); j>0; j--){ if(data[j] < data[j-1]){ swap(data, j, j-1); } } } } void Ssort(int data[], int size){ int i, j, k, tmp; for(i=1; i<size; i++){ k = data[i-1]; for(j=i; j<size; j++){ if(k>data[j]){ tmp = k; k = data[j]; data[j] = tmp; } } tmp = k; k = data[i-1]; data[i-1] = tmp; } } void printArray(int ar[], int size) { int i; for (i = 0; i < size; i++) printf("%4d", ar[i]); printf("\n"); } int main(void) { int i, x; int data[SIZE]= {412, 54, 595, 329, 24, 488, 313, 272, 129, 210, 670, 516, 342, 541, 491, 640, 167, 117, 726, 206, 474, 762, 153, 292, 1000, 607, 151, 661, 93, 270, 737, 531, 641, 548, 299, 287, 547, 394, 550, 475, 443, 261, 707, 503, 403, 739, 226, 646, 778, 588, 427, 169, 477, 572, 413, 300, 88, 321, 55, 779, 542, 680, 211, 273, 288, 276, 405, 307, 424, 668, 756, 255, 190, 449, 35, 435, 91, 486, 58, 408, 4, 63, 534, 330, 701, 65, 256, 311, 586, 404, 459, 254, 291, 333, 42, 343, 418, 512, 164, 56}; clock_t t1,t2; printf("番号を入力してください。\n1,Bubble Sort\n2,Selection Sort\n"); scanf("%d", &x); switch(x){ case 1: printf("before:"); printArray(data, SIZE); t1 = clock(); Bsort(data, SIZE); t2 = clock(); printf(" after:"); printArray(data, SIZE); printf("処理時間:%f[ms]¥n", (double)(t2 - t1) / CLOCKS_PER_SEC); break; case 2: printf("before:"); printArray(data, SIZE); t1 = clock(); Ssort(data, SIZE); t2 = clock(); printf(" after:"); printArray(data, SIZE); printf("処理時間:%f[ms]¥n", (double)(t2 - t1) / CLOCKS_PER_SEC); break; } return 0; }
前回、 http://okwave.jp/qa/q9193570.html こちらのサイトでH8S2368にprintfを追加したい内容の質問をした者で、その続きです。 現在H8S2368が搭載されている基板で使用していなかったSCI0のUARTを次のコードの void mprint_test_sci0(char *fmt, ...) この新たに追加したmprint_test_sci0というprintf関数で出力できるようになりました。 https://github.com/KenjiMaehara/ios_apply_test/blob/20150720_test/H8S2368_console/console/console.c しかし、 mprint_test_sci0("test value"); この場合”test value”という文字列がちゃんと出力できます。 しかし、 mprint_test_sci0("test value %d %d %d %x \n\r",1,2,3,4); この場合、 ”test value 65538 196612 900554 ff587e” このように、%dの整数値の部分が全然違う値で出力されてしまいます。 別のコードで mprint_test_sci0("test value %d %d %x %x \n\r",1,1,1,1); この場合は ”test value 65537 65537 dbdca ff587e” このように出力されます。 正しい整数値をこのmprint_test_sci0のprintf関数で出力するにはどのように改善したらよいか、ご教示頂きますよう、よろしくお願い致します。
こんにちは。 できれば無料のアプリを探していますが有料でも構いません。 Visual C++ 2010 Expressで作られたアプリを使いたいので、 起動に必要なランタイムをDLしようにもVisual C++ 2010 Expressが見当たりません。 詳しい事が分からないのですが、 新しいVisual C++ 2016とかをインストールすれば、 代用が効き起動ができますか？ 現状でダウンロードできるものでベストのVisual C++はどれですか？
このような場面で、プレイヤーが倒されてしまったときに、 HPが0にならずに、残ってしまいます。 処理が上から下に向かって動いているためだと思いますが、 プレイヤーやモンスターが倒れた時に、画面の構成を変えずに、 HPを0にすることができるでしょうか？ int main(void) { system("cls"); //クリアー dungeon( /*　略　*/); //ダンジョン表示(ステータスの表示) player_turn( /*　略　*/);//キー入力(プレイヤーのターン) monster_turn( /*　略　*/); //モンスターのターン } return 0; } //ダンジョン表示 void dungeon(PC *pc, MC *mc) { for(y=0; y<10; ++y){ for(x=0; x<10; ++x){ if(pc->y==y && pc->x==x){ printf("%s", "＠"); }else if((mc->y==y) && (mc->x==x) && (mc->hp>=0)){ printf("%s", "Sk"); }else if(field[y][x]==9){ printf("%s", "■"); }else if(field[y][x]==8){ printf("%s", "□"); }else if(field[y][x]==7){ printf("%s", "＜"); }else{ printf("%s", "　"); } } status(pc, mc, y);　//ステータスのある場所 printf("\n"); } } //ステータス表示 void status(PC *pc, MC *mc, int y) { switch(y) { case 0:printf(" *****************************");break; case 1:printf(" %s Lv%3d HP%3d %3dG", pc->name, pc->lv, pc->hp, pc->gold);break; case 2:break; case 3:break; case 4:break; case 5:break; case 6:break; case 7:break; case 8:printf(" %s Lv%3d HP%3d %3dG", mc->name, mc->lv, mc->hp, mc->gold);break; case 9:printf(" *****************************");break; default:break; } }
前回、 http://okwave.jp/qa/q9191153.html こちらのサイトでH8S2368にprintfを追加したい内容の質問をした時の続きです。 現在、 イチから作って丸ごと学ぶ！ H8マイコン道（12）：シリアル通信でオリジナルprintf関数を作ろう (3/3) - MONOist（モノイスト） http://monoist.atmarkit.co.jp/mn/articles/1003/26/news096.html こちらのサイトの内容を参考に、printfのサンプルコードを追加してみました。 https://github.com/KenjiMaehara/ios_apply_test/blob/20150720_test/H8S2368_console/console/console.c しかし、コード追加後にコンパイルを実施すると次のようなエラーが発生します。 （コンパイルエラー内容） HMAKE MAKE UTILITY Ver. 2.1.00.000 Copyright (C) 2001,2006 Renesas Technology Europe Ltd. Copyright (C) 2001,2006 Renesas Technology Corp. and Renesas Solutions Corp. Executing Hitachi H8S,H8/300 C/C++ Library Generator01 phase set CH38TMP=C:\Users\KMAEH_~1\AppData\Local\Temp set PATH=c:\program files (x86)\renesas\hew\tools\renesas\h8\6_2_2\bin set CH38=c:\program files (x86)\renesas\hew\tools\renesas\h8\6_2_2\include Executing Hitachi H8S,H8/300 C/C++ Compiler02 phase "c:\program files (x86)\renesas\hew\tools\renesas\h8\6_2_2\bin\ch38.exe" -ws=C:\Users\KMAEH_~1\AppData\Local\Temp\hmk6689.tmp Executing Hitachi H8S,H8/300 Assembler03 phase Executing Hitachi OptLinker04 phase "c:\program files (x86)\renesas\hew\tools\renesas\h8\6_2_2\bin\LnkSpawn.exe" -subcommand=C:\Users\KMAEH_~1\AppData\Local\Temp\hmk6A82.tmp ** L2310 (E) Undefined external symbol "_mprint_test_sci1" referenced in "..\myproject\obj\main.obj" Optimizing Linkage Editor Abort ERROR: Process failed with return code: 1 mprint_test_sci1という関数の宣言は #include "all_includes.h" こちらのヘッダーファイルに （all_includes.hの内容の一部） extern void outs_sci1(char *, short); extern void outc_sci1(char, short); extern void outn_sci1(char, unsigned long, short); extern void mprint_test_sci1(char *fmt, ...); extern void charput_sci1(char OutputChar); このような形で宣言しています。 しかし、エラーが出てくるのですが、これをどのように解決すればよいのかご教示頂きますよう、よろしくお願い致します。
例えば、 union ary_tag{ unsigned char byte[23]; struct { unsigned char aa; unsigned char bb; unsigned char cc; unsigned char dd; unsigned char ee; 途中省略 unsigned char xx; unsigned char yy; unsigned char zz; }a_z; } union ary_tag ary; とした場合、ary.a_z.xxは、配列で言うと何番目になるかを取得したいです。 number = &ary.a_z.xx - &ary.a_z.aa として算出しました。 他にやり方はあるのでしょうか？
現在H8S2368マイコンを搭載した基板のプログラムのデバッグなどを行っています。 このボードではマイコンのUARTのSCI1をRS-232Cポートとして使用しており、外部ユニットに接続したりデバッグ時にはプログラム内にデバッグ用に設置したprintfのキャラクタ出力用のポートとして使用しています。 現在UARTのSCI0ポートが未使用の状態で、このポートにWiFiモジュールのESP-WROOM-02を接続したいと考えております。 WiFiモジュールのESP-WROOM-02との通信はSCI0ポートを介するのでプログラミングではprintf関数を使うと思うのですが、現在printf関数で書かれたコードはSCI1ポート専用となっているのですが、 printf関数使用時にSCI0で出力するのか、SCI1で出力するのかを選択するにはどのようにプログラムしたらよいのでしょうか？ なお、printfに関するプログラムはプロジェクト内のこれらのファイルで設定しています。 console.c lowsrc.c iodefine.h console.c内で宣言した”charput”、”charget”はlowsrc.cでしようされています。 どうぞ、ご教示の程よろしくお願い致します。 ------------------------(iodefine.hの内容)------------------------------------------------- #define CONSOLE_PSCI1 #define _CONSOLE_P_SCI1 -------------------------------------------------------------------------------------------------- -------------------------（console.cの内容）-------------------------------------------------- char charget(void); void charput(char); void PutStr(char *); #ifdef CONSOLE_DEBUG char charget(void) { char InputChar; while (CONSOLE_P.SSR.BIT.RDRF == 0) { /* ignore errors */ if ((CONSOLE_P.SSR.BYTE & ORER_FER_PER) != 0x00) CONSOLE_P.SSR.BYTE &= ~ORER_FER_PER; } InputChar = CONSOLE_P.RDR; CONSOLE_P.SSR.BIT.RDRF = 0; charput(InputChar); return (InputChar); } void charput(char OutputChar) { while ((CONSOLE_P.SSR.BIT.TDRE) == 0); CONSOLE_P.TDR = OutputChar; CONSOLE_P.SSR.BIT.TDRE = 0; } void charput_sci1(char OutputChar) { while ((CONSOLE_P_SCI1.SSR.BIT.TDRE) == 0); CONSOLE_P_SCI1.TDR = OutputChar; CONSOLE_P_SCI1.SSR.BIT.TDRE = 0; } void PutStr(char *str) { while (*str != '\0') charput(*str++); } #else char charget(void) { } void charput(char OutputChar) { } void PutStr(char *str) { } #endif --------------------------------------------------------------------------------------------------
C++の基本学習者です。Windows 10 で　Visual Studio Community 2015　を使っています。 教本に載っている、機械語のプログラムをC++でシミュレーションする、というものを作ろうと、途中まで下のようなコードを書き込み、そこまで間違いがないかを確かめるために、コンパイルして実行したら、添付の写真のようなエラーメッセージが出てきました。 // ConsoleApplication65.cpp : メイン プロジェクト ファイルです。 #include "stdafx.h" #include <iostream> #include <iomanip> #include <cstdlib> #include <ctime> #include <cmath> #include <cstring> using namespace System; using namespace std; int main() { // variables int program = 0; int accumulator = 0; int count = 0; int instructionRegister = 0; int operationCode = 0; int operand = 0; int location[100]; cout << "*** Welcome to Simpletron ***" << endl; cout << "*** Please enter your program ***" << endl; cout << "*** one instruction at a time,***" << endl; cout << "*** after the location number and and the prompt of '?' ***" << endl; cout << "*** To stop entering instructions, ***" << endl; cout << "*** enter -9999 . ***" << endl << endl; cout << setfill('0') << internal; cout << setw(3) << count << " ? "; cin >> program; while (program != -9999) { location[count] = program; count++; } return 0; } while ループに問題がありそうですが、コンパイルはちゃんとできたのに、何が悪いのでしょうか？　詳しい方、どうぞ教えてください。お願いします。
現在、組み込み系のソフト開発を行っています。 ファイルが、main.c と sub.c があります。 main.cで 　#define　kcode　0x01 と定義します。 その後、 sub.cでこのkcode の値を参照したいため、 #if kcode == 0x01 #endif と書きましたがコンパイルエラーになりました。 仕方なく、main.cで const unsigned char kcode 0x01; と書いて、sub.cで extern unsigned char kcode; if(kcode == 0x01){ } と書きました。 これしか方法がないのでしょうか？ よろしくお願いします。
　こんばんは Visual Studio 2012 でDirectX SDKを取り入れたいのですが プロジェクト毎に設定していたら面倒くさくてかなわないです。 そこでプロジェクト作成毎に再設定しないような設定はどうすれば できるでしょうか？ サイトを見てみてもあまりなのですごく困っています。
C言語の変数について教えていただきたいです。 C言語で下記のような設定をした場合、変数A、Bに設定する値にはバイト数制限 はないのでしょうか？ バイト数制限がなくなる場合、なぜそうなるのかを教えていただきたいです。 よろしくお願いします。 #include <stdio.h> void test( char **B); int main( int argc, char *argv[] ) { char *A = NULL; char *B = NULL; A = argv[1]; test( B ); return 0; } void test( char **B ) { strcpy(B, "ABCD"); return 0; }
Visual Studio 2015　を使ってC++のコンソールアプリケーションを作る練習をしています。 ソースプログラムは印刷できるのですが、プログラムを実行してコンソールに出力された結果を印刷するにはどうすればよいのかわかりません。どなたか教えて頂けるとありがたいです。
C言語で画面に図形や絵を描画するインクルードファイル？って、標準でありますか？ C、どどどどどどドッ素人です。 昨日、やっとHello Wordができた程度です。 これから、C言語を覚えようと思うのですが、描画関数が見つかりません。 C言語は描画関数はデフォルトで入っていないのでしょうか？(windowsやmac、Linuxなどでも) stdio.hは、どのOSにも基本入ってます。 描画関数はstdio.hのように、ありますか？
現在、C++言語を学習しているのですが、 ポインタを使わない、 int main() { Human human; human.Introduction(); } と、ポインタを使った、 int main() { Human *p; p = new Human; p->Introduction(); delete p; } があります。どちらも同じ動作をしますが、ポインタを使ったものがよく使われているのは、 メモリの節約？動作速度?のためなのでしょうか？ なぜ使われるのか教えてください。
Visual Studio Community2015　を使用しているのですが、 メニューのプロジェクト＞プロパティで表示されるウィンドウの左側に構成プロパティ、全般..... とありますが、そこに C/C++の項目がありません。 これはどうすれば項目が出るようにできますか？
私はC++でWPFを使いたいと思っています。 しかしWPFはC#とVBでしか使えないと言われています。 そこで、WPFでアプリを作る利点を知りたいです。 わざわざC++でWPFでアプリを作る必要はないのでしょうか？ WPFは簡単にWindowsアプリを作れるとあるのですが、MFCや.NET FrameWorkで作成して も変わらないのでしょうか？
題名の通り、文字として,(カンマ)、"(ダブルクォート)を使用するCSVファイルの取り扱いについて教えて頂きたいです。 読み込むCSVファイルの形式は以下の通りです。 ・項目の最初と最後には"が設定される ・項目内の,は文字として扱う 例："5,000" 5の後の,は項目内に設定されている為、文字として扱う ・項目内に"を設定する場合は""と設定する ・レコードは改行コード単位 例："A","5,000","B","C""D""" 1項目目："A" 2項目目："5,000" 3項目目："B" 4項目目："C""D""" 上記の様なCSVファイルを読み込み、項目を取得するにはC言語ではどの様に対応するべきでしょうか。 下記方法で対応出来そうですが、効率が非常に悪いと思われます。 (1)fgetsにて1行分のレコードを読み込む。 (2)取得したレコードに対して、カンマを指定してstrtokを実行し、,間の値を取得する。 (3)取得したカンマ間の項目のダブルクォートの数をカウントする。 (4)-1カウント数が偶数の場合 ,を区切り文字とし、取得した値を1項目として扱う。 (4)-2カウント数が奇数の場合 ,を文字とし、次のカンマ間の項目を取得し、連結する。 連結した値のダブルクォート数をカウントし、カウント数が奇数か偶数か判定する。 (5)上記処理をstrtok結果がNULLになるまで繰り返し、NULLが帰ってきたら次の行のレコードを読み込む。 (6)上記処理をEOFまで繰り返す。 以上、よろしくお願いします。
visual studio 2008 c++　を用いて 0x00～0xFFの任意のバイトをシリアル通信で送受信するプログラムを書いています。 0ｘ00(NUL)を含んだ文字列は、文字列処理関数では処理出来ないので、以下のようにプラグラムを書くと文字列の最後を示すのに NULL を使っている処理系なので、文字列として読み込みをしているため，NULLで止まってしまいます。 -------------------------------------------------------- 略 DWORD dwWritten; char sendBuf[32]={0}; sendBuf[0] = 0x02; //02 STX sendBuf[1] = 0x00; //00 長 sendBuf[2] = 0xC0; //C0 取得コマンド sendBuf[3] = 0x10; //10 取得コマンド sendBuf[4] = 0x03; //03 ETX sendBuf[5] = 0xD0; //D0 Sum WriteFile(hComm, sendBuf, 6, &dwWritten, NULL); //hComm 指定ポート， 略 -------------------------------------------------------- そこで，送信データをバイナリデータとして扱う関数を使う必要があると思います。 ただ，いろいろ調べたのですが，バイナリデータとして読み書きする関数が分からず困っています。 そのため，バイナリデータとして扱う関数とその使用例を教えていただきたいです。 プログラム初心者のため，問題解決のために必要なコードや情報が不足していることがあるかと思います。 その際にはご指摘いただきたいと思います。
プログラム初心者です。 現在，visual Studio 2008 c++でRS-485　シリアル通信プログラムを書いています。 使用しているのは変位計なのですが，その仕様書には送信コマンドが 02 00 20 1b 03 ３B と表記されています。 00は0ｘ00でNULLとなってしまうと思うのですが、NULLの送信は可能なのでしょうか。 現在書いているプログラムのコマンド送信について書いた部分を以下に示します。 -------------------------------------------------------- 略 DWORD dwWritten; char sendBuf[32]={0}; sendBuf[0] = 0x02; //02 STX sendBuf[1] = 0x00; //00 長 sendBuf[2] = 0xC0; //C0 取得コマンド sendBuf[3] = 0x10; //10 取得コマンド sendBuf[4] = 0x03; //03 ETX sendBuf[5] = 0xD0; //D0 Sum WriteFile(hComm, sendBuf, 6, &dwWritten, NULL); //hComm 指定ポート， 略 -------------------------------------------------------- エラーコード等は省略しています。 指定のポートは開くことができたのは確認したのですが、NULL文字以降がコマンドとして送信できているのか分かりません。 また，その後に ReadFile(hComm, yomiBuf, dwCount, &dwRead, NULL); で受信コマンドを読み込んでいるのですが、NULL以降が読み込めません。 このようなNULL（0ｘ00）のシリアル通信での送受信は可能なのでしょうか。 ご意見よろしくお願いいたします。 また，なにぶん初心者であるため，問題解決のために必要なコードや情報が不足していることがあるかと思います。 その際にはご指摘いただきたいと思います。
#include "DxLib.h" int WINAPI WinMain(HINSTANCE,HINSTANCE,LPSTR,int) { ChangeWindowMode(TRUE); SetDrawScreen(DX_SCREEN_BACK); if(DxLib_Init()==1) { return -1; } char key[256]; // int haikei; int mapchip[2][152]; int i,j; //int x = 0, y = 0; //haikei = LoadGraph("haikei/草原.jpg"); LoadDivGraph("03.png",5,1,5,32,32,mapchip[0]); LoadDivGraph("mura.png",1,1,1,32,32,mapchip[1]); while(ScreenFlip()==0 && ProcessMessage() == 0 && GetHitKeyStateAll(key)==0) { // ClearDrawScreen(); // DrawGraph(x,y,haikei,FALSE); for(i = 0; i<15;i++) { for(j=0;j<20;j++) { DrawGraph(j*32,i*32,mapchip[0][4],FALSE); } } DrawGraph(32,32,mapchip[1][0],TRUE); /* if(CheckHitKey(KEY_INPUT_RIGHT) == 1) x+=10; if(CheckHitKey(KEY_INPUT_LEFT) == 1) x-=10; if(CheckHitKey(KEY_INPUT_UP) == 1) y-=10; if(CheckHitKey(KEY_INPUT_DOWN) == 1) y+=10; */ if(key[KEY_INPUT_ESCAPE] == 1) { DxLib_End(); return 0; } } } 「DrawGraph(32,32,mapchip[1][0],TRUE);」という処理でmura.pngの左上のカラーキーで透過するはずですがしません。 Win10のペイントで作ったpngファイル形式に対応してないかと思うのですが、よくわかりまえん。 なぜ？
現在ラズベリーパイでpythonでTCPクライアントを作っています。 現在サーバーに次のようなパケットを送信したいと思っているのですが、このC言語の構造体を同じバイト数で出力するようにpython言語にすることは可能でしょうか？ どうぞ、ご教示いただきますよう、宜しくお願い致します。 typedef struct _PAYLOAD_ALIVE_ { BYTE MacAddr[6]; WORD Port; BYTE Relay; BYTE Set; BYTE AliveTime; BYTE SensorLen; BYTE Mail[40]; WORD Model[20]; BYTE testArea[4]; BYTE SWVer[4]; BYTE testSensor[16]; }PL_ALIVE;
list1210.cプログラム中に<math.h>などを使った時に clang -o list1210 list1210.c でコンパイルを試してみてもエラーが起こるので 調べてみると clang -lm list1210.c とすれば良いことがわかったのですが これの保存名（？）が a.outになっています。 これを「list1210」として保存（？）する方法はないでしょうか よろしくおねがいします。
「明解C言語　入門編」p262の演習１１－４についての質問です。 このサイトも参考にしてみて、 入力された文字の大文字小文字を反転するプログラムをvimで書いてみたのですが #include <stdio.h> #include <ctype.h> void str_toupper(char *str) { while (*str = toupper(*str)) { *str++; } } void str_tolower(char *str) { while(*str = tolower(*str)) { *str++; } } int main(void) { char str[100]; printf("文字列を入力してください："); scanf("%s", str); str_toupper(str); printf("大文字：%s\n", str); str_tolower(str); printf("小文字：%s\n", str); return(0); } clangを用いてコンパイルすると4warnings generatedと出ます。 ------------------------------------------------------------ ex11-4.c:6:13: note: use '==' to turn this assignment into an equality comparison while(*str = toupper(*str)){ ^ ------------------------------------------------------------- こんなのや ---------------------------------------- ex11-4.c:7:3: warning: expression result unused [-Wunused-value] *str++; ^~~~~~ ---------------------------------------------------- といった警告が表示されます。 どこをどう訂正すれば良いのでしょうか。 よろしくお願いします。
現在、あるクライアント型のTCP端末でサーバーに対して送信するデータをwiresharkでキャプチャし、全く同じデータをraspberry pi3のpythonで送信できないかと思い、次のようなプログラムを作成しました。 testという配列に1212バイト分のデータを作成（ print(len(test)))で1212byteを確認）し、sock.send(test)で送信したのですが、サーバーのアプリケーションにデータの受信を確認したという表示が出てこないため、ラズパイから送信されたTCPのパケットをwiresharkで確認したところ 1212byteで作成したはずのデータの長さが実際には1448byteとなっていることが分かりました。 パケット全体の大きさは通常の端末では1266byteのところ、ラズパイでは1514byteとなっていました。 1514 - 1266 = 248byte分は調べたところ配列testの 0x4d,0x45]) この後ろに0x00,0x00......が続いているようです。 このデータの長さを1212byteに変更することは可能かどうか教えていただきますよう、よろしくお願い致します。 （pythonのコード内容） from __future__ import print_function import socket import time import numpy as np from contextlib import closing def main(): host = '192.168.1.158' #host = '192.168.1.52' port = 5000 bufsize = 4096 loop= 0 testStr = "Hello world" test=np.array([0x88,0x88,0x88,0x53,0x00,0x01,0x00,0x00,0x88, 0x88,0x88,0x00,0x0c,0x04,0x13,0x89,0x01, 0x01,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, ---------------------(中略)------------------------------------------------------------------ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01, 0x4d,0x45]) print(len(test)) sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) with closing(sock): sock.connect((host, port)) while 1: sock.send(test) #sock.send(b'20160001 Hello world'+ str(loop) + "\n") #sock.send(testStr) #sock.send(b'Hello world\n') time.sleep(10.0) loop += 1 #print(sock.recv(bufsize)) #return if __name__ == '__main__': main()
VisualStudio2008でアプリケーションを開発していますが、 WindowsXP(32bit)と、Windows7以降(64bit)の両方の環境で動作させる必要があります。 ソースコードは共通で、別会社から提供されているlibのみ32bit/64bitの切り替えが必要になります。 このような場合、1つのプロジェクトで何かの設定を少し変更するだけで32bit/64bitを切り替えるということは可能でしょうか。 ※VisualStudioですと、Debug/Releaseモードによってlibファイルのビルドの有無を設定できますが、そのようなイメージです。
ラズパイのpythonを使って、windowsPCにVisual Studio 2013で作った簡易のtcpサーバーに接続して、１秒ぐらいの感覚で適当な文字データを送信して、サーバー側に表示するようにしたいと思っています。 しかし、サーバー側で表示する際に $ sudo python tcp_client1.py これで動かしているクライアントの起動を停止しないとサーバー側のテキストを表示するボックスに文字が表示されない現象が出ています。 いろいろと調べてみたところ、サーバー側の while(client.Connected) { receive = STR.ReadLine(); this.textBox2.Invoke(new MethodInvoker(delegate () { textBox2.AppendText("You : " + receive + "\n"); })); receive = ""; } ラズパイ側で起動しているクライアントプログラムの $ sudo python tcp_client1.py これが起動している最中は receive = STR.ReadLine(); このコード部分でずっとペンディング状態のようで、$ sudo python tcp_client1.pyを強制終了後に次の行の this.textBox2.Invoke(new MethodInvoker(delegate () { textBox2.AppendText("You : " + receive + "\n"); })); こちらに進むようで、このタイミングでテキストがボックスに表示されるような感じになります。 クラインアント側のコードは from __future__ import print_function import socket import time from contextlib import closing def main(): host = '192.168.11.14' port = 9000 bufsize = 4096 sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) with closing(sock): sock.connect((host, port)) while 1: sock.send(b'Hello world') time.sleep(1.0) #print(sock.recv(bufsize)) #return if __name__ == '__main__': main() このような感じです。 １秒間隔で適当なテキスト文字”Hello world”を送信しているのですが、それを送信したらそれごとにサーバー側のテキストボックスに表示するようにするにはどうしたら良いのかご教示いただきますよう、よろしくお願いします。
//DMusic7Ex.h あるプログラムを解析しています。 //コンパイラ設定 //多重定義防止 #pragma once //ファイルインクルード #include <dmusicc.h> #include <dmusici.h> //型定義 typedefIDirectMusicPerformance* LPDIRECTMUSICPERFORMANCE; typedefIDirectMusic* LPDIRECTMUSIC; typedefIDirectMusicLoader* LPDIRECTMUSICLOADER; typedefIDirectMusicSegment* LPDIRECTMUSICSEGMENT; //関数プロトタイプ １・DMusic7Ex.cppを作らず他の関数で、このヘッダーファイルをインクルードする手法は一般的なのか？ ２・なぜ関数プロトタイプを記述しないで、このタイプ宣言を他のファイルで使用するのは一般的なのか？
こんにちは。 C++の勉強をしているのですが、事前呼び出しマクロである __PRETTY_FUNCTION__とか__func__が呼び出させません。 パソコンで、Visual stdio 2012 expressを使っています。 __PRETTY_FUNCTION__や__func__を使うのにはどうすればいいのでしょうか？ gccの特別仕様とかいっているのを見たことがあるのですが そうじゃない場合どうすればいいのでしょうか？
明解C言語入門編のp196にあるList8-7 再帰を用いて２つの整数の最大公約数を求めるプログラムなんですが #include<stdio.h> int gcdf(int vx, int vy) { return(vy == 0? vx: gcdf(vy,vx&vy)); } int gcd(int va, int vb) { return(va>vb? gcdf(va,vb): gcdf(vb,va)); } としてmainの中で入力された２つの整数n1,n2を 最大公約数としてgcd(n1,n2)を表示させるのですが、 （１，２）とか（２，４）などの再帰が１度しか行われない（？）プログラムでは ちゃんと結果が表示されるのですが、 （４，６）など再帰が２度以上行われるプログラムになると segmentation fault(コアダンプ） と表示されます。 どこに問題があるのでしょうか OSはubuntu14.04 エディタはvim コンパイラはclangです。 よろしくお願いします。
C#のpictureBoxの描画について質問します。 drawにpictureBoxの描画コードが有りますがあり、Form1() の InitializeComponent();の 後（コードA）では、描画できませんが、button1_Click（コードB）では、描画できるようです。 Q1)プログラムの起動時に、描画できる方法はありますか？ public Form1() { InitializeComponent(); 処理コード draw(); //コードA } private void button1_Click(object sender,EventArgs e) { draw(); //コードB }
二分木探索で特定の要素の有無を調べる関数は作れたのですが、Ｎ番目に小さい要素を見つける方法が思い浮かびません。 二分木探索でN番目に小さい(昇順でＮ番目)の要素を探索するにはどのような手法があるのか教えて頂けないでしょうか？ よろしくお願い致します。
ポインタの宣言で次のように宣言します。 int *p1,p2; p1はポインタですが、p2はポインタになるのでしょうか。 それとも普通のp2という変数になるのでしょうか。 友人との間で意見が分かれています。
下記のプログラムは、MSのダイナミックライブラリの作成と使用(C++)を 参考にして作成したライブラリと、その使用側の プログラムコードです。 共に、VS2013のC++で作成しています。 Q1)　プログラムの作成をVS2013のC#に変更しまして、同様なプログラムが出来ますか？ 注）下記のライブラリの部分は、そのまま使用して。 お手数ですが、宜しくお願いします。 ライブラリ（Releaseフォルダーの中）： MathFuncsDll.dll MathFuncsDll.exp MathFuncsDll.lib MathFuncsDll.pdb 使用側プログラムコード（VS2013のC++） //Project:c:\wk_VS2013\TT_DllLibrary\TT_DllLibrary.sln #include "stdafx.h" #include <conio.h> //MSのダイナミックライブラリの作成と使用(C++)で作成したライブラリのヘッダー #include "Release\\MathFuncsDll.h" //using namespace std; #pragma comment( lib, "Release\\MathFuncsDll.lib" ) //========================== int _tmain(int argc, _TCHAR* argv[]){ //使い分け？ //int main(){ double ans, a, b; a = 1.2; b = 5.6; ans=MathFuncs::MyMathFuncs::Add(a,b); fprintf(stdout, "a=%lf b=%lf ans=%lf です\n", a,b,ans); int aa = _getch(); return 0; }
VS2013のC++のlibの指定に関した質問です。 下記のコードの代わりに、プロジェクトのリンカーオプション（一覧表の中の項目）で 指定できますか？ #pragma comment( lib, "Release\\MathFuncsDll.lib" ) 以上、宜しくお願いします。
　トラックバーの範囲を設定するときに最大値を98304以上にするとトラックバーのつまみを動かせなくなるのですが、これはトラックバーの仕様なのでしょうか？ 　これ以上の値を設定しても正常に動かす方法があったら教えてください。 <最大値の設定部分> InitCommonControls(); SendMessage(hbar,TBM_SETRANGE,TRUE,MAKELPARAM(0,98304)); --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語
Class1からForm1のtextBox1にアクセスする件、oboroxxさんの明快な回答を 参考にしまして、何とか下記の様にコードの実装が出来ました。 初めての事ですから、コメント頂けますと、大変有難いです。 追加質問： Q1)　button1_Clickの中に、『Class1 obj=new Class1();』があります。 ここで、newで作られました、objはGCの対象になりますか？ いや、そうではなく、button1_Clickが終了すると、objは消滅しますか？ お手数ですが、宜しくお願いします。 ============================ using System; using System.Windows.Forms; namespace TT_SendMessage { public partial class Form1:Form { public Form1() { InitializeComponent(); } public void write_textBox1(string str){ textBox1.Text=str; //<---OK Console.WriteLine("VVVVVVVVVVVVVv"); } private void button1_Click(object sender,EventArgs e) { Class1 obj=new Class1(); obj.fm1_pr=this; obj.bbb(); //write_textBox1("aaa"); //<---OK } }// public partial class Form1:Form { //================ class Class1 { private Form1 fm1=new Form1(); public Form1 fm1_pr { set { this.fm1=value;} get { return this.fm1;} }//Form1 fm1 public void bbb() { fm1.write_textBox1("bbb");//non_static } }//class Class1 { //================ } 以上、宜しくお願いします。
C#(VS2013)のtextBox1への書込に関する質問です。 『textBox1.Text=str;』による、textBox1の書き込みは、『button1_Click』 の中から、直接『//write_textBox1("aaa"); 』を実行すれば出来ます。 しかし、Class1のtestを介して、『write_textBox1("bbb");』を実行した場合には textBox1に表示が出来ません。 尚、Consoleには、何れの場合にも表示出来ます。 Q1)Class1のtestを介して、textBox1への表示は可能ですか？ =========== using System; using System.Windows.Forms; namespace TT_SendMessage { public partial class Form1:Form { public Form1() { InitializeComponent(); } public void write_textBox1(string str){ textBox1.Text=str; Console.WriteLine("VVVVVVVVVVVVVv"); } private void button1_Click(object sender,EventArgs e) { Class1 obj=new Class1(); obj.test(); //write_textBox1("aaa"); //<---この場合は、表示が出来る } }// public partial class Form1:Form { class Class1 { public void test() { bbb(); } public void bbb() { Form1 obj=new Form1(); obj.write_textBox1("bbb"); } }//class Class1 { } =============== 以上、宜しくお願いします。
C#(VS2013)の漢字、数値変換に関する質問です。 下記のコードは、文字を数値、数値を文字に変換するものです。 この場合、文字が"A"の場合は、相互に変換できますが、 文字が　"換"　の場合は、変換出来ません。 Q1)この件に関しまして、回答、コメント頂けますと大変有難いです。 //Project: c:\wk_VS2013ACs\TT_CharCLR.sln using System; using System.Text; public static class Program { public static void Main() { Char c; Int32 n; string str = "シフトJISへ変換"; Encoding sjisEnc = Encoding.GetEncoding("Shift_JIS"); byte[] bytes = sjisEnc.GetBytes(str); Console.WriteLine(BitConverter.ToString(bytes)); // 出力：83-56-83-74-83-67-4A-49-53-82-D6-95-CF-8A-B7 // Convert number <-> character using C# casting // c = (Char)0x95CF; 変 // c = (Char)0x8AB7;　換 //c = (Char)65; c = (Char)0x8AB7; //<------旨く行かず Console.WriteLine(c); // Displays "A" n = (Int32)c; Console.WriteLine(n); // Displays "65" c = unchecked((Char)(65536 + 65)); //============= Console.WriteLine(c); // Displays "A" // Convert number <-> character using Convert c = Convert.ToChar(65); Console.WriteLine(c); // Displays "A" n = Convert.ToInt32(c); Console.WriteLine(n); // Displays "65" // This demonstrates Convert's range checking try { c = Convert.ToChar(70000); // Too big for 16 bits // c = Convert.ToChar(0x95CF); // Too big for 16 bits Console.WriteLine(c); // Doesn't execute } catch(OverflowException) { Console.WriteLine("Can't convert 70000 to a Char."); } // Convert number <-> character using IConvertible c = ((IConvertible)65).ToChar(null); Console.WriteLine(c); // Displays "A" n = ((IConvertible)c).ToInt32(null); Console.WriteLine(n); // Displays "65" Console.ReadKey(); }//public static void Main() { }//namespace
macのターミナルで gcc ファイル名.c を実行すると a.c:3:10: fatal error: 'mbstring.h' file not found #include <mbstring.h> _______^__________ 1 error generated. というエラーメッセージが出ます。 ソースはネット上から持ってきたもので他の方は正常にコンパイルできているようでした。 エラーメッセージからみても環境の違いでmbstring.hがないことが理由のように見えるのですが、インストールする方法がわかりません。 よろしくおねがいします。 ※エラーメッセージ内の＿は^のいちを調節するためのものです。
wavファイルを再生するプログラムを勉強中なのですが、下のプログラムをビルドすると error C2055: 型リストではなく、仮パラメーター リストが必要です。 warning C4047: '関数' : 間接参照のレベルが 'MCIDEVICEID' と 'void *' で異なっています。 warning C4024: 'mciSendCommandW' : の型が 1 の仮引数および実引数と異なります。 という警告が出ます。 いろいろ試した結果、ソースファイルの拡張子をcからｃｐｐに変更したら警告が消えたのですがどうして拡張子がＣのソースファイルでビルドすると警告がでるのか理由が全く分かりません。 拡張子を変更しないで警告を出さないようにするにはどこを直せばいいのでしょうか？ --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語 #include<Windows.h> #include "resource.h" #include<MMSystem.h> #pragma comment(lib,"winmm.lib") HINSTANCE hinst; INT_PTR CALLBACK dlgproc(HWND,UINT,WPARAM,LPARAM); int WINAPI WinMain(HINSTANCE hInstance,HINSTANCE,LPSTR,int nCmdShow) { hinst=hInstance; DialogBox(hinst,TEXT("mydlg"),NULL,dlgproc); return 0; } INT_PTR CALLBACK dlgproc(HWND hwnd,UINT msg,WPARAM wp,LPARAM lp) { static MCI_OPEN_PARMS mop; static MCI_PLAY_PARMS play; switch(msg) { case WM_INITDIALOG: mop.lpstrDeviceType=TEXT("WaveAudio"); mop.lpstrElementName=TEXT("C:\\Users\\test.wav"); mciSendCommand(NULL,MCI_OPEN,MCI_OPEN_TYPE | MCI_OPEN_ELEMENT,(DWORD_PTR)&mop); mciSendCommand(mop.wDeviceID,MCI_PLAY,NULL,(DWORD_PTR)&play); return (INT_PTR)TRUE; case WM_CLOSE: EndDialog(hwnd,LOWORD(wp)); return (INT_PTR)TRUE; break; } return(INT_PTR)FALSE; }
new Thread以下のコードを分解できますか？ ====================== private void button1_Click(object sender,EventArgs e) { new Thread(new ThreadStart(delegate() { AllocConsole(); //開始============== for(uint i = 0;i < 100;++i) { Console.WriteLine("Hello " + i); } FreeConsole(); //終了============== })).Start(); } =================== 以上
お世話になっております。以下のC++コードの意味が分からず苦戦しております。 皆さまのお知恵を拝借いたしたく、宜しくお願いいたします。 VarA* Param_p() { return m_parentParam_p->Param_p(); } これはParam_p()という配列が呼ばれたら、m_parentParam_pの値をParam_p()という配列に入れなさいという意味でしょうか？ ->の意味がよく分からないのと、VarA*とアスタリスクが出ている意味が分かりません。アスタリスクがポインタであるのは分かったのですが、なぜここで、必要になるのかが分かりません。 上記の件、出せる情報が少なくこれだけでは難しいのかもしれませんが、教えていただけるとたすかります。 宜しくお願いいたします。
C#を用いてデスクトップマスコットを制作しているのですが、Formを画面の下に固定する方法がわかりません。 誰か教えてくれませんでしょうか？ 対象のフレームワークのバージョン .NET Framework 4.5.2
Q1) C#(VS2013)のForm上に配置しました、mouseClick(...)を、Workerスレッドから 割込み起動する方法はありますか？ mouseClick(...)とWorkerスレッドに関しましては、下記のコードを参照ください。 ================== private void mouseClick(object sender,MouseEventArgs e) { //これも動作する、１ピクセル単位で描画 Invalidate(); //Invalidate()は、mouseClickルーチンを抜けてからその効力を発行 } public class Worker { // Form1 fm1=new Form1(); int CNT=0; static System.Diagnostics.Stopwatch sw=new System.Diagnostics.Stopwatch(); public void DoWork() { while(!_shouldStop) { //JOB======== while(Form1.flag_DRAWSRT==true && CNT<400) ; //CNT<400必要 //========================= ここに、mouseClick(...)を起動するコードを書きます（その質問です） //========================= //Form1.flag_DRAWSRT=true; //fm1.pictureBox1_drawA(); Thread.Sleep(100); //fm1.OnPaintA(); //=========== if(CNT==0) { sw.Reset(); sw.Start(); } if(CNT>400) { _shouldStop=true; Console.WriteLine("Period[ms]="+sw.Elapsed); } CNT++; } Console.WriteLine("worker thread: terminating gracefully."); } public void RequestStop() { _shouldStop = true; } public void RequestStart() { _shouldStop = false; } // Volatile is used as hint to the compiler that this data // member will be accessed by multiple threads. private volatile bool _shouldStop=false; }//public class Worker { 以上、宜しくお願いします。
こんばんは。 c++/cliは初めていろいろ戸惑っているところなんですが、variant型というのは扱えるのでしょうか? COMですとVARIANT構造体とか、_variant_tがあったと思うのですが、c++/cliではどのクラスを使えばよろしいのでしょうか?
Class1からClass2にある関数の引数にラムダ式で関数を渡すようなプログラムを作ろうと思い、以下のようにコードを記述しました。 #include <iostream> class Class1 { int i = 0; void func() { std::cout << "Hello world" << std::endl; } void init() { Class2 *class2 = new Class2(); class2->setFunc([this] { func(); i++; }()); } }; class Class2 { void(*mFunc)(); void runFunc(){ mFunc(); } public: void setFunc(void func()) { mFunc = func; } }; すると class2->setFunc([this] { func(); i++; }()); のところで「型"void"の引数は型"void(*)()"のパラメーターと互換性がありません」というエラーが発生してしまいます。 キャプチャにthisを渡したラムダ式を他のクラスの関数ポインタのような変数に代入させるようにしたいのですがどのように記述したらできますか
#include<stdio.h> int main(void){ int year; printf("西暦年を入力してください:"); scanf("%d", &year); 　　　　　if (year % 4 == 0) printf("夏季五輪\n"); if (year % 2 == 0 && year % 4 != 0) printf("冬季五輪\n"); if (year % 2 != 0) printf("五輪なし\n"); return 0; } この部分は、 　　　　if (year % 4 == 0) printf("夏季五輪\n"); if (year % 2 == 0 && year % 4 != 0) printf("冬季五輪\n"); if (year % 2 != 0) printf("五輪なし\n"); なぜこうなるのか説明してください。 五輪が開催されるのは、４年ごとらしいのですが、 レベルの低いかもしれない、質問ですが、どうか解りやすく なぜこうなるのか教えて下さい、よろしくお願いします。
#include<stdio.h> int func(int, int); int main() { int a, b, c; a = 10; b = 20; c = func(a, b); printf("%d x %d" = %d\n", a, b, c) return 0; } int func(int a, int b) { int c; c = a * b; return c; } エラーが出てしまうのですが、どうしてエラーが出るのか教えて頂けないでしょうか？ エラー一覧です。 ------------------------------------------------------------------------------------------------------------------------------- 配列型　const char[8]を割り当てることはできません。　14行目 ;がreturnの前にありません　　　　　　　　　　　　　　16行目 式は変更可能な左辺値である必要があります　　　　　　14行目 ;が必要です　　　　　　　　　　　　　　　　　　　　　16行目 よろしくお願いします。
if（num % 2) とするときnumが２で割り切れ「ない」とき つまり（）内が「偽」であるときｐutsの文が表示されます。 if(num == 0) とするときnumが０のとき つまり（）内が「真」であるときputsの文が表示されます。 （）内が非０になるか０になるかというのはわかるのですが 「真」か「偽」かでみると逆になってしまってわかりにくいので 常に if(num != 0) として０じゃ「ない」とき つまり（）内が「偽」であるときputsの文を表示させれば 常に（）内が「偽」のとき表示されるのでわかりやすいと思ったのですが この先これでやっていくとうまく行かないことが出てきますでしょうか。 簡単なうちに慣れていますべきでしょうか。 それともこのようにやっても問題ないのでしょうか。 皆様はどのようにしているのか教えてください。 よろしくおねがいします。
C言語やっているのですが、ソースを見やすくするために、 Ctrl + A を使って全体を範囲してから、Ctrl + D を押すのですが、何もおきません。 何か設定しないと、Ctrl + D のショートカットキーは使えないのでしょうか？ ご教示よろしくお願いします。
現在、win32APIのGetOpenFileName()を利用して、音声ファイル（wav形式）を選択し、その選択した音声ファイルの情報を取り出すことを考えています。 プログラム自体が長いのですべて載せることが出来ないのですが、関連する部分だけピックアップすると、 main.c内で static OPENFILENAME ofn = { 0 }; static TCHAR strFile[MAX_PATH]; //ダイアログボックスが生成されたら case WM_INITDIALOG: ofn.lStructSize = sizeof(OPENFILENAME); ofn.hwndOwner = hWnd; ofn.lpstrFilter = TEXT("WAVファイル(*.wav)\0*.wav\0"); ofn.lpstrFile = strFile; ofn.nMaxFile = MAX_PATH; ofn.Flags = OFN_FILEMUSTEXIST; // ファイル選択ボタンが押されたら case IDC_FILE_SELECT: //ファイルを開くダイアログを表示しwavファイルを選択 GetOpenFileName(&ofn); //選択されたファイル名（フルパス）を引数として関数に渡す if(road_wav(strFile) == FALSE) //エラー処理 ------------------ 上記の関数road_wav()は別ファイル（road_wav_file.c）で記述し、 BOOL road_wav(const char *filename){ FILE* wfp; char reafword[4]; if(fopen_s(&wfp, filename, "rb") != 0){ //エラー処理 return FALSE; } else{ //fopen_s成功 } //ここでエラー（0xc0000005） fread(reafword, 4, 1, &wfp); return TRUE; } ------------------ というように、freadの部分で0xc0000005エラーが出てしまいます。 wfpのポインタがエラーの原因かと考え、関数の引数（＝選択した音声ファイル名）が間違っている、もしくは、fopen_sで正しく音声ファイルが開けていないかと思い調べてみたのですが、 strFileには選択したファイル名がフルパスで正しく格納されており、f_opensもelse側に行っている（成功している）ようなので、wfpが原因では無いようです。 しかし、他に思い当たる原因が特に無く、どの部分を直せばよいかが分からず困っております。 もし何か分かりましたら教えていただけると助かります。 説明が非常に分かりにくくなってしまい申し訳ありませんが、よろしくお願いいたします。 作業環境 Windows7 64bit Visual Studio 2013 professional
#include <stdio.h> #define APPLY(type, closure, arg) (type)(&(closure), arg) #define APPLY_COUNTER(c, a) APPLY (((int (*)(Counter *, int))((c).func)), c, a) // <= #define MAKE_COUNTER(k) {k, counter_function}; typedef struct{ int n; void* func; }Counter; int counter_function (Counter * c, int a){ return c->n += a; } int main (void){ Counter c1 = MAKE_COUNTER (0); Counter c2 = MAKE_COUNTER (5); printf ("%d\n", APPLY_COUNTER (c1, 3)); /* => 3 */ printf ("%d\n", APPLY_COUNTER (c2, 1)); /* => 6 */ printf ("%d\n", APPLY_COUNTER (c1, 2)); /* => 5 */ printf ("%d\n", APPLY_COUNTER (c1, 8)); /* => 13 */ printf ("%d\n", APPLY_COUNTER (c2, 9)); /* => 15 */ } #define APPLY_COUNTER ここの APPLY への値渡しが読み解けません 詳しい方、教えてください
ものすごくくだらない質問ですみません。 リレーショナルデータベースを使わざるを得なく、O/Rマッピングツールは使えない状況です。 class Employee があります。 StaffCodeがありますが、将来このコードが重複はありませんが変わる可能性があるので永続化を目的としてこれを主キーとして使えません。 そこで主キーにサロゲートキーを使おうと考えました。 アプリ側で対応するよりもデータベース側でオートナンバーを使います。 一応下記コードでこれから採番する社員と、永続化＆採番したあとの社員を表現する事はできます。 しかし同じクラスを使うものなのでしょうか？ クラスを分けるべきでしょうか？ そもそも考え方がおかしいですか？ Class Employee { Public Int Id { get; private set; } Public String Name { get; private set; } Public Int StaffCode { get; private set; } Public Employee(String name, Int staffCode) { this.Name = name; this.StaffCode = staffCode; } Public Employee(Int id, String name, Int staffCode) { this.Id = id; this.Name = name; this.StaffCode = staffCode; } Public Void SetId(Int id) { this.Id = id; } }
Fortranなのですが、実行ファイルabc.exeと同じフォルダにxxx.datというファイルが存在するならば、○○○、無いならば×××　という風にファイルの有無で操作を変える方法を教えて頂きたいのですが。 例えばOpen文でのエラー処理（例外処理）でできるでしょうか。他に方法があればお教え頂ければと思いますが。 Cでの処理が参考になるかも知れません。よろしくお願いします。
C言語にて4次のルンゲクッタ法で 次の非線形連立微分方程式を計算するプログラムを作りました。(添付画像) 出力される計算結果は、 ある時点で変数xが指数関数で立ち上がり、また指数関数で立ち下がるグラフです。 ファイル軽量化と高速化のため、必要なデータ（x > 1E-5）だけ抜粋しsaveしています。 下記リンクのサイトを元に、 逐次計算→CSVファイル出力するプログラムは作れたのですが、 計算に時間が掛かり過ぎて困っています。 http://hooktail.org/computer/index.php?Runge-Kutta%CB%A1 ネットで調べると高速化の手法として、 Adaptive Runge-Kutta法というものがあり、 変化量が小さい区間はステップを大きく取り、 変化量が大きくなるとステップを細かくするという手法があると知りました。 ただし英語文献はいくつか見つかりましたが、具体的なCでの実装方法がわかりません。 Adaptive Runge-KuttaのC言語での実装方法についてお教えください。
C++で、クラスのメンバーとしてoperator を定義し、非メンバーとしても定義してある場合、 そのoperatorを呼び出したら(例えば、operator+ の場合、A+B と記述したら)、 どちらが優先して呼び出されるのでしょうか。
C#初心者です。今回INIファイルを生成→書き込みを行うためのソースコードを書いたのですが、空ファイルの生成はうまくいくのにINIファイルへの書き込みがうまくいかず、空ファイルのままになってしまいます。なぜでしょうか？ 以下ソースコード using System; using System.Collections.Generic; using System.Linq; using System.Text; using System.Threading.Tasks; using System.Windows.Forms; using System.IO; using System.Runtime.InteropServices; namespace Loei_Server_ { /* ネットで公開されていたINIファイルに関するクラス。 難しいことは考えちゃアカン。 */ class IniFileHandler { [DllImport("KERNEL32.DLL")] public static extern uint GetPrivateProfileString(string lpAppName, string lpKeyName, string lpDefault, StringBuilder lpReturnedString, uint nSize, string lpFileName); [DllImport("KERNEL32.DLL", EntryPoint = "GetPrivateProfileStringA")] public static extern uint GetPrivateProfileStringByByteArray(string lpAppName, string lpKeyName, string lpDefault, byte[] lpReturnedString, uint nSize, string lpFileName); [DllImport("KERNEL32.DLL")] public static extern uint GetPrivateProfileInt(string lpAppName, string lpKeyName, int nDefault, string lpFileName); [DllImport("KERNEL32.DLL")] public static extern uint WritePrivateProfileString( string lpAppName, string lpKeyName, string lpString, string lpFileName); } class Program { static void Main(string[] args) { /* 日付を取得。 */ DateTime this_time = DateTime.Now; /* 多重起動するとマズイので多重起動していたら強制的に終了する。*/ if (System.Diagnostics.Process.GetProcessesByName(System.Diagnostics.Process.GetCurrentProcess().ProcessName).Length > 1) { Console.WriteLine(" [Error] " + "[" + this_time.ToString() + "] Application already has started. This program is on the nature, you can not multi-boot."); return; } /* コンフィグデータの確認。なかったら勝手に生成する。 */ if (!File.Exists("Config.ini")) { Console.WriteLine(" [Warning] " + "[" + this_time.ToString() + "] Config.ini file could not be found. I created you."); /* 空のINIファイルを生成。 */ StreamWriter writer = new StreamWriter("Config.ini", true); /* 生成したINIファイルにいろいろ書き込む。 */ IniFileHandler.WritePrivateProfileString("Loei_Server_", "TCP_IP", "localhost", "Config.ini"); IniFileHandler.WritePrivateProfileString("Loei_Server_", "TCP_HOST", "25565", "Config.ini"); Console.WriteLine(" [Info] " + "[" + this_time.ToString() + "] It has generated an Config.ini file!"); }
「猫でもわかるwindowsプログラミング　第４版」を参考にして、ビットマップを表示するプログラムを作っています。 開発環境はVisual Studio Express 2015(Visual C++)です。 読み込んだビットマップを表示させようと、下記のように（本の内容をそっくりそのまま）コードとリソースを書いてみたのですがデバッグすると何も表示されないウィンドウが出てしまいます。 メッセージボックスで確かめてみると、 ビットマップリソースを読み込んだ際、hBmpにNULLが返っていました。 コードもリソースも本の通りに書いたので間違いはないと思います。 となると、うまくいかない理由はリソースとビットマップをプロジェクトに追加させるまでの過程にあると考えます。 本で扱っている環境はVisual c++ 2010 だったのですが、リソースの追加に関してバージョンの差が関係しているのでしょうか？ リソースの追加に関してはネットや本にたくさん説明がありますが、それらの通り書いてもうまくいきません。 どうか、リソースのプロジェクトへの追加方法を教えていただけないでしょうか。 また、ソースコード・リソースに関して間違いがあるのならばアドバイスもらえるとありがたいです。 // ウィンドウプロシージャ LRESULT CALLBACK WndProc(HWND hWnd, UINT msg, WPARAM wp, LPARAM lp) { HDC hdc, hdc_mem; PAINTSTRUCT ps; HBITMAP hBmp; BITMAP bmp_info; int w, h; switch (msg) { case WM_PAINT: hdc = BeginPaint(hWnd, &ps); // ビットマップリソース「MYBMP」を読み込む hBmp = LoadBitmap(hInst, TEXT("MYBMP")); // ビットマップの情報を取得し、幅と高さを変数に保管 GetObject(hBmp, (int)sizeof(BITMAP), &bmp_info); w = bmp_info.bmWidth; h = bmp_info.bmHeight; // メモリデバイスコンテキストを作成 hdc_mem = CreateCompatibleDC(hdc); // メモリデバイスコンテキストにビットマップを選択 SelectObject(hdc_mem, hBmp); // ビットマップを転送 BitBlt(hdc, 0, 0, w, h, hdc_mem, 0, 0, SRCCOPY); StretchBlt(hdc, w, 0, w * 2, h * 2, hdc_mem, 0, 0, w, h, SRCCOPY); DeleteDC(hdc_mem); // メモリデバイスコンテキストを破棄 DeleteObject(hBmp); // ビットマップオブジェクトを破棄 EndPaint(hWnd, &ps); break; case WM_DESTROY: PostQuitMessage(0); break; default: return (DefWindowProc(hWnd, msg, wp, lp)); } return 0; } //リソース MYBMP BITMAP "bitmap1.bmp"
実行中のプログラムの中でそのプログラムの一部を書き換えて保存するにはどうすればいいですか？ 例えば次のようなプログラムの場合、このプログラムの中でTEXT("最初の文字列");の部分の文字列を別な文字列に変更しプログラムを更新したいです。 （プログラム終了後にもう一度実行すると「moji[20]=」の部分は前回実行時に書き換えた文字列が代入されているようにしたい） #include<windows.h> int WINAPI WinMain(HINSTANCE hinst,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int ncmdshow){ TCHAR moji[20]=TEXT("最初の文字列"); MessageBox(NULL,moji,TEXT("文字列表示"),MB_OK); return 0; } --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語
C++の勉強をしています。 そこでoperatorを使うことをやっているんですが、この演算子、引数を二つつけるとエラーになります。クラス内で定義するとこうなります。 ですがグローバルで定義するとエラーが出力されません。 何故なんでしょうか？ 戻り値の関係でしょうか？　 class Complex { public: Complex() { } public: // これはエラー、この演算子関数のパラメータが多すぎますと出力される const Complex operator+(const Complex x, const Complex y) { } }; // これはでない・・・ const Complex operator+(const Complex x, const Complex y) { } 上記のプログラムだと、下に書いてある代入演算子は問題ありません。 なぜこうなるんでしょうか？　ご教授お願いします。
Visual C++ 2010 Expressで、開いたら閉じなければいけないファイルやハンドルを閉じないでプログラムを終了した場合に、閉じていないファイル名やハンドル名を確認するにはどうすればいいですか？ --- 実行環境 --- Microsoft Visual C++ 2010 Express WIN32 ユニコードビルド C言語
題の通り、C++でクイックソートを作りたいのですが、以下のコードではセグメンテーションエラーで動きませんでした。partition関数があやしいと思い、色々と試してみたのですが、やはりできなかったので、質問させていただくことにしました。 結果としては、print関数で昇順に表示出来ればいいのですが・・・。 以下のコードのどこをどう変えれば良いのか、ご指摘の方、何卒よろしくお願い致します。 #include <iostream> #include <vector> using namespace std; class Array { private: vector<int> array; public: void insert( int value ){ array.push_back( value ); } int getSize( ){ return (int)array.size( ); } void quick_sort( ){ quick_sort( 0, (int)array.size( ) - 1 ); } void quick_sort( int left, int right ); int partition( int left, int right ); void swap(int *a,int *b){int tmp=*a;*a=*b;*b=tmp;} void print( ); }; // クイックソートにより配列の添字 left ～ right の部分を整列する関数 void Array::quick_sort( int left, int right ) { if ( left >= right ) { return; } int v = partition( left, right ); quick_sort( left, v - 1 ); quick_sort( v + 1, right ); } //この関数を考える // 配列の添字 left ～ right の部分を，pivot の値より小さい要素と，大きい要素に分割し pivot の位置を返す関数 int Array::partition( int left, int right ) { int i=left; //左からの処理位置 int j=right; //右からの処理位置 int pivot=array[(int)(left+right)/2]; //基準 int tmp=0; while(true){ while(array[i]<pivot){i++;} while(array[j]>pivot){j--;} if(i>=j){return i;} tmp=array[i]; array[i]=array[j]; array[j]=tmp; i++; j++; } } // 配列の内容を表示する関数 void Array::print( ) { for ( int i = 0; i < (int)array.size( ); i++ ) { cout << array[i] << " "; } cout << endl; } int main( ) { Array a1; a1.insert( 56 ); a1.insert( 34 ); a1.insert( 57 ); a1.insert( 64 ); a1.insert( 3 ); a1.insert( 87 ); a1.insert( 85 ); a1.insert( 37 ); a1.insert( 21 ); a1.insert( 4 ); a1.insert( 68 ); a1.insert( 62 ); a1.insert( 42 ); a1.insert( 55 ); a1.insert( 63 ); a1.insert( 95 ); a1.insert( 7 ); a1.insert( 32 ); a1.insert( 78 ); a1.insert( 11 ); cout << "要素数: " << a1.getSize( ) << endl; cout << "ソート前: "; a1.print( ); a1.quick_sort( ); // ここで，ソートを行う関数を呼び出す cout << "ソート後: "; a1.print( ); return 0; }
C++でのマージソートの実現方法について、以下のコードを書いたのですが、どうしてもうまくソートできませんでした。 marge関数がおかしいと思うのですが、自分で確かめてみても、どこがおかしいのか分かりませんでした。 どなたか、どうすればソートされた結果がメイン関数で表示されるようにできるのか教えていただけないでしょうか？ #include <iostream> #include <vector> using namespace std; class Array { private: vector<int> array; public: void insert( int value ){ array.push_back( value ); } int getSize( ){ return (int)array.size( ); } void marge_sort( ){ marge_sort( 0, (int)array.size( ) - 1 ); } void marge_sort( int left, int right ); void marge( int left, int middle, int right ); void print( ); }; // マージソートにより配列の添字 left ～ right の部分を整列する関数 void Array::marge_sort( int left, int right ){ if( left >= right ) { return; } int middle = (left + right) / 2; //中央の添字を求める marge_sort( left, middle ); //左の要素が全てバラバラになるまで marge_sort( middle + 1 , right ); //右の要素が全てバラバラになるまで marge( left, middle, right ); //バラバラの要素をソートして併合 } // 個別にソートされた2つの配列（添字 left ～ middle と添字 middle+1 ～ right）を作業用配列を使ってマージする関数 void Array::marge( int left, int middle, int right ) { int num=right-left; int *tmp=new int[num]; int t=0,l=left,r=middle; while(l<middle&&r<right){ if(array[l]<=array[r]){ tmp[t++]=array[l++]; } else { tmp[t++]=array[r++]; } } while(l<middle){ tmp[t++]=array[l++]; } while(r<right){ tmp[t++]=array[r++]; } for(int i=0;i<num;i++){ array[left+i]=tmp[i]; } delete tmp; } // 配列の内容を表示する関数 void Array::print( ) { for ( int i = 0; i < (int)array.size( ); i++ ) { cout << array[i] << " "; } cout << endl; } int main( ) { Array a1; a1.insert( 56 ); a1.insert( 34 ); a1.insert( 57 ); a1.insert( 64 ); a1.insert( 3 ); a1.insert( 87 ); a1.insert( 85 ); a1.insert( 37 ); a1.insert( 21 ); a1.insert( 4 ); a1.insert( 68 ); a1.insert( 62 ); a1.insert( 42 ); a1.insert( 55 ); a1.insert( 63 ); a1.insert( 95 ); a1.insert( 7 ); a1.insert( 32 ); a1.insert( 78 ); a1.insert( 11 ); cout << "要素数: " << a1.getSize( ) << endl; cout << "ソート前: "; a1.print( ); a1.marge_sort(); // ここで，ソートを行う関数を呼び出す cout << "ソート後: "; a1.print( ); return 0; } // 実行結果 要素数: 20 ソート前: 56 34 57 64 3 87 85 37 21 4 68 62 42 55 63 95 7 32 78 11 ソート後: 3 4 34 37 21 42 55 56 57 62 63 7 32 64 68 78 85 87 95 11 ↑のソート後の表示が、昇順にソートされるようにしたいのです。
地理情報システム(GIS)間で標準として用いられる「ShapeFile」のファイル形式があるかと思います。 （地理情報システム (GIS) のソフトウェアに強い、 　ESRI（Environmental Systems Research Institute, Inc.）という会社が作ったデータ形式らしいですが） これをメッシュデータに変換したいです。 そのために、まずはShapeFileがどんなものなのかを確認しようと、 エディタにて開けるかなと思って開いたのですが どうやらテキストデータではなさそうでした。 ◆質問 　(1)ShapeFile のデータにアクセスするにはどうすればよいのでしょうか？ 　（※テキスト形式のファイルではなかったわけなので、 　　　なんらかのＡＰＩをコールして値のＧＥＴができるのでしょうか） 　(2)ShapeFile データからメッシュデータを作成したいシチュエーションは 　　結構ありそうですが 　　何か有名なアルゴリズムやフリーソフトはありますでしょうか？ 　　（※自前で、難しいアルゴリズムを作らなければならないでしょうか？） 宜しくお願い致します。
MFCでxmlファイルをZip形式で圧縮したいので、方法があれば教えてください。 C#を使用する場合だと、Gzipstreamのクラスがありますが、MFCでそのクラスと同様のものはありますでしょうか。 MFCで上記のようなクラスがない場合でも、方法があればご教授ください。 なお、開発はVisual Studio 2010で行っています。
アセンブラって今勉強して何か得することあるんですか？
エディットボックスに入力された文字数をGetWindowTextLength関数で取得した時 < 例 >　 aaaaああああいいいい　と入力した場合　結果は12 aaaa ああああ いいいい 　　　と入力した場合　結果は16 というように同じ文字数なのに改行を含むと改行１につき2文字分多くカウントされてしまいます。 複数行入力されていても改行文字を含まない文字数を取得するにはどうすればいいですか？ --- 実行環境 --- Visual Studio 2010 Express WIN32 ユニコードビルド C言語
Dev-C++ をダウンロードして使い始めましたが、教本に乗っている簡単なプログラムを書いてコンパイルしようとしたら、エラーメッセージが出てきて先へ進めません。 私の書いたプログラムとエラーメッセージは下の通りです。 「プログラム」 // sample program #include <iostream> int main() { std::cout << "Hello, world.\n"; return 0; } 「エラーメッセージ」 g++.exe has stopped working A problem caused the program to stop working correctly. Windows will close the program and notify you if a solution is available. そしてこのメッセージの下に Debug　ボタンと Close program　ボタンがあります。 Close program　ボタン を押すとそれで終わりですが、Debug　ボタンを押すと　Microsoft Visual Studio のダイアログボックスが出てきて、次のようなメッセージを表示します。 「ハンドルされない例外が 0x00415710(g++.exe)　で発生しました。0x0000005　場所 0x0000006F　への書き込み中にアクセス違反が発生しました。この例外のハンドラーがある場合にはプログラムを安全に続行できます。」 そしてこの後に「中断」と」継続」の２つのボタンがありますが、私はよくわからないので、ここで「中断」ボタンを押して終わりにします。 ちなみに、Visual Studio のダイアログボックスが出てくるのは、以前にvisual studio community 2015 をダウンロードしてあるからだろうと思います。始めこのソフトを使おうとしたのですが使い方が難しすぎて手に負えませんでした。それでもっと簡単そうなDEV-C++ を使い始めたわけです。 どうすればコンパイルしてコンソール画面に”Hello, world."　を表示できるでしょうか。 どなたか力をお貸しください。お願いします。
以下のようなコードを書いたのですが (A)(B)の箇所で (A) error CS1513: } が必要です。 (B) /error CS1022:型、名前空間の定義、またはファイルの終わりが必要です。 というエラーになるのですが、なにが間違っているのでしょうか。 --------------------------------------------------- using System; using System.Collections.Generic; namespace My { 　class MyClass 　{ 　　public static void Main() 　　{ // <--- (A) 　　　public List<Book> myList = new List<Book> 　　　{ 　　　　new Book(){ title = "ABC", price = 1000 }, 　　　　new Book(){ title = "DEF", price = 2000 } 　　　}; 　　} 　} 　class Book 　{ 　　//プロパティの自動実装 　　public string title { get; set; } 　　public decimal price { get; set; } 　} } // <--- (B) ---------------------------------------------------
輪郭抽出の後に， 面積最大の輪郭を特定して処理することを考えています。 ググると”contourArea”を使っている例がいくつもあるのですが， 同じようにやってもコンパイルエラーになります。 OpenCV 2.2 C++ リファレンス （http://opencv.jp/opencv-2svn/cpp/index.html） にあるサンプルプログラム（下記）も同様です。 【プログラム】 vector<Point> contour; contour.push_back(Point2f(0, 0)); contour.push_back(Point2f(10, 0)); contour.push_back(Point2f(10, 10)); contour.push_back(Point2f(5, 4)); double area0 = contourArea(contour);　←ここで次のエラー 【エラー内容】 error C2664: 'cv::contourArea' : 1 番目の引数を 'std::vector<_Ty>' から 'const cv::Mat &' に変換できません。(新しい機能 ; ヘルプを参照) 環境はopencv2.2.0とvc++2010expressです。 オランウータン（？）の絵は出ますので， opencvは動作する環境と思っています。 （解りやすく）対策・原因などご教授頂けると幸いです 宜しくお願いします。
OpenGLを使用し、描画した図形がパラパラ漫画のようにアニメーションし、アニメーションするたびに一枚ずつ出力するというプログラムを作成しているのですが、連続で出力すると同じ画像ばかりが出力されてしまいます。 glReadPixel();でバッファを取得し変数に格納した画面表示の情報が更新されていないのが原因と見ていますが、修正の方法がわかりません。知ってる方がいらっしゃったらよろしくお願いします。 Visual stadio2010を使用し、UIにMFCアプリケーションを使用しています。
プログラムを勉強しようと、市の図書館で本を借りてきました。 しかし、取り扱っているのがVisualC++2010（VisualStudio2010）なんです。 Visual Studio 2015を使用するつもりですが、 バージョン？が古くても問題ないのでしょうか？ 同じコードなのに動かない、エラーが出るなどはあるのでしょうか？ よろしくお願いします。
javaに似た言語使用のC#の使用を考えています。 このC#は『.net』と関係有りますか？ ｃ＃のexeファイルは、中間言語を使用していることはわかっています。 以上、初心者の質問ですが宜しくお願いします。
Ｗ７，ＯＦＦＩＣＥ２００３ユーザーです。 百人一首の練習プログラムをエクセルで作成しております。=int(rand()*100+1)で乱数を発生し、＝ vlookup(この乱数セル、第１列歌番号の百人一首一覧表、上や下の句の列番号)で 検索・表示します。ここまではできましたが、これだと同じ乱数では、同時に上・下の句が表示されてしまい、暗記の練習になりません。そこで、何か適宜のキーを押して暗記の状況を確認してから次の句の処理を開始するよう、随意の時間、時間的な間合いをとりたいのです。昔フォートランの時分には１から１００まで足し算させることで間を取っていたものですが、エクセルでは分かりません。なにか、キーを押すレベルの解決法を教えてください。なお、次の乱数発生はＦ９きーで行っております。 よろしくお願いします。
データファイルをコマンドラインから読み込み、元のファイルの内容に加えその平均と評価を出力するプログラムを作っているのですが、実行しても意味のわからない文字が羅列され更に平均等が０になってしまいます。 分かる方いらっしゃいましたら回答よろしく願いします<(_ _ )> ↓読み込むデータファイルの内容 1077001 Jack 87 70 71 92 91 1077002 Jo 67 77 75 92 71 1077003 Akira 37 60 71 52 36 （中略） 1077016 Kazu 95 97 90 95 98 以下、ソースコード #include <stdio.h> #include <stdlib.h> typedef struct{ char sid[8]; char sname[10]; int score[5]; char grade; double ave; } Record; char grade_char(double); int main(int argc, char *argv[]){ Record data[20]; FILE *fp; int i; if((fp = fopen(argv[1],"r")) == NULL){ printf("Cannot open file!\n"); exit(1); }else if(argc == 1) printf("Error! Usage: ./a.out datafilename"); i = 0; while(fscanf(fp,"%s %s %d %d %d %d %d",data[i].sid,data[i].sname,&data[i].score[0],&data[i].score[1],&data[i].score[2],&data[i].score[3],&data[i].score[4])){ i++; data[i].ave = (data[i].score[0]+data[i].score[1]+data[i].score[2]+data[i].score[3]+data[i].score[4])/5; data[i].grade = grade_char(data[i].ave); printf("%s %s %d %d %d %d %d %.1f %c\n",data[i].sid,data[i].sname,data[i].score[0],data[i].score[1],data[i].score[2],data[i].score[3],data[i].score[4],data[i].ave,data[i].grade); } fclose(fp); return 0; } char grade_char(double ave){ if(0 <= ave && ave <= 34)return 'F'; else if(35 <= ave && ave <= 49)return 'D'; else if(50 <= ave && ave <= 64)return 'C'; else if(65 <= ave && ave <= 79)return 'B'; else if(80 <= ave && ave <= 100)return 'A'; else return 0; }
お世話になります。 現在、Becky!のプラグインを作成しております。 とりあえず思うような動きにはなったのですが、今回初めてC++ を使ったので、作成したものの正直なところあまり理解して 出来ておりません。 作成したプラグインは送信ボタンが押されたときにメッセージを 表示するもので、メッセージの本文はiniファイルから読み込む ようにしております。 char buf[256]; DWORD ret; ret = GetPrivateProfileString("message", "msg", "メッセージ無し", buf, sizeof(buf), "C:\\Program Files\\RimArts\\B2\\PlugIns\\becky.ini"); で、bufの内容をMessageBoxで表示してます。 そこで質問ですが、当該プラグインが実行される都度、メモリが食いつぶされて しまうってことはあり得るのでしょうか。 メッセージが表示され、OKまたはキャンセルボタンが押されたら、 そこでメモリは解放されるという認識なのですが。。 ご教示の程、宜しくお願い致します。
お世話になります。 現在、Becky!（メーラー）のプラグインを作成しております。 プラグインの内容としては送信ボタンが押されたときに、メッセージを 表示するだけのものです。 なお、メッセージの本文はiniファイルに記載しており、その内容を読み込んで 表示しております。 そこで質問ですが、通常であればMessageBox（NULL,"本文1\r\n本文2"・・・ とすることにより 　　本文1 　　本文2 と改行されてメッセージ表示されるかと思いますが、 iniファイルに同じように記載しても 　　本文1\r\n本文2 と表示され\r\nが文字列として認識されてしまいます。 このような場合、どのように対処すればよいのでしょうか。 ご教示の程、宜しくお願い致します。
C#初心者です。以前VBを使っていた時にはダイアログが選べたんですけど、C#で新しい項目の追加をしてもFORMは出てくるんですが、ダイアログが出てきません。 何を追加すればVB６のときのダイアログに相当するのか教えて下さい。
int num=15; int *p=&num; char h= 'A'; char *p=&h; って、数字や一文字の時は変数を用意しなくてはならないのに、 char *z="K"; ←ダブルクォーテーションで囲むと1文字もOK printf("%c\n",*z); とか、 char *name="名前"; printf("%s\n",*name); とかの場合、変数を用意しなくてもできますよね。 文字はどこか別の場所に保管されているのでしょうか？
VisualStudioExpress2015のC++にて、次のような記述をし、二回目に実行したところアクセス違反が発生してしましました。 内容としてはセーブデータが見つからない場合はセーブデータにクラスの情報を書き込み、セーブデータがあった場合はセーブデータからクラスの情報を読み込むというものです。 #include <stdio.h> #include <stdlib.h> #include <string> #include <map> using namespace std; class MyClass { public: MyClass(); ~MyClass(); //private: int x, y; char *str; map<int,string> mMap; }; MyClass::MyClass() { } MyClass::~MyClass() { } void write() { MyClass *myclass = new MyClass; myclass->x = 10; myclass->y = 100; myclass->str = "aaaa"; myclass->mMap[10] = "bbbb"; FILE *fp1; if (fopen_s(&fp1,"セーブデータ.dat", "wb") != 0) {//エラーが起きたらNULLを返す return; } fwrite(&myclass, sizeof(myclass), 1, fp1); // SaveData_t構造体の中身を出力 fclose(fp1);//ファイルを閉じる } void read() { MyClass *myclass2 = new MyClass; FILE *fp2; if (fopen_s(&fp2,"セーブデータ.dat", "rb") != 0) { return; } fread(&myclass2, sizeof(myclass2), 1, fp2); fclose(fp2); printf("x=%d\ny=%d\nstr=%s\nmMap[10]=%s\n", myclass2->x, myclass2->y,myclass2->str,myclass2->mMap[10].c_str()); } int main() { FILE *fp; if (fopen_s(&fp, "セーブデータ.dat", "rb") != 0) { write(); } else { read(); } system("pause"); return 0; } どこをどう記述し直したら上手く動作するのでしょうか。 これを応用して、バイナリファイルの入出力を使ってゲームのセーブデータのようなものを実現しようと考えています。 そちらの方では多くの量のデータがあるので、できるだけクラスごとバイナリファイル等に保存するようにしたいのですが、もし上記の方法が無理な場合他にどのような方法があるか教えていただきたいです。
Javaの本しか読んだことがないのですが、データ構造とアルゴリズムの本を読んでいます。 解説がCやC++で書かれているため、わからない部分があります。 cinと出てくるのですが、これはどういったものなのでしょうか？ 詳しい方いらっしゃいましたら、教えてください。 よろしくお願い致します。
以下のプログラムをコンパイル、実行しようとするとコアダンプと表示されてしまいます。 おそらく配列がうまくいっていないというのは察したのですが、どううまくいっていないのかがわかりません。 原因を教えていただきたいです。 このプログラムは、Nを入力し、０～１００までの乱数をN個表示させるものです。 配列を使っているのは、このプログラムが完成したのち、改良してその乱数同士を計算するプログラムにしたいためで、その途中段階でした。 環境は、Cygwinです。 ―――以下ソースコード――― #include <stdio.h> #include <math.h> #include <stdlib.h> int main(void){ int i,N; double u[N]; int ransu; printf("Define N : \n");　//得たい乱数の数を設定 scanf("%d",&N); for(i = 0; i < N; i++) { ransu = rand() % 101 ;　//０～１００までの乱数を得る u[i] = (double) ransu; printf("%.0f ", u[i]); } printf(" \n"); return 0; } 教えていただける方、いらっしゃいましたら教えていただきたいです。よろしくお願いします。
C++のメモリの動的確保について、以下のことが分からないので、教えて頂けないでしょうか？ 適切にメモリ確保が行えていたとしても，あることに注意しないと実行時にプログラムが不正に停止することがある．「あること」について，また「あること」が起こるプログラムの例を示せ． いろいろ探したり試したりしたのですが、うまく説明できる内容が思い浮かびませんでした。 どうかよろしくお願い致します。
VS2015 communityがDebug中に突然停止し、マウスのカーソルは時計マークに変わり、 PCが制御不能になります。 そして、下記のダイヤログの表示があります。 =============================== Microsoft Visual Studio 2015は動作を停止しました。 ー＞オンラインで解決策を確認してプログラムを再起動します。 －＞プログラムを再起動します。 ー＞プログラムをデバッグします =============================== 動作環境は、Windows7の３２ビットであり、VS2008、VS2013はこの様な不具合はありませんでした。 VS2015のIDEは日本語と英語環境がありますが、何れの環境でもこの様な不具合が発生します。 実際にキーボードから、コードを入力して、AppをDebug（Run）している時には、この不具合は起きず、 AppをRunしていない時に起きました。 Q1)この件に関しまして、コメントを頂けますと大変助かります。 以上、宜しくお願いします。
VS2015 communityのIDE画面の表示について質問します。 現在、VS2015 communityのIDE画面は日本語表示になっています。 Q1) 英語表示に変更出来ますか？ 注）尚、VS2013 communityのIDE画面は、ダウンロードした状態では、 英語表示になっていました。 IDEの起動時に、英語画面と日本語画面の設定が出来ないかと考えています。 以上、宜しくお願いします。
どうも、他の人が作ったコマンドプロンプトで利用するプログラムをDLLに変更したいと思っています。 hoge.txt > mage.exe という風にテキストを引き渡すと、構文解析を行って必要な情報を返してくれるプログラムなので、テキストを引き渡さないときは、入力するためのプロンプトを出してきます。 このプログラムをdllにしてC#等から呼び出せるようにしたいのです。 最初は何処かでchar*とかを引数に取る関数があるだろうと思っていたのですが 実際は結構呼び出しの深いところの複数個所でgetcharが呼ばれていて、直すのが大変そうなので 内部のgetchar渡した文字列を取り出せるように、パイプのデータ渡しを疑似的に再現できないでしょうか？ ちょっとこのあたりの知識がないのでお力添えをお願いいたします。 ちなみに触っているのはyaccで生成したパーサーで構文解析を行ってくれるプログラムです。
現在、C++で連結リストの結合を実現しようとしているのですが、自分のやり方ではどうしてもエラーになってしまい、他にうまい実現方法が思いつかないので質問させていただきます。 以下が私が作ったプログラムなのですが、どこをどう変えたらうまく行くのか、具体的に教えて頂けたら嬉しいです。結合関数はaddAll(List &l)です。よろしくお願いします。 #include <iostream> using namespace std; class Cell{ private: int data; Cell *next; public: Cell(int d, Cell *n = NULL){ data = d; next = n; } friend class List; }; class List{ private: Cell *head; public: List(){ head = NULL; } ~List(){ while (head != NULL)removeFirst(); } void addLast(int data); void removeFirst(); void print(); void addAll(List &l); }; void List::addLast(int data){ if (head == NULL){ head = new Cell(data); } else{ Cell *p = head; while (p->next != NULL){ p = p->next; } p->next = new Cell(data); } } void List::removeFirst(){ if (head == NULL){ return; } else if (head->next == NULL){ delete head; return; } Cell *removed = head; head = head->next; delete removed; } void List::print(){ if (head == NULL){ return; } for (Cell *p = head; p != NULL; p = p->next){ cout << p->data << ' '; } cout << endl; } void List::addAll(List &l){ if (l.head == NULL){ return; } else if (head == NULL){ if (l.head == NULL){ return; } else{ head = l.head; return; } } else{ Cell *p = head; while (p->next != NULL){ p = p->next; } p->next = l.head; } return; } int main(){ List l1; l1.addLast(1); l1.addLast(2); l1.addLast(3); l1.print(); List l2; l2.addLast(4); l2.addLast(5); l2.addLast(6); l1.addAll(l2); l1.print(); return 0; } 実行結果は 1 2 3 1 2 3 4 5 6 と表示されればOKです
こんにちは。 C#で以下のようなことをしようとしましたら 「error CS1605: 読み取り専用なので 'this' は ref または out 引数として渡せません」 とエラーが返されてしまいました。 C++ではthisポインタを渡すことができますが、C#で似たようなことをするには どのようにすればよろしいのでしようか? public class AAA { 　　public AAA( ref BBB a ) 　　{ 　　} } public class BBB { 　　public BBB() 　　{ 　　　　AAA aaa = new AAA( ref this ) ; 　　} }
C#のデリゲートを用いたイベントで イベントハンドラに戻り値がある場合は どのように記述すればよいのでしょうか。 以下のコードでは(A)のところで error CS0029: 型 'void' を型 'string'に暗黙的に変換できません。 というエラーになります。 --------------------------------------- //sample.cs //イベントハンドラ(戻り値あり) using System; namespace My { 　delegate string MyDelegate(); 　class MainClass 　{ 　　public static void Main() 　　{ 　　　string msg; 　　　MyClass mc = new MyClass(); 　　　MyEventClass mec = new MyEventClass(); 　　　mec.eventname += new MyDelegate(mc.myget); 　　　msg = mec.Oneventname(); // <--------(A) //　　msg = (string)mec.Oneventname(); 　　　Console.WriteLine(msg); 　　} 　} 　 　class MyClass 　{ 　　public string myget() 　　{ 　　　string msg; 　　　msg = "イベントハンドラが呼び出されました"; 　　　return msg; 　　} 　} 　class MyEventClass 　{ 　　public event MyDelegate eventname; 　　public void Oneventname() //　public string Oneventname() 　　{ 　　　if(eventname != null) 　　　{ 　　　　eventname(); //　　　return eventname(); 　　　} 　　} 　} } ---------------------------------------
毎度、お世話になります。 下記の、swscanf_s()が旨く働きません、訂正方法をお教えください。 //=========================== WCHAR cc[100], c1[20], c2[20], c3[20], c4[20]; CString ss; ss.Format(_T("a b c d")); wcscpy_s(cc, ss); swscanf_s(cc, _T("%s %s %s %s"), c1, sizeof(c1), c2, sizeof(c2), c3, sizeof(c3), c4, sizeof(c4)); 以上、宜しくお願いします。
C言語、値の合計について（PICマイコンを使用） C言語のアルゴリズムについての質問です。 申し訳ございませんが、前提が長く、質問が後半にあります。 １．行いたいこと パルス幅を取り込んで、パルス幅を足しこんでいく。この値を面積とする。 ２．仕様 ・500usでループを回しており、その都度、パルス幅を取得しています。 （パルス幅は１つであったり、複数であったりします。パルスの数を「Rise」という 変数で記憶しています。） ・そのパルス幅を取得し、一定ループ後に合計値を計算したい。 例） ___|¯¯|___|¯¯¯|___ Rise=1。中央のくぼみの幅を計算 ↓ ___|¯¯|_|¯¯|_|¯|____ Rise=2。中央２つのくぼみを計算 ３．問題点 Riseの値でif分岐をした、べた書きしたプログラムと、より一般化したプログラムの 面積の値(SUM_Areaの値)が異なる。 一般化したものの方が値が大きくなる。 /*以下プログラム*/ // べた書き if(Rise==2){ Captime[1]=Captime_rise[2]-Captime_down[1]; //パルス幅の計算 Area[1] += Captime[1]; //面積計算 SUM_Area=Area[1]; //合計の面積 } // Rise==2 LOOP END else if(Rise==3){ Captime[1]=Captime_rise[2]-Captime_down[1]; Captime[2]=Captime_rise[3]-Captime_down[2]; Area[1] += Captime[1]; Area[2] += Captime[2]; SUM_Area=Area[1]+Area[2]; } // Rise==3 LOOP END else if(Rise==4){ Captime[1]=Captime_rise[2]-Captime_down[1]; Captime[2]=Captime_rise[3]-Captime_down[2]; Captime[3]=Captime_rise[4]-Captime_down[3]; Area[1] += Captime[1]; Area[2] += Captime[2]; Area[3] += Captime[3]; SUM_Area=Area[1]+Area[2]+Area[3]; } // 一般化したもの for(i=1;i<Rise;i++){ Captime[i]=Captime_rise[i+1]-Captime_down[i]; Area[i]+=Captime[i]; SUM_Area+=Area[i]; } ４．考察 一般化したプログラムの SUM_Area+=・・・・ の部分のみをifで場合分けすると、 （SUM_Area=Area[1]+Area[2]+Area[3]; の様にRiseの値で分岐) 値が一致したので この部分が悪さをしていると考えています。 ５．質問 今回の場合はSUM_Areaの部分は、べた書き（Riseでの分岐)しか方法がないのでしょうか。 Riseが64個まであるので、プログラムが冗長になってしまいます。 宜しくお願いします
お世話になります。 MicrosoftのVisualStuidoを購入して、VC,C#などをやってみたいのですが、 以前VS2007をアカデミック版で購入したことがあります。 その時は、使い方が全くわからなかったのですが、 現在最新版のVS2015は操作性の上で使いやすいと聞きましたが、本当でしょうか。 ご存知の方、いらっしゃいましたらご意見を交えて教えて下さい。 宜しくお願い致します。
今日は MSのcommunityからダウンロードしました『VS2013のMFC』でテストの『App』を作成しています。 『VS2013（MFC）』をdownLoad、インストールしましたが、英語版がインストールになりました。 Q1)英語版を日本語版に変更する方法はありますか？ Q2)この英語版では、ボタンの表示を日本語にしましたが化けて(判読不明の漢字)しまいますが、 　　日本語版に変更しますとこの化けはなくなりますか？ 　　例えば　"Button1"を"テスト"に変更します。 Q3)Formに配置しましたButton1を押しまして、EditBoxに、下記の如く"aaa"とか　 　　"AAAAA”の表示をしますが、この表示も化けてしまいます(判読不明の漢字) 　これも、日本語版に変更しますとこの化けはなくなりますか？ ================================ void CMFCApplication1View::OnBnClickedButton1(){ // TODO: Add your control notification handler code here CString str; char cc[10]; strcpy_s(cc, (LPCSTR)(_T("aaa"))); m_edit1.SetWindowTextW((LPCTSTR)("AAAAA")); m_edit1.SetWindowTextW((LPCTSTR)(cc)); } ============================= 以上、コメントのほど、宜しくお願いします。
今日は！ visual studio 2015 無償版について質問します。（将来は、有償版も検討しますが、差当たりは、無償版で行こうかなと考えています） 尚、現在、VS2008のMFC機能（デスクトップApp）を使用していますが、MFC以外は全く無知です。 Q1)『visual studio 2015 無償版』でMFCの機能が利用できますか？ Q2)もし、『visual studio 2015 無償版』でMFCが利用できない場合は、 GUI（ボタンやエディットボックスを多数配置する）Appはどの様に開発する事になるでしょうか？ 注）javaを使用したことが有りますが、MFCのようなものはありませんでしたが、 GUI（ボタンやエディットボックスを多数配置する）が容易に出来る優れものですが、リアルタイム性と CPUの負荷に問題がありました。 以上、コメント頂けますと大変助かります。
C言語の問題を教えて下さい。 この問題で困っています。 複素数z1,z2の引き算、掛け算を計算する構造体complexを引数、 戻り値とする関数 complex hikizan(complex z1,complex z2) complex kakezan(complex z1,complex z2) を作成し、 複素数を画面に表示する関数 void show(complex x) で結果を表示するプログラムを作りなさいという問題です。 z1=1+3i z2=2+2i です。 作ってみたのですが、void show(complex x)を使う方法が分かりません。 教えて下さい、お願いします。 以下、作ったプログラムです #include<stdio.h> typedef struct complex{ double re; double im; } complex; complex hikizan(complex z1,complex z2) { complex z; z.re=z1.re-z2.re; z.im=z1.im-z2.im; return z; } complex kakezan(complex z1,complex z2) { complex zz; zz.re=z1.re*z2.re-z1.im*z2.im; zz.im=z1.re*z2.im+z1.im*z2.re; return zz; } int main(void) { complex z1,z2,z,zz; z1.re=1; z1.im=3; z2.re=2; z2.im=2; z=hikizan(z1,z2); zz=kakezan(z1,z2); printf("z1-z2=%f+%fi \n",z.re,z.im); printf("z1*z2=%f+%fi \n",zz.re,zz.im); }
下記のコードは,OnButton5から、30回ThreadAを起動し、ThreadAからThreadBを起動する ものです。OnButton5の中にSleep(1)が有りますと、countXとcountA,　countBは共に 30までカウントアップしますが、Sleep(1)がないと、countA,　countBが30までカウントアップ しない事があります。 Q1)　Sleep(1)を省略できる方法はありますか？ void CMFCTHREADView::OnButton5(){ int i; for(i=0; i<LIMIT; i++){　　//別途設定 #define LIMIT 30 if(SW_READYA==false){//ThreadAがreadyになるのを待って起動する } SW_READYA=false; SetEvent(hEventA_start);//loop開始 InterlockedIncrement(&countX);//OnButton5 TRACE1("====countX=%d\n",countX); Sleep(1);//これがあると旨くいきます。 } } UINT ThreadA(LPVOID pParam){ int *pThis=reinterpret_cast<int*>(pParam);//pParam引数の受取方法 int aa=*pThis; while(SW_FIRST_LOOPX){ //=================================== if(WaitForSingleObject(hEventSW_A, INFINITE)){//スタートコマンド待ち AfxMessageBox("time_over of hEventSW_A"); } ResetEvent(hEventSW_A); TRACE("ResetEvent(hEventSW_A)\n"); while(LOOP_ON){//LOOP_ON is off by endOfTransferWAVE //======================= if(WaitForSingleObject(hEventA_start, INFINITE)){//スタートコマンド待ち } ResetEvent(hEventA_start); countA++; if(SW_READYB==false){//ThreadBがreadyになるのを待って起動する } SW_READYB=false; SetEvent(hEventB_start);//threadBの開始 TRACE1("countA=%d\n", countA); SW_READYA=true; //======================= } } return TRUE; } UINT ThreadB(LPVOID pParam){ int *pThis=reinterpret_cast<int*>(pParam);//pParam引数の受取方法 int aa=*pThis; while(SW_FIRST_LOOPX){ if(WaitForSingleObject(hEventSW_B, INFINITE)){//スタートコマンド待ち } ResetEvent(hEventSW_B); TRACE("ResetEvent(hEventSW_B)\n"); while(LOOP_ON){//LOOP_ON is off by endOfTransferWAVE if(WaitForSingleObject(hEventB_start, INFINITE)){//スタートコマンド待ち AfxMessageBox("time_over of hEventB_start"); } ResetEvent(hEventB_start); countB++; TRACE1("countB=%d\n", countB); SW_READYB=true; } } return TRUE; } //================= 以上、宜しくお願いします。
毎度、お世話になります。 Windows7でVS2008のMFCのFormView形式でプログラムしています。 OnButton5でTextOut文を実行していますが、最後の『pDC->TextOut(20,80,str)』 だけ表示されます。 但し、前の2個のpDC->TextOutの後にSleep(1)を追加しますと、全て表示できます。 Q1)Sleep(1)を追加しなくて、全てのTextOutが表示できる方法はありますか？ ================================ void CMFCTHREADView::OnButton5(){ // TODO: この位置にコントロール通知ハンドラ用のコードを追加してください CDC* pDC=this->GetDC(); int t_endB=999; str.Format("time=%d ms ",t_endB); pDC->TextOut(20,40,str); //これだけ表示されず。 //=============== str.Format("countX=%d ",countX); pDC->TextOut(20,60,str); //これだけ表示されず。 //=============== str.Format("countA=%d countB=%d ",countA,countB); pDC->TextOut(20,80,str); //これだけ表示されます。 //==================== } =================================== 以上、宜しくお願いします。
連結リストの末尾の要素を削除するプログラムを教えてください。 自分で何度も書き直してみたのですが、どうしてもうまくうごきません。 自分で書いた現状が以下のものですが、止まってしまいます。 void List::removeLast(){ if (head == NULL)return; Cell *p = head; Cell *prev = NULL; while (p!= NULL){ prev = p; p = p->next; } delete prev; } 以下のプログラムが動かすにはremoveLast()をどう変えたらよいのでしょうか？ よろしくお願いします。 #include <iostream> using namespace std; // クラスの宣言 class Cell { friend class List; // Listクラスから，このクラスに自由にアクセスできるようにする private: int data; // データ Cell *next; // 次のセルのアドレスを指すポインタ public: Cell(int _data, Cell *n = NULL){ data = _data; next = n; } }; class List { private: Cell *head; // 連結リストの先頭要素のアドレスを指すポインタ public: List(){ head = NULL; }; ~List(){ while (head != NULL)removeFirst(); } void addFirst(int data){ head = new Cell(data, head); } void removeFirst(){ if (head == NULL)return; Cell *removed = head; head = head->next; delete removed; } void removeLast(); void print(){ for (Cell *p = head; p != NULL; p = p->next){ cout << p->data << ' '; } cout << endl; } }; // 連結リストの末尾要素を削除する関数 void List::removeLast() { //この部分です ｝ int main() { List l1; for (int i = 0; i < 10; i++) { l1.addFirst(i); } l1.print(); l1.removeLast(); l1.print(); l1.removeLast(); l1.print(); l1.removeLast(); l1.print(); return 0; } 要求される実行結果は以下の通りです リストの内容: 9 8 7 6 5 4 3 2 1 0 リストの内容: 9 8 7 6 5 4 3 2 1 リストの内容: 9 8 7 6 5 4 3 2 リストの内容: 9 8 7 6 5 4 3
リストで任意の場所の要素を削除するプログラムを考えているのですが、どうしてもその部分のプログラムにmain関数通りの動きをさせる方法が分かりませんでした。いろいろ試してみたのですが、どこかしらでおかしくなってしまうのです。 以下に私がつくった途中までのプログラムを示すので、removeAt(int index)の中身の例を教えて頂きたいのです。よろしくお願い致します。 #include <iostream> using namespace std; // クラスの宣言 class Cell { friend class List; // Listクラスから，このクラスに自由にアクセスできるようにする private: int data; // データ Cell *next; // 次のセルのアドレスを指すポインタ public: Cell(int _data, Cell *n = NULL){ data = _data; next = n; } }; class List { private: Cell *head; // 連結リストの先頭要素のアドレスを指すポインタ public: List(){ head = NULL; }; ~List(){ while (head != NULL)removeFirst(); } void addFirst(int data){ head = new Cell(data, head); } void removeFirst(){ if (head == NULL)return; Cell *removed = head; head = head->next; delete removed; } void removeAt(int index); void print(){ for (Cell *p = head; p != NULL; p = p->next){ cout << p->data << ' '; } cout << endl; } }; // 連結リストの index 番目の要素を削除する関数 void List::removeAt(int index) { //この部分です ｝ int main() { List l1; for (int i = 0; i < 10; i++) { l1.addFirst(i); } l1.print(); l1.removeAt(0); // リストの先頭要素で動作確認 l1.print(); l1.removeAt(2); l1.print(); l1.removeAt(4); l1.print(); l1.removeAt(17); // リストの要素数より大きな引数で動作確認 l1.print(); l1.removeAt(0); // リストの先頭要素で動作確認 l1.print(); l1.removeAt(6); // リストの要素数より大きな引数で動作確認 l1.print(); l1.removeAt(5); l1.print(); return 0; } 要求される実行結果は以下の通りです リストの内容: 9 8 7 6 5 4 3 2 1 0 リストの内容: 8 7 6 5 4 3 2 1 0 リストの内容: 8 7 5 4 3 2 1 0 リストの内容: 8 7 5 4 2 1 0 リストの内容: 8 7 5 4 2 1 0 リストの内容: 7 5 4 2 1 0 リストの内容: 7 5 4 2 1 0 リストの内容: 7 5 4 2 1
今日は！ Windows7のPentium P6000を使用して、MFCでプログラムをしています。 下記の様な要領で、スレッドを作成しています。 pthreadRX=AfxBeginThread(testRX,reinterpret_cast<LPVOID>(&myClass), THREAD_PRIORITY_TIME_CRITICAL, 0 ); ここで、threadAの優先度は"THREAD_PRIORITY_TIME_CRITICAL"で、 threadB優先度は"THREAD_PRIORITY_NORMAL"とします。 Q１)threadAとthreadBが同時に動いている状態で、システム割込みは、両方の スレッドに入り、スレッドの実行速度を低下させますか？ 即ち、threadAに入る事を遠慮して欲しいものですが？ 以上、宜しくお願いします。
現在、WindowsとLinux（Unix）でソケット通信を行い、文字のやり取りをするプログラムを作成しています。 ソースコードやコンパイルの環境は、 Windows側（Windows7）：C言語（Windowsプログラミング）、VisualStudio2013でビルド＆実行 Linux側：C++、g++（Cygwinを使用） です。 Windows側のソースコードがShift-JIS、Linux側がUTF-8であり、このままだと文字化けしてしまうため、Windows側のソースコードをUTF-8に変更（VisualStudioでソースコードを保存するときに「エンコード付きで保存」を使用）して再度ビルド、実行を行ったのですが、やはり文字化けしてしまいます。 ソースコードの文字コードを変更しただけでは不十分なのでしょうか？ 原因があまりよく分からず困っています。 もし何か分かることがあれば教えていただきたいです、よろしくお願いします。 （もしかしたらカテゴリ違いかもしれません、申し訳ありません）
学校の演習課題で「クラス Array のメンバ変数を以下のように変更して，配列のサイズを実行時に決められるようにしたい．コンストラクタを適切に修正しなさい．配列のサイズはコンストラクタの引数で指定できるようにすること．main 関数内のオブジェクトの宣言部分を適当に変更して動作を確認しなさい．」という課題が出ました。 指示のメンバ変数の変更は、sizeを定数にしていたものを変数にし、arrayを配列からポインタにする点です。 もとのプログラムはI、私がいじったものがIIです。どうにもセグメンテーションフォルトから抜け出せなくて困っています。どのようにしたら題意のプログラムになるのでしょうか？ よろしくお願いします。 ここからI～ #include <iostream> using namespace std; class Array{ private: const static int size = 6; int array[size]; public: Array( ); int getSize( ); void put( int index, int data ); int get( int index ); void show( ); }; Array::Array( ) { for ( int i = 0; i < size; i++ ) { array[i] = 0; } } int Array::getSize( ) { return size; } void Array::put( int index, int data ) { array[index] = data; } int Array::get( int index ) { return array[index]; } void Array::show( ) { cout << "| "; for ( int i = 0; i < getSize( ); i++ ) { cout << get(i) << " | "; } cout << endl; } int main( ) { Array array1; array1.put(1, 2); array1.put(4, 1); array1.show( ); return 0; } ～ここまでI ここからII～ #include <iostream> using namespace std; class Array{ private: int size; int *array; public: Array(int s); ~Array(); int getSize(); void put(int index, int data); int get(int index); void show(); }; Array::Array(int s) { size = s; array = new int; for (int i = 0; i < size; i++) { *array = 0; array++; } array -= size; } Array::~Array() { delete[] array; cout << "デストラクタが呼ばれました。配列の要素数分のメモリを開放します." << endl; } int Array::getSize() { return size; } void Array::put(int index, int data) { *(array + index) = data; } int Array::get(int index) { return *(array + index); } void Array::show() { cout << endl << "| "; for (int i = 0; i < getSize(); i++) { cout << get(i) << " | "; } cout << endl; } int main() { int s = 0; cout << "確保するサイズを入力してください:"; cin >> s; Array array1(s); array1.put(1, 2); array1.put(4, 1); array1.show(); return 0; } ～ここまでII
今日は！ 東芝製にWindows7を使用しています。 サブルーチンの実行時間について質問します。 通常約0.5msで実行できるサブルーチンの実行時間がが、時々40ms程度かかる ことがあります（１時間に一回程度か？）。 セキュリティーとインターネット接続は外しています。 タスクマネージャーでプロセスをみますと、このAppと、他にperfmon.exe 、svchost.exe等が多少動いている様です。 Q1)この程度の実行時間変動は、Windowsでは普通でしょうか？ 東芝製のPower_saverが影響しているかとも考えています。 以上、宜しくお願いします。
Windows（Windows7以降）について質問します。 Windows システムは各種プロセス（サービス）がバックグランドで走っていますが、 これらのプロセス（サービス）を出来るだけ停止して、VC++で作成したAppを 走らせたいと考えています（Appが擬似リアルタイム的な処理のため）。 Q1)このプロセス（サービス）の停止に関しましてコメント頂けますと大変有難いです。 以上、宜しくお願いします。
C言語の、ポインターを使って大文字と小文字を入れ替えるプログラムを教えて下さい。 作ったのですが、うまくいかず困っています。 分かる方、訂正してください。 よろしくお願いいたします。 #include<stdio.h> void reverse(char *str) { int i; for(i=0;str[i]!='\0';i++) { if(str[i]>=0x61) {str[i]-0x20;} if(0x40<str[i]<0x5B) {str[i]+0x20;} } return(str); } int main(void) { int num; char *str="AddsssEEEEwwwJojoHoih"; printf("Before reverse %s \n",str) str=reverse(str); printf("After reverse %s \n",str); return 0; }
VS2008 C++でプログラムを作成しています。 ツリーコントロールの各アイテムにMDIのビューを関連付けたプログラムを作成しています。 アイテムをカーソルで移動されたとき、関連付けられたビューをアクティブにしたいのですが、アクティブなアイテムが切替わった時に発行されるメッセージはどのように受け取ればよいか、アドバイスをいただけませんでしょうか。 NM_SETFOCUS、NM_SETCURSORを試しましたが、これではないようです。
VS2008 C++にてVisualStudioライクなアプリを作成しています。 タブ付グループでビューを切り替えるショートカットをはないものでしょうか。 自分でコードを書かないとならないのでしょうか。 通常のMDIであれば、「Ctrl ＋ F6」がNext Viewのショートカットでしたが、これに変わるような操作の実装方法をアドバイスいただけないでしょうか。
お世話になります。 libpngをMinGW環境にインストールしようとしています。 ./conifureを実行すると、以下のとおりエラーとなります。 configure: error: zlib not installed zlibは/usr/localにインストール済みなのですが、 どなたか解決方法をご存知でしょうか？ libpng-1.6.18 zlib-1.2.8 MinGWは4.8.1をWindows7(64bit)に入れています。 よろしくお願いします。
C++Builder5を使っています。 TListの使い方で質問します。 List->Clear();で、Listのために使っていたメモリーも解放されるものと思っていました。 ところが、タスクマネージャでのメモリー使用量を見ているとそうなっていないようです。 Form上にあるボタンを押した時に次のような処理を記述しました。 UkeML->Clear(); for(i=0;i<800000;i++){ pt = new UkeM; strcpy(pt->t,tx); UkeML->Add(pt); } ボタンを何回押しても同じ事が繰り返される、と思ったのですが、私の環境では4回目まで（320万回）はOKですが、5回目でエラーとなります。 私の利用環境において、1回の起動で、ノードの追加が累積100万回を超える事はほぼ考えられないのですが、絶対にない、とは言い切れないので何とかしたいと思っています。 2回目以降で新規のListを作ろうとする時に、それまでのメモリーを解放するためには、どうしたら良いでしょうか？ アドバイスいただければ、と思います。 ちなみに私の環境は、 Win7 Pro 64bit メモリ4Gです。 メモリ８GのPCでも同じ現象でした。
c言語、32bit環境において float f = (float)99 / (float)10; のコードでfの期待値は9.9なのですが、実際は9.89999996となります。 99から9.9を導くにはどのようにコーディングすれば良いでしょうか？
このコードを書いてビルドまでノーエラーで通ったのですがいざ起動してみると起動した瞬間に動作を停止しました。と表示されて何もできません。 #include<iostream> #include<algorithm> using namespace std; int main(){ long long d[2000], e[2000]; intw[2000], h[2000], a[1501 * 1024], b[1502 * 1024], n, m; while (cin >> n >> m, n){ long k = 1, l = 1, count = 0, f = 0; for (int i = 0; i < n; i++) { d[i] = 0; cin >> w[i]; if (!i)d[0] = w[i]; else d[i] += w[i] + d[i - 1]; } for (int i = 0; i < m; i++) { e[i] = 0; cin >> h[i]; if (!i)e[0] = h[i]; else e[i] += h[i] + e[i - 1]; } a[0] = d[0]; b[0] = e[0]; for (int i = 1; i < n; i++) for (int j = 0; j < i; j++){ a[k] = d[i] - d[j]; k++; } for (int i = 1; i < m; i++) for (int j = 0; j < i; j++){ b[l] = e[i] - e[j]; l++; } sort(a, a + n); sort(b, b + m); for (int i = 0; i < n; i++){ for (; f < m; f++){ if (a[i] == b[f]){ count++; f++; break; } if (a[i] < b[f])break; } } cout << count << endl; } } ちなみにこの問題はhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2015 です
C言語のプログラムでゲームのスタミナの計算をしてみたいのですが可能でしょうか？ ラブライブのスクフェスというゲームの残りのスタミナ（LP）からあと何時間何分で全回復するかというプログラムを作ってみたいのですがLPの残りの計算まではできたのですがLPの値から時間（何時間何分かかる）を出す方法が分からないです。 スタミナ（LP）１つにつきで６分掛かるのでスタミナの上限値から現在値をひいた残りのスタミナの値から何時間何分かを計算して出力するプログラムです。 自分で作りかけたのですが残りのスタミナを表示後あと何時間何分掛かるか計算する方法が分からないです・・・ #include <stdio.h> int main(void) { int lp, lpmax, nowlp, restlp; /*lp; ６分で１回復　lpmax;あなたのLPの上限値　nowlp;あなたの現在のLP restlp；上限時から現在値を引いた残りのLP*/ lp = 6; lpmax = 0; printf("LPの上限を入力してください\n"); scanf_s("%d", &lpmax); printf("貴方の現在のLPを入力してください\n"); scanf_s("%d", &nowlp); restlp = lpmax - nowlp; printf("あなたの残りのLPは%dです\n", restlp); （そのあとが分からないです） c言語全くわからなく無謀かもしれませんがスタミナ計算のプログラムの作り方を教えて下さい。よろしくお願いいたします。
プログラミング言語で 「　|=　、　&= 」はどういう意味でしょうか。
　こんばんは 今、再び、Ｃ言語やJava言語のプログラミングの勉強を始めました。 そこで疑問に感じたのですが #include <stdio.h> int main() { printf("上から\n"); printf("Hello World\n"); printf("下へと処理される\n"); return 0; } こうやって上から下へと処理する方式をなんて呼ぶんでしょうか？ ど忘れしてしまってどうしても気になって夜も眠れません。 逐次実行方式なんて名前じゃないし、なんて呼ぶか忘れてしましました。 こんな私にご教授ください
株式取引に関するcocoaアプリを作成することになりチャートを表示したいのですが、どのようなUIを使用すればいいのでしょうか。 ネット上では折れ線グラフや円グラフなどを表示するライブラリは公開されていましたが、ローソク足はなさそうだったので自作しようと思っています。 環境は以下のとおりです。 OS X:10.10.5 Xcode:7.0 よろしくお願いいたします。
現在wavファイルからデータを読み出し、少数倍して再び格納するプログラムを作成しています。 量子化ビット数が16,32bitの場合は読み出したデータをshort型,int型の変数に入れて、そのまま計算が出来るのですが、C++には24bitの変数型がないため、24bitデータの処理に苦戦しています。 1サンプルあたり24bitで格納されているデータを読み出し、(double)倍したのち再び24bitずつ(3byte間隔で)書き込むにはどのようにすれば良いでしょうか？ 一度int型に格納し、計算してから上位3byteを書き込む方法が簡単だとは思うのですが、負の値の扱いに困っています。 どなたかサンプルプログラムをお教えいただけると幸いです。
データベースの挿入についてお教えください。コードは、既にあるテーブルにインサートをおこなっています。 コードはc#で書かれています。 using System; using Mono.Data.Sqlite; public class Example { static void Main() { string cs = "URI=file:test.db"; using (SqliteConnection con = new SqliteConnection(cs)) { con.Open(); using(SqliteTransaction tr = con.BeginTransaction()) { using (SqliteCommand cmd = con.CreateCommand()) { cmd.CommandText = "INSERT INTO Friends(Name) VALUES ('Tom')"; cmd.ExecuteNonQuery(); } tr.Commit(); } con.Close(); } } } tr.Commit()を行なうと、テーブルに挿入されますが、コミット後に新たにデータを挿入したい場合どのようにすればいいでしょうか？ あくまで、コードでtr.Commit()コミット後にデータを挿入したい場合です。 using(SqliteTransaction tr = con.BeginTransaction()) { using (SqliteCommand cmd = con.CreateCommand()) { cmd.CommandText = "INSERT INTO Friends(Name) VALUES ('Tom')"; cmd.ExecuteNonQuery(); } tr.Commit(); } using(SqliteTransaction tr = con.BeginTransaction()) { using (SqliteCommand cmd = con.CreateCommand()) { cmd.CommandText = "INSERT INTO Friends(Name) VALUES ('KEN')"; cmd.ExecuteNonQuery(); } tr.Commit(); } 上記のように、トランザクションを同様に２つ書けばできるのは、それでは芸がないので、何か良い書き方がないでしょうか？
毎度、お世話になります。 下記のサイトのファイルを見ていますが、その表示が改行とかスペースが無いので 大変読みづらいものです。 Q1)改行、スペースを追加して、表示する方法はありますか？ ==================== http://www.netlib.org/fdlibm/e_log.c ==================== 以上
凄く簡単な事だと思うのですが分からないので質問させて下さい。 例えば、 char a[10][20] ; char b[20] = "代入したいデータ" ; という配列がある場合、このa[0]の行にbの文字列を入れるにはどうしたら良いのでしょうか。 よろしければ回答をよろしくお願い致します。
キーボードから整数を入力し、入力された整数が100以上10以上100未満、10未満のいずれかを判定してその結果を出力するプログラムを作りなさい。 なのですが、自分が考えたのは#include <stdio.h> int main(void) { char *str[] = {"10未満", "10以上100未満", "100以上"}; int n; scanf("%d", &n); puts(str[(n >= 10) + (n >= 100)]); return 0; } ですが、友達の教科書と例回答を見ていると写真のようにしないといけないみたいなのですが、どなたかご教授お願い致します
C#で、 virtualがない時はnewしか使えませんが、 virtualがある時はoverrideとnewが使えますが、 overrideとnewを使った時の違いがよく分かりません。 例えば、基本クラスに public virtual void show(){ 　Console.WriteLine("基本クラス"); } というメソッドがあるとして、 派生クラスで、 public override void show(){ 　Console.WriteLine("派生クラス"); } とすると、 基本クラスのメソッドが上書きされて、 Console.WriteLine("派生クラス"); が実行されますが、 派生クラスで、 public new void show(){ 　Console.WriteLine("派生クラス"); } とした場合にも、 基本クラスのメソッドが隠匿されて、 Console.WriteLine("派生クラス"); だけが実行されます。 virtual使用時において、 継承メソッドの隠匿(new)と、 継承メソッドの上書き(override)では、 一見、なにも違いがないように見えるのですが、 何か違うのでしょうか。
ファイル名取得用のダイアログとしてGetOpenFileNameを 使っています。この時、画面右上のツールバーのボタンの 画像がVBの時と、Cの時で異なります。 VBでは画像の上の段のようにカラフルで立体的なボタンに なりますが、Cだと下段のように平面であまりカラフルでは ないものになります。 Cでやる時にもVBのようなボタンにしたいのですが、何か 方法をご存知の方がいたらご教授ください。
Windows C#などを用いてマイコンボードとUARTで通信するアプリを作成しています． 従来は20bit程のデータを38400bpsで50回/sec程度受信して、グラフ表示していました． 今回新たに1000回/sec程受信したいと考えています． 高速シリアルで検索すると以下のような商品が見つかり、ハード的には高速で通信できるようでした． https://strawberry-linux.com/catalog/items?code=50028 C#ではserialPort_DataReceivedイベントでバッファーのデータを配列に取り込み、\r\nを受信した時点で処理-->グラフ表示を実行しています． 上記のプログラムでは50回/secでもデータの取りこぼしがあります． 高速でシリアル通信を行う場合はどのように追プログラムを作成することが定石なのでしょうか?ドライバの開発などを行う必要があるのでしょうか?
グループボックスコントロールのBN_CLICKEDイベントが発生しません。 NotifyプロパティはTrueとしています。 その他のプロパティもTrue、Falseどちらも試してみましたが 割り込みに入りません。 何か足りない部分があるのでしょうか？ ＊VB6.0からVC++2010への移植作業中です。 　VB6.0の Frame Control をVC++の Groupe Box Control としました。
Cコンパイラをインストールなしでwindowsに入れる方法を探しています。 以下、詳細です。 (1)GUEST環境のために、インストールが実行できません。 (2)セキュリティやウイルスの関係上、USBメモリなどの外部媒体を使う事が禁止されています。 そのため、USBメモリを経由してCコンパイラを使う、ということはできません。 以上の状況下で、Cコンパイラをwindowsに入れたいのですが、なにかいい方法はないでしょうか。 なお、使っているpcには基本的に必要最低限のものしか入っていません。 （調べた限りでは、cコンパイラの導入のほとんどにインストールが必要でした。 おそらく、c言語がunixの開発のために作られたものであるため、windowsに入れるためにはある程度の準備が必要だからかな、と認識しています。）
#include<stdio.h> int main(void) { long a[6000],sum[6000],max=0; int i,j=0,n,m; for (m = 0; m <= 6000; m++) sum[m] = 0; for (i = 0;; i++) { scanf_s("%ld", &a[i]); if (a[i] > 0) sum[j] += a[i]; else if (a[i] < 0) { j++; sum[j] = -1; j++; } else break; } for (n = 0; sum[n] == 0; n++) { if (max < sum[n]) max = sum[n]; } printf("%ld",max); while(1){} return 0; } こんなコードを書いたのですが 答えが常に０になってしまいます。 原因がはっきりしないので教えてください 使用言語はCです
プログラムを趣味でやっています。 大変たのしいですが、わからない事ばかりで苦戦しています。 今は、下記のプログラムが、うまくいかなくて悩んでいます。 使用機器はMacBook Pro で、nasmを使っています。 何だかオープンがうまくいっていない様な感じです。 誰か、助けて下さい。 --- test.asm --- global _main section .text _main: mov rax, 0x2000005 ; 'open' syscall lea rdi, [rel fname] ; file name mov rsi, 0x042 ; write mode mov rdx, 0666o ; permissions set syscall mov [rel fd], rax mov rax, 0x2000004 ; 'write' syscall mov rdi, [rel fd] ; file descriptor lea rsi, [rel buffer] ; buffer address mov rdx, buffer.length ; buffer string length syscall mov rax, 0x2000006 ; 'close' syscall mov rdi, [rel fd] ; file descriptor syscall movrax, 0x2000001 movrdi, 0 syscall section .data fname: db "Hello.txt", 0 fd: dq 0 buffer: db "Hello,world!!" .length: equ $-buffer 一体どこがわるいんでしょう？ よろしくお願いします。
使用言語はCです。 #include<stdio.h> #include<math.h> int main(void) { doublex = 0, y = 0; while (1) { double arg2 = M_PI / 90; int arg1 = 90; int Arg = 0, Len = 0; scanf_s("%d,%d", &Len, &Arg); if (Len == 0 && Arg == 0) { break; } else { arg1 -= Arg; arg2 += (arg1 % 360)*M_PI / 180; x += cos(arg2)*Len; y += sin(arg2)*Len; } } printf("%d\n%d\n", (int)x, (int)y); while (1) {} return 0; } このコードをvisual studio でコンパイルしようとすると、 M_PIは定義されていない とエラーになってしまいます。 M_PIはmath.hに含まれているということでつかったのですが・・・・
明らかに正常なコードなのに答えが間違っているとされます。 #include<stdio.h> int main(void) { int a, b, c, N, i; scanf("%d",&N); for (i = 0; i < N; i++) { scanf("%d %d %d", &a, &b, &c); int A = a*a; int B = b*b; int C = c*c; if ((A + B == C) || (B + A == C )|| (C + A == B)) { printf("YES\n"); } else { printf("NO\n"); } } return 0; } これはvisual studio では通りました。 ちなみにこのコードは自分のものと酷似していますが、これはAIZU的にはOKだそうです。 #include <stdio.h> int main(void) { int a, b, c, n, i; scanf("%d",&n); for (i = 0; i < n; ++i) { scanf("%d %d %d", &a, &b, &c); if ((a*a + b*b == c*c) || (b*b + a*a == c*c) ||( c*c + a*a == b*b)) printf("YES\n"); else printf("NO\n"); } return 0; } この違いはなんでしょうか？
「＊」を使い、次のプログラムを作成しなさい。 　＊ 　＊＊＊ 　＊＊＊＊＊ これをfor文を使って作りたいんですけどどうしたらいいですか？
Visual Studio 2010 ExpressでWIN32プロジェクトを選択して作成した、フォームだけのプログラムを起動。 その後、インターネットエクスプローラーを起動し、いろいろなホームページを見る。 ページが切り替わってURLが変わるたびに、自分が作成したプログラムのクライアント領域にそのURLが表示される。 というプログラムを作りたいのですが、インターネットエクスプローラーから、表示中のURLを取得する方法がわかりません。　URLを取得する方法を教えてください。 --- 実行環境 --- インターネットエクスプローラー９ Visual Studio 2010 Express WIN32 ユニコードビルド C言語
C言語で税抜価格を5件入力してこれらの合計金額に加算される消費税率8％と税込売上総額を表示するプログラムをやっているのですが、ビルドすると「error C4700: 初期化されていないローカル変数 '' が使用されます」とエラーになり前へ進めないです。 一応作ってみたものが↓　↓ #include <stdio.h> main() { float a, b, c, d, e, zeiritu, zeikomigoukei, zeikin; /*5件の税抜き価格a,b,c,d,e・税率・合計金額*/ printf("商品価格（税抜）を5件入力する"); scanf_s("%f", &a, b, c, d, e); /*5件の税抜き金額を入力*/ printf("税率を入力する"); scanf_s("%f", &zeiritu); zeikomigoukei = (a + b + c + d + e)*(100 + zeiritu) / zeiritu; /*税込合計＝5件の値段×(100＋税率)÷税率*/ zeikin = zeikomigoukei - (a + b + c + d + e); /*加算される消費税額＝税込合計－税抜合計金額*/ printf("加算される消費税額は%f.です\n,zeikin"); printf("総売上額は%f.です\n,goukei"); } です。C言語が全く分からない者がやったものでうまく作れないです。 どなたかこのプログラムのやり方わかる方いますでしょうか。色々調べまくったのですがそろそろ限界です。最後の手段としてOKWaveで投稿させていただきました。 どうかよろしくお願いします。
言語はC++，コンパイル環境はVS2013のリリースモードです． 静的リンクライブラリと動的ライブラリについてはある程度は理解しております． 静的ライブラリに関する質問なのですが，そのライブラリの1部しか利用しない場合でも，利用側プログラムのバイナリにはライブラリのバイナリすべてが含まれてしまうのでしょうか． 例えば，100個の関数から構成される静的ライブラリを作ったとして，あるプログラムAはそのライブラリのうちの10個の関数しか呼び出さないとします． このとき，プログラムAのバイナリは，ライブラリの使わない関数のバイナリもすべて含んでしまうのでしょうか． 自作ライブラリを作成するにあたって，1つの静的ライブラリにプログラムを集中させるべきか否かで悩んでおります．
現在C#にて画像を表示してラバーバンドで選択した範囲のみを切り抜いて画像ファイルとして保存する。 というツールを製作しているのですが、ラバーバンドの表示やピクチャボックス全体の画像ファイルの保存はできたのですが選択範囲のみを切り抜いて保存すると言う処理が私にはかけません。。 どなたか助けてはいただけないでしょうか？ public partial class Form1 : Form { private int _xi, _yi, _xc, _yc; public Form1() { InitializeComponent(); } private void button1_Click(object sender, EventArgs e) { //OpenFileDialogクラスのインスタンスを作成 OpenFileDialog ofd = new OpenFileDialog(); //はじめのファイル名を指定する ofd.FileName = ""; //はじめに表示されるフォルダを指定する ofd.InitialDirectory = @"C:\"; //[ファイルの種類]に表示される選択肢を指定する ofd.Filter = "TIFFファイル(*.tif;*.tiff)|*.tif;*.tiff|JPEGファイル(*.jpg;*.jpeg)|*.jpg;*.jpeg|PNGファイル(*.png)|*.png|ビットマップ(*.bmp)|*.bmp|すべてのファイル(*.*)|*.*"; //[ファイルの種類]ではじめに //「TIFFファイル」が選択されているようにする ofd.FilterIndex = 1; //タイトルを設定する ofd.Title = "開くファイルを選択してください"; //ダイアログボックスを閉じる前に現在のディレクトリを復元するようにする ofd.RestoreDirectory = true; //ダイアログを表示する if (ofd.ShowDialog() == DialogResult.OK) { //OKボタンがクリックされたとき //画像の大きさをPictureBoxに合わせる pictureBox1.SizeMode = PictureBoxSizeMode.StretchImage; //PictureBox1に選択した画像を表示する pictureBox1.ImageLocation = ofd.FileName; } } private void pictureBox1_MouseDown(object sender, MouseEventArgs e) { if (e.Button != MouseButtons.Left) return; _xi = _xc = e.X; _yi = _yc = e.Y; pictureBox1.Invalidate(); } private void pictureBox1_MouseMove(object sender, MouseEventArgs e) { if (e.Button != MouseButtons.Left) return; _xc = e.X; _yc = e.Y; pictureBox1.Invalidate(); } private void pictureBox1_Paint(object sender, PaintEventArgs e) { if(_xc == _xi && _yc == _yi) return; int x, y, w, h; if(_xc < _xi) { x = _xc; w = _xi - _xc; } else { x = _xi; w = _xc - _xi; } if(_yc < _yi) { y = _yc; h = _yi - _yc; } else { y = _yi; h = _yc - _yi; } e.Graphics.DrawRectangle(Pens.Black, x, y, w, h); } private void button2_Click(object sender, EventArgs e) { //SaveFileDialogクラスのインスタンスを作成 SaveFileDialog sfd = new SaveFileDialog(); // フィルターの設定 sfd.Filter = "TIFF形式|*.tif|GIF形式|*.gif|JPEG形式|*.jpeg|PNG形式|*.png|すべてのファイル(*.*)|*.*"; // ファイル保存ダイアログを表示 sfd.ShowDialog(); String extension = System.IO.Path.GetExtension(sfd.FileName); switch (extension.ToUpper()) { case ".TIF": // PictureBoxのイメージをTIFF形式で保存する pictureBox1.Image.Save(sfd.FileName, System.Drawing.Imaging.ImageFormat.Tiff); break; case ".GIF": // PictureBoxのイメージをGIF形式で保存する pictureBox1.Image.Save(sfd.FileName, System.Drawing.Imaging.ImageFormat.Gif); break; case ".JPEG": // PictureBoxのイメージをJPEG形式で保存する pictureBox1.Image.Save(sfd.FileName, System.Drawing.Imaging.ImageFormat.Jpeg); break; case ".PNG": // PictureBoxのイメージをGIF形式で保存する pictureBox1.Image.Save(sfd.FileName, System.Drawing.Imaging.ImageFormat.Png); break; } }
arduinoで◯ミリ秒後に13番ピンを△ミリ秒間HIGHにする、というプログラムを組みたいと思い、できたことはできたのですが、シリアルモニターで確かめようとすると、◯ミリ秒後の設定がその影響を受けてか狂ってしまいます。 具体的には以下の様なプログラムです。 #include <MsTimer2.h> //カウント用定数 unsigned long static int i = 0; static int j = 0; //待ち時間（秒） unsigned long wtime = 252000000; //稼働時間（秒） unsigned int mtime = 900000; void func(){ i++; Serial.println(i); Serial.println(j); if(i == wtime){ digitalWrite(13,HIGH); i=0; j=1; } if(j > 0 & j < mtime){ i=0; j++; } else if(j == mtime){ digitalWrite(13,LOW); i=0; j=0; } } void setup() { pinMode(13,OUTPUT); MsTimer2::set(1,func); MsTimer2::start(); Serial.begin(9600); } void loop() { } MsTimerを使って、1ミリ秒ごとにfuncを呼び出し、カウント用変数をインクリメントして間隔を制御する、というものです。 シリアル通信をするコードを削除すれば問題ないのですが、上記のようにすると、カウントが9.6分の１の速さになってしまうようです。 これはなぜでしょうか。 なお、当方arduinoをいじるのは初めてで、C言語はほぼ素人です。 ご存知のかたいらっしゃいましたら教えて下さいませ。 よろしくお願い致します。
C++，開発環境はVisual Studio Professional 2013です， ライブラリ1にxy座標の構造体 struct point { int x; int y; }; を定義しています． ライブラリ2にも全く同じ構造体を定義しています． ここで，あるプロジェクトからこれら2つのライブラリをリンクしようとしたら， error C2011: 'point' : 'struct' 型の再定義 というコンパイルエラーが出ます． ライブラリ1とライブラリ2にpoint構造体が記述された共通用のヘッダを参照させるという方法をとれば解決できるのでしょうが，この方法以外でこのエラーをなんとか回避する方法はないでしょうか． 構造体宣言は只の宣言であって実体をもたないため，中身が同じであればいくら記述が重複しても問題はないと聞いたことがあったので大丈夫だと思っていました． また，ライブラリ1とライブラリ2のpoint構造体の名前それぞれpoint1,point2にするなど違うものにするという方法でも回避できるのでしょうが，下記のメインコード内でコメントアウトされている部分のように，構造体の中身が全く同じなので互換性を持たせられるようにしたいのです． ちなみに，ライブラリ1,2はコンソールアプリケーション・空のプロジェクトで作成したあと，ソリューションのプロパティで「構成の種類」を「スタティックライブラリ（.lib）」にするという手順で作成しています． 以下，簡略コード ====ライブラリ1==== ----lib1.h---- #ifndef _H1_ #define _H1_ struct point { int x; int y; }; void print_lib1(struct point p); #endif ----lib1.cpp---- #include "lib1.h" #include <iostream> void print_lib1(struct point p) { std::cout << "lib1 : " << p.x << ", " << p.y << std::endl; } =====ライブラリ2====== ----lib2.h---- #ifndef _H2_ #define _H2_ struct point { int x; int y; }; void print_lib2(struct point p); #endif ----lib2.cpp---- #include "lib2.h" #include <iostream> void print_lib2(struct point p) { std::cout << "lib2 : " << p.x << ", " << p.y << std::endl; } ===メインコード=== ----main.cpp---- #include "../../lib1/lib1/lib1.h" #include "../../lib2/lib2/lib2.h" int main(void) { struct point val; val.x = 2; val.y = 3; print_lib1(val); //print_lib2(val); }
C言語の本を読んでいたのですが、わからないことがありました。 //2進数を10進数に変換するプログラム #include <stdio.h> #include <string.h> int main() { char binary[32];/* 2進数 */ int weight;/* 2進数の桁の重み */ int pos;/* binary[]の桁の位置 */ int val;/* binary[]の桁の位置の値 */ int sum;/* 集計された値（変換後の10進数） */ /* キーボードから2進数を入力する */ printf("変換前の2進数 = "); gets(binary); /* 2進数を10進数に変換する */ sum = 0; weight = 1; for (pos = strlen(binary) - 1; pos >= 0; pos--) { val = binary[pos] - '0'; printf("桁の重み%d × 桁の数値%d = %d\n", weight, val, weight * val); sum += weight * val; weight *= 2; } /* 変換後の10進数を画面に表示する */ printf("変換後の10進数 = %d\n", sum); return 0; } このプログラムにおいて、val = binary[pos] - '0';という部分がよくわかりません。 -'0'って書き方がよくわかんないです。 この行は一体なにをしているんでしょうか・・ 解説お願いします。
http://oku.edu.mie-u.ac.jp/~okumura/wavefmt.html にあるdumpwave.cを実行して得られるテキストファイルのデータの範囲（振幅値）を-1から1にするにはどうしたらよいか教えてください。
HI-TECHでコンパイルできるプログラムの一部を XC8でコンパイルできるプログラムに変換して下さい。 また、その理由も教えて下さい。 T0IF = 0; OPTION = 0x86; T0IE = 1; GIE = 1;
当方の環境は、 windows 7 visual studio community 2015 Eドライブ直下にboostフォルダあり　です。 こちらのサイトのサンプルを実行したいのですが、boostの導入に手間取っています。 http://sfpgmr.hatenablog.jp/entry/wasapi-%E6%8E%92%E4%BB%96%E3%83%A2%E3%83%BC%E3%83%89%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%EF%BC%88%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%A2%E3%83%BC%E3%83%89%EF%BC%89 ここ（http://rexpit.blog29.fc2.com/blog-entry-89.html）を参考にboostのビルドまでは完了したと思います。 プロジェクトのプロパティページから 構成プロパティ→VC++ディレクトリで インクルードディレクトリに E:\boost ライブラリディレクトリに E:\boost\stage\lib を追加して実行しても「ソースファイルを開けません"cstdint.hpp"」などのエラーが出ます。 サンプルの#include <boost/cstdint.hpp>を#include <cstdint.hpp>に変更するなど試してみましたが同様でした。 どなたか正しい設定をご教授いただけると幸いです。
こんにちは、 とあるプログラミングでdoubleの箱が突然２つでてきて混乱しています。 //読み込んだ実数値は１０で割りきれるか #include <cmath> #include <iostream> Using namespace std; Int main() { Double x; Cout <<"実数値: "; cin >> x; If (double m = fmod(x, 10)) { Cout<<"その値は１０で割りきれません。\n"; Cout<<"剰余は"<< m << d"です。"\n"; } else{ Cout"その値は１０で割りきれます" \n"; } } とあり、なぜ突然double mがでてきたのでしょうか？ すみません m(__)m
こんにちは プログラミングのif文で =と==の違いはなんですか？ なぜあえてイコールを２つ繋げるのですか？ m(__)m
こんにちは プログラミングで If文は２つ以上の条件を課せますか？ 例えば、A=０である場合と、突然の数字でA=３はOKでそれ以外の数はダメ といった具合に… 教えてくださるかたいましたらお願いします m(__)m
こんにちは ソースを書いてコンパイル+リンクしてみたいと思い、 VisualStudioをダウンロードしたのですが、 まずソースもなにもお手上げ状態でまず、ソースを書くことすらできません。 だれか教えてくださる方いますか。。 m（__）m
こんにちは コンパイラはだいたい８万円くらいするのでしょうか…？ あまりにも高くて困るのですが、安くダウンロードできるところなどありませんか？ m(__)m
こんにちは 突然ですが、 オープンソースとは、誰かが編み出した技みたいなものですか？ 例えいうなら、なにかゲームで裏技みつけた！みたいに言ってネットに投稿しているようなもののことを言うのでしょうか？
「コンピューターにMSVCP100.dllがないため、プログラムを開始できません」。この問題を解決するには「Microsoft VisualC++2010再頒布可能パッケージ」をインストールすれば良い、ということを知りました。Maicrosoft Download Centerの、 Microsoft VisualC++2010再頒布可能パッケージ（ｘ86）「日本語」「ダウンロード」のページを見つけて、「ダウンロード」をクリックしたら、その他の推奨ダウンロード（2つ　ここは省略）が開き、ここでは「次へ」ボタンをクリック。ここでダウンロードが始まったはずですが、「実行」「保存」「キャンセル」の選択画面がでてこないで、いきなり「ダウンロードしていただき、ありがとうございます」の画面になり、どこに保存するかも聞かれなかった（デスクトップにもなし）ので、インストローラーが見つからず、インストールできません。どうしたらインストールできるでしょうか。
http://oshiete1.watch.impress.co.jp/qa9017378.html で質問をさせて頂き、アドバイスを基に以下のアルゴリズムを追加しました。 （以前の質問では、間違って質問を締め切ってしまいました。 アドバイスを頂いた方に大変失礼なことをしてしまいました。申し訳ございません。） １．パルス幅の最大値を保持する。 ２．物体の通過後に累積個数を加算する。この時に、保持した最大値を用いる 従来はRise==2,PP==1の時に、累積加算+パルス幅の判別を行っていました。 このタイミングは、「物体の先端を検知した時」になります。 それを変更し、Rise==1,PP==2の時に、判別するようにしました。 このタイミングは「物体の通過後」になります。 質問： 「１」の「最大値の保持」のプログラムが意図した通りに動きません。 １ループ前のパルス幅を P_Captime[1]=Captime[1]; として保持し、 現在のループの計測値を比較を行い、現在の値の方が大きければ Max_Captime[1]=Captime[1]; とし、最大値を保持しています。 私の意図している動き： LCDに ・現在のパルス幅（Captime[1]) ・最大値 （Max_Captime[1]) を表示しています。 この時、LCDの表示が ・１ループ目 現在のパルス幅が50 →最大値も50 ・２ループ目 現在のパルス幅が20 →最大値は50のまま としたいのですが、 ずっと現在のパルス幅＝最大値となり、 最後のパルス幅（物体が通過した最後のループ）がLCDに保持されたままになります。 例）上記の後、最後のループのパルス幅が30の場合、最大値は50でなく、30と表示される。 以下ソース抜粋 /* パルス有無の検知 Rise による識別*/ if(Rise==1){ KOSU=0; Captime[1]=0; } else if(Rise==2){ // パルス幅の計算 Captime[1]=Captime_rise[2]-Captime_down[1]; if(Captime[1]>P_Captime[1]){ // 最大パルスの取得・保持 Max_Captime[1]=Captime[1]; } } P_Captime[1]=Captime[1]; PP=Rise; /*抜粋終わり*/ ドツボに嵌っています。 あえて昨日は何も考えずに、もう一度ソースコードでなく、アルゴリズム図から見直してみましたが、うまくいきません。 /*****************************/ 冗長な文章でしたので、要約すると １．パルス幅の最大値を保持する。 ２．物体の通過後に累積個数を加算する。この時に、保持した最大値を用いる の「１．パルス幅の最大値を保持する」がうまくいかないので、「２」に進めずに 困っています。 となります。 アドバイスを頂けたら幸いです。 （もちろん自分自身でも、並行して考え直しています）
今、ゲームのようなプログラムを作っていて、下はそのダメージ計算量を計算するプログラムを書いたつもりでいたのですが、どうやら「compatibility」と作った関数が計算されていないようです。 int compatibility(int a[2][3], int s, int t, struct monster monster[]) { int m; int add; printf("a2\n"); if( (monster[a[s][0]-1].tricktype == 1 && (monster[a[t][0]-1].type == 3 || monster[a[t][0]-1].type == 4)) || (monster[a[s][0]-1].tricktype == 2 && monster[a[t][0]-1].type == 1) || (monster[a[s][0]-1].tricktype == 3 && (monster[a[t][0]-1].type == 2 || monster[a[t][0]-1].type == 4)) || (monster[a[s][0]-1].tricktype == 4 && (monster[a[t][0]-1].type == 2 || monster[a[t][0]-1].type == 5)) || (monster[a[s][0]-1].tricktype == 5 && (monster[a[t][0]-1].type == 1 || monster[a[t][0]-1].type == 3)) /* 効果抜群 */ ){ m = (int)rand() % 2; if(m == 0) add = 1; if(m == 1) add = 2; }else{ if( (monster[a[s][0]-1].tricktype == 1 && (monster[a[t][0]-1].type == 2 || monster[a[t][0]-1].type == 5)) || (monster[a[s][0]-1].tricktype == 2 && monster[a[t][0]-1].type == 3) || (monster[a[s][0]-1].tricktype == 3 && (monster[a[t][0]-1].type == 1 || monster[a[t][0]-1].type == 5)) || (monster[a[s][0]-1].tricktype == 4 && (monster[a[t][0]-1].type == 1 || monster[a[t][0]-1].type == 3)) || (monster[a[s][0]-1].tricktype == 5 && monster[a[t][0]-1].type == 4 ) /* 効果いまひとつ */ ){ m = (int)rand() % 2; if(m == 0) add = 1; if(m == 1) add = 1/2; }else{ m = (int)rand() % 10; if(m == 0){ add = 2; }else{ if(m == 15){ add = 1/2; }else{ add = 1; } } } } return add; } int damage(int i, int a[2][3], struct monster monster[], int b[2]) { int add; double damage; int s, t, u; s = (i+1) % 2; t = i % 2; u = (int)rand() % 32; add = compatibility(a, s, t, monster); ・ ・ ・ ｝ printf("a2\n");を関数内に用いて、実際にcompatibility関数を読み込んでいるのか確かめたのですが、コンパイラーにそう表示されることなく、関数を読み込んでいないのではと判断したしだいです。 長文すいません、お手数ですがどこをどのように変更すればいいのか、教えていただけるとありがたいです。 よろしくお願いします。 ちなみにa[2][3]はint型の配列、monsterはint型のtypeやtrickeffectを収入したもののつもりです。
次は自分で書いたプログラムの一部なのですが、このプログラムをコンパイルすると以下のようなエラーが表示されます。 struct monster{ int type; /* タイプ */ char trick[25]; /* 技 */ char trick2[25]; /* 技２ */ int tricktype; /* 技１のタイプ */ int tricktype2; /* 技２のタイプ */ int trickeffect; /* 技１の威力 */ int trickeffect2; /* 技２の威力 */ char name[10]; /* 名前 */ int power; /* 攻撃力 */ int diffence; /* 防御力 */ int speed; /* 素早さ */ int HP; /* 体力 */ /* 1,fire 2,water 3,nature 4,thunder 5,wind */ }; struct monster monster2[5] = { { 1, "a", "b", 1, 2, 120, 80, "v", 60, 60, 60, 100}, { 2, "a", "b", 2, 3, 120, 80, "w", 60, 60, 60, 100}, { 3, "a", "b", 3, 4, 120, 80, "x", 60, 60, 60, 100}, { 4, "a", "b", 4, 5, 120, 80, "y", 60, 60, 60, 100}, { 5, "a", "b", 5, 1, 120, 80, "z", 60, 60, 60, 100}, } void battle(int a[2][3], struct monster monster[], struct monster monster2[]) { ・ ・ ・ printf("player2は%sをくりだした。\n", monster2.name[a[1][0] - 1]); ・ ・ printf("%sの残り体力は%d。\n", monster2.name[a[1][0] - 1], monster2.HP[a[1][0] - 1]); } monsterbattle.c:467:61: エラー: 構造体または共用体ではない何かのメンバ ‘name’ の 要求です printf("player2は%sをくりだした。\n", monster2.name[a[1][0] - 1]); ^ monsterbattle.c:475:52: エラー: 構造体または共用体ではない何かのメンバ ‘name’ の 要求です printf("%sの残り体力は%d。\n", monster2.name[a[1][0] - 1], monster2.HP[a[1 ][0] - 1]); ^ monsterbattle.c:475:80: エラー: 構造体または共用体ではない何かのメンバ ‘HP’ の要 求です printf("%sの残り体力は%d。\n", monster2.name[a[1][0] - 1], monster2.HP[a[1 ][0] - 1]); このようなエラーがあちこちで表示されるのですが、どのようにプログラミングを改善すべきなのでしょうか？ お手数ですが、よろしくお願いします。
struct monster{ int type; /* タイプ */ char trick[25]; /* 技 */ char trick2[25]; /* 技２ */ int tricktype; /* 技１のタイプ */ int tricktype2; /* 技２のタイプ */ int trickeffect; /* 技１の威力 */ int trickeffect2; /* 技２の威力 */ char name[10]; /* 名前 */ int power; /* 攻撃力 */ int diffence; /* 防御力 */ int speed; /* 素早さ */ int HP; /* 体力 */ /* 1,fire 2,water 3,nature 4,thunder 5,wind */ }; main(){ int a[2][3]; struct monster monster[5] = { { 1, "a", "b", 1, 2, 120, 80, "v", 60, 60, 60, 100}, { 2, "a", "b", 2, 3, 120, 80, "w", 60, 60, 60, 100}, { 3, "a", "b", 3, 4, 120, 80, "x", 60, 60, 60, 100}, { 4, "a", "b", 4, 5, 120, 80, "y", 60, 60, 60, 100}, { 5, "a", "b", 5, 1, 120, 80, "z", 60, 60, 60, 100}, }; struct monster monster2[5] = { { 1, "a", "b", 1, 2, 120, 80, "v", 60, 60, 60, 100}, { 2, "a", "b", 2, 3, 120, 80, "w", 60, 60, 60, 100}, { 3, "a", "b", 3, 4, 120, 80, "x", 60, 60, 60, 100}, { 4, "a", "b", 4, 5, 120, 80, "y", 60, 60, 60, 100}, { 5, "a", "b", 5, 1, 120, 80, "z", 60, 60, 60, 100}, }; inputmonster(a, monster); printf("これからバトルを開始します\n\n")； printf("player1は%sをくりだした。\n", monster[a[0][0]-1].name); printf("player2は%sをくりだした。\n", monster2[a[1][0]-1].name); battle(a); return 0; } void inputmonster(int x[][3], struct monster monster) { int i, s, t, m, n; for(t = 0; t < 2; t++){ s = 0; while (s < 1){ printf("player%dは好きなモンスターを3つ選んでください\n\n", t+1); for (i = 0; i<3; i++){ printf("%d体目を選んでください。\n\n", i+1); for(m = 0; m < 5; m++) printf("%d, %s\n", m+1, monster[m].name); scanf("%d", &x[t][i]); printf("%d体目 : %s\n\n", i+1, monster[x[t][i]-1].name); } printf("これでよろしいですか？\n"); for(i = 0; i<3; i++) printf("%d体目 : %s ", i+1, monster[x[t][i]-1].name); printf("１、はい ２、いいえ\n"); scanf("%d", &n); if(n == 1) s = 1; else s = 0; } } } 上記のようにプログラムをコンパイルしたところ、 monsterbattle.c: 関数 ‘inputmonster’ 内: monsterbattle.c:497:63: エラー: 添字が付けられた値が、配列、ポインタまたはベクト ルではありません for(m = 0; m < 5; m++) printf("%d, %s\n", m+1, monster[m].name); ^ monsterbattle.c:499:45: エラー: 添字が付けられた値が、配列、ポインタまたはベクト ルではありません printf("%d体目 : %s\n\n", i+1, monster[x[t][i]-1].name); ^ monsterbattle.c:503:68: エラー: 添字が付けられた値が、配列、ポインタまたはベクト ルではありません for(i = 0; i<3; i++) printf("%d体目 : %s ", i+1, monster[x[t][i]-1].na me); というような結果が返ってきました。 どうやら定義がうまくなっていないようなのですが、どこを改善すればうまく動くようになるのでしょうか？ お手数ですが、よろしくお願いいたします。
H8/3052FのマイコンとAKI-H8-USBのキットを使用しています。 ledを制御する際に、通常はportのデータレジスタの該当ビットをlow(0)にしたときに消灯、high(1)に点灯となると思うのですが、 なぜか逆になります。つまりlowレベルのとき点灯します。 他に接続しているスイッチも逆になっているみたいです。 回路の組み立てがおかしいのでしょうか？ 理由が分からず悩んでいました。 よろしくお願いします。
教えてください。以下のプログラムを修正してソケットを使った残高照会プログラムを作成。 関数searchdata(long key, char *dp, int size)を最後に追加する。 #include <stdio.h> /* for printf() and fprintf() */ #include <sys/socket.h> /* for recv() and send() */ #include <unistd.h> /* for close() */ #include <string.h> #define RCVBUFSIZE 32 /* Size of receive buffer */ int searchdata(long key, char *dp, int size); long id; void DieWithError(char *errorMessage); /* Error handling function */ void HandleTCPClient(int clntSocket) { char echoBuffer[RCVBUFSIZE]; /* Buffer for echo string */ int recvMsgSize; /* Size of received message */ /* Receive message from client */ if ((recvMsgSize = recv(clntSocket, echoBuffer, RCVBUFSIZE, 0)) < 0) DieWithError("recv() failed"); sscanf(echoBuffer, "%ld", &id); if (searchdata(id,echoBuffer,sizeof(echoBuffer))==EOF) { snprintf(echoBuffer,sizeof(echoBuffer),"%ld",0L); } if (send(clntSocket, echoBuffer, strlen(echoBuffer), 0) != strlen(echoBuffer)) DieWithError("send() failed"); close(clntSocket); /* Close client socket */ }
プログラミングC言語の問題でC言語のrand関数を利用して33回のサイコロ型乱数を出力するプログラムを書きなさい。という問題が出ました。ソースコードを教えてください。
お世話になります。 現在PICマイコンでC言語を用いて、プログラムを組んでいますが、煮詰まったので皆様のアドバイスを頂戴したく、質問させて頂きます。 問題点概要： if文の分岐がうまく行かない。 パルス幅を計測し、その幅に応じて個数を判別し、累積カウントをするプログラムです。 しかし、パルス幅での個数の判別がうまく行きません。 例）パルス幅100以上で「２つ」とカウントしたいところが、「１つ」とカウントする。 プログラム仕様： １．パルスの幅を計測するプログラム ２．計測したパルス幅に応じて、個数を判別する。 ３．個数を累積する。 ４．表示する １から３を2[ms]周期で実行しています。 ※カメラの前を物体が横切ると、カメラ出力がLになるので、そのエッジを見ています。 したがって、 カメラの前にずっと物体があると、出力がLのままなので、累積カウントがアップし続けます。 その時は、累積カウントをしないプログラムにしています。 　→　一回目の検知時のみ累積カウントをアップさせる。 そのために、「PP」という変数を定義しています。 添付資料に、詳しく書いています。 見て頂けると幸いです。 カメラ出力の取り込みについて： 立ち上りエッジをCaptime_rise[Rise]; Riseは検知するたびに、インクリメントされます。(1から++） Downも同様です。 カメラは、物体を検知しないときは ______|‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾|________________ なので、Rise==Down==1です。 物体を検知すると ______|‾‾‾‾‾‾|_____|‾‾‾‾‾‾|______________ となります。 上述の通り、「カメラの前に物体がずっとある場合の、累積カウントアップ防止」の為に PP==1　　//　PPは前のRiseの値 の時のみ、累積を加算するようにしています。 PP==1の状態とは、物体を検知していない場合なので、この考えで大丈夫ではないかと思っています。 //プログラム抜粋 // 個数の計算 /* Captime[i]　→　計測パルス Captime_rise[i]　→　立上パルス Captime_down[i]　→　立下パルス KOSU　→　個数 KOSU_SUM　→　累積個数 PP　→　１つ前のサイクルのRiseの値 STD_width　→　個数判別の基準値 */ if(Rise==1){ KOSU=0; Captime[1]=0; } else if(Rise==2){ // パルス幅の計算 Captime[0]=Captime_down[1]-Captime_rise[1]; // Captime[1]=Captime_rise[2]-Captime_down[1]; // 1つ目の検知 if(PP==1){ if(Captime[1]>STD_width) { KOSU=2; KOSU_SUM=KOSU_SUM+2; } else { KOSU=1; KOSU_SUM++; } } } else{ KOSU=9; } PP=Rise; アルゴリズムの考え方等が我流なので、皆様のアドバイスを頂けると幸いです。
下は可変長配列のプログラムである．提供される可変長配列に文字列を格納するにはどのようにすればよいのでしょう．使い方の例を示していただけると助かります． #include <assert.h> #include <stdio.h> #include <stdlib.h> #include <string.h> /* 可変長配列の初期サイズ */ #define INIT_SIZE 5 typedef struct vector Vector; typedef Vector *VectorPtr; /* 可変長型配列の構造体 */ struct vector { char **elems; /* 要素（文字列）の配列（固定長）*/ int size; /* 可変長配列のサイズ */ int capacity; /* 可変長配列の最大容量 */ }; /* 可変長配列を生成する */ VectorPtr create_vector(void) { VectorPtr v = NULL; v = malloc(sizeof(Vector)); if (v == NULL) { fprintf(stderr, "Couldn't allocate memory for a vector\n"); exit(EXIT_FAILURE); } v->elems = malloc(sizeof(char *) * INIT_SIZE); v->size = 0; /* 初期使用サイズは 0 */ v->capacity = INIT_SIZE; return v; } /* 可変長配列の実質的な解放作業を行う． * （次々と free() するので free() 後の NULL 代入は省略） */ void delete_vector0(VectorPtr v) { int i; /* free() と同様，NULLポインタに対しては何も行わない */ if (v == NULL) { return; } /* 各要素（文字列）の領域を解放 */ for (i = 0; i < v->size; i++) { free(v->elems[i]); } free(v->elems); /* 内部配列の領域を解放 */ free(v); /* 外側の枠も解放 */ } /* 可変長配列 v を初期化する（未使用状態にするだけで領域は解放しない）．*/ void clear_vector(VectorPtr v) { int i; assert(v); /* 要素の各文字列を解放 */ for (i = 0; i < v->size; i++) { free(v->elems[i]); v->elems[i] = NULL; } /* 使用サイズを0にする */ v->size = 0; } /* 可変長配列 v を拡大する */ void expand_vector(VectorPtr v) { assert(v); /* 最大容量を2倍に増やす */ v->capacity *= 2; /* 新しい最大容量を持つ領域を確保 */ v->elems = realloc(v->elems, sizeof(char *) * v->capacity); /* サイズを変更できなかった場合のエラー処理 */ if (v->elems == NULL) { fprintf(stderr, "Couldn't re-allocate memory for a vector\n"); exit(EXIT_FAILURE); } } /* 可変長配列 v の最後に文字列 s を追加 */ void append(VectorPtr v, char *s) { assert(s); /* 容量が一杯になったら容量を拡大する */ if (v->size == v->capacity) { expand_vector(v); } v->elems[v->size] = _strdup(s); /* 最後に要素を追加 */ v->size++; /* 使用部分のサイズを1つ増やす */ } /* 可変長配列の（使用部分の）サイズを返す．*/ int get_vector_size(VectorPtr v) { assert(v); return v->size; } /* 可変長配列 v における添え字 index の要素（文字列）を取得 */ char *get_elem(VectorPtr v, int index) { assert(v); /* 配列添え字の範囲をチェック */ if (index < 0 || index >= v->size) { fprintf(stderr, "Index out of bounds"); exit(EXIT_FAILURE); } /* 指定された添え字の値を返す */ return v->elems[index]; } /* 可変長配列の内容を横に並べて表示する．*/ void print_vector(VectorPtr v) { int i; assert(v); if (v->size == 0) { printf("(empty)\n"); return; } for (i = 0; i < v->size; i++) { printf(">>%s", v->elems[i]); } printf("\n"); } int main(void) { return 0; }
msys環境で実行して，指定されたファイルの文字コードをShift-JISに変換して表示するコードを作成しているのですがうまく表示されません．何がいけないのでしょうか．第1引数に変換対象のファイル名，第2引数にファイルの文字コードを指定しています． #include <stdio.h> #include <string.h> #include <iconv.h> int main(int argc, char *argv[]) { iconv_t conv; char src[10000]; char dst[10000]; int src_len = strlen(src); int dst_len = sizeof(dst) - 1; char *buf_in; char *buf_out; FILE *fp; fp = fopen(argv[1], "r"); if(NULL == fp) { printf("ファイルを開けません\n"); } else { while(fgets(src, 10000, fp) != NULL) { buf_in = src; buf_out = dst; /* 変換器を作成 */ conv = iconv_open("Shift-JIS", argv[2]); /* 変換 */ iconv(conv, &buf_in, &src_len, &buf_out, &dst_len); *buf_out = '\0'; /* 終末処理 */ /* 文字コード後の文字列を表示 */ printf("%s\n", dst); } /* 変換器を終了 */ iconv_close(conv); /*ファイルを閉じる*/ fclose(fp); } return 0; }
C言語初心者です。 現在、ファイルの情報を構造体に読込んで実行するプログラムを作成しております。 読込むファイルは700MBほど(行数は39900000行)となっており、1行ずつfscanfで読込んでいます。 400000行ごとに構造体に読込んで、処理を実行し、構造体に読込んだ全ての処理が完了したら、再度400000行読込んで・・・を繰り返すものになっております。 400000行ごとにしているためforループで100回まわすようにしているのですが、最後の1回(100回目のループ)で、99回目と同じ場所を読んできてしまいます。 つまり、最後の1回だけはファイルポインタが進んでいない状況になります。 コードは下記になります。 #define MAX_SIZE 400000 uint64_t i = 0; uint64_t fc = 0; int main(int argc, char *argv[]){ char w[] = "$write"; char r[] = "$read"; // ファイルを構造体へ格納 char filename[] = "TEST_READ_WRITE.txt"; struct TEST_DATA{ char cmd[10]; int addr; int bsize; }; FILE *fp; if ((fp = fopen(filename, "r")) == NULL){ printf("%s open error !\n", filename); exit(1); } for (int lp = 0; lp < 100; lp++){ struct TEST_DATA TD[MAX_SIZE]; // 構造体配列の宣言 for (fc = 0; fc < MAX_SIZE; fc++) { if (feof(fp)){ break; } else{ fscanf(fp, "%s %d %d\n", TD[fc].cmd, &TD[fc].addr, &TD[fc].bsize); } } while (i < MAX_SIZE - 1){ //ファイルから取得したデータによって処理を実行 if (strcmp(TD[i].cmd, w) == 0){ //書込み処理 } if (strcmp(TD[i].cmd, r) == 0){ //読み込み処理 } } printf("Finish!! \n"); } fclose(fp); return 0; } 読込むファイルはテキストデータで、 ＄write 25651496 152 ＄write 135878112 8 ＄read 1244848 16 のような感じのものが39900000行並んでいるものになります(数字はランダムです)。 最後の1回のみ上手くファイルポインタが進まない原因が分からずに困っています。 お気づきの方がいらっしゃいましたら、アドバイスをよろしくお願いします。
プログラムの環境設定、実装についての質問になります。 (1)VS2013 C#で作成したDLL　を　 (2)MFCプロジェクトからLoadLibrary関数を使い呼び出す方法があれば教えてくれませんか？ (1)にCOMとして参照する設定を行い、COMとして扱うのでしたら ネットでいくつか方法がありましたが、今回はDynamicLinkLibraryとして扱いたいです。 この場合、C＋＋/CLIを用いる事になるのでしょうか。。 全く予想つかなく悩んでおります。何か参考となるURLなどでも構いません。 何卒宜しくお願いします。
C#初心者です。Visual studioでプログラムを書いてます。 ラベルに制限時間を表示させ、起動して30秒経つと 「もういちどやりますか？」というメッセージボックスが出て、 「はい」でもう一度開始、「いいえ」でプログラムを終了させるような 処理をさせたいのですが、「はい」を押しても同じメッセージボックスが出てループしてしまい、もう一度開始させることができません…。 解決する方法を教えていただきたいです。よろしくお願いします。 以下、書いたコードです。 using System; using System.Collections.Generic; using System.ComponentModel; using System.Data; using System.Drawing; using System.Linq; using System.Text; using System.Threading.Tasks; using System.Windows.Forms; namespace timelimit { public partial class Form1 : Form { public Form1() { InitializeComponent(); } DateTime StartTime; TimeSpan TimeLimit; private void Form1_Load(object sender, EventArgs e) { timer1.Enabled = true; StartTime = DateTime.Now; TimeLimit = new TimeSpan(0,0,30); } private void timer1_Tick(object sender, EventArgs e) { TimeSpan tm = DateTime.Now - StartTime; if(tm > TimeLimit) { TimeLimit = new TimeSpan(0, 0, 30); timer1.Enabled = false; DialogResult result = MessageBox.Show ("時間終了！もういちどやりますか？","終了処理",MessageBoxButtons.YesNo); if (result == DialogResult.Yes) { timer1.Enabled = true; } else if (result == DialogResult.No) { Close(); } }else{ label1.Text = (TimeLimit - tm).ToString(); } }
表題の通りです。 WINAPIとAPIENTRYは__stdcallで定義されていることは知っていますが、 そもそも、この二つはどのような目的で使用されるものなのかが分かりません。 どのような目的があって、このようなものが定義されたのか、 そしてどのように使い分ければいいのかを知りたいです。
実行結果のような出力をするためには、 以下のコードの（ウ）（エ）（オ）の部分には何を入れたらよいのでしょうか？ よろしくお願いします。 #include <iostream> #include <string> using namespace std; int main( ) { string str1="ABCDEF"; string str2="0123"; string str3; string q; do { （ウ） ; cout << str3 << endl; （エ） ; cout << str1 << endl; cout << "quit?"; cin >> q; } while ( （オ） ); cout << "終了" << endl; return 0; } ＜実行結果（出力結果）＞ ABCDEF0123 ABC123DEF quit?q ABC123DEF0123 ABC123123DEF quit?qu ABC123123DEF0123 ABC123123123DEF quit?quit 終了
次の条件を満たすアルゴリズムをC++のコードで教えてください！ 大きさ2×1の長方形n個を 縦2　横n　の長方形になるように並べるときの並べ方の総数を求めるアルゴリズム 入力nは、１以上の整数が入力される前提でよい。 例として、 n=1 1通り n=2 2通り n=3 3通り n=5 8通り n=7 21通り となります お願いします。
C言語初心者です。 csvファイルのデータを1行ずつ構造体に読み込みたいのですが、うまくできません。 #define MAX_SIZE 100 char filename[] = ″test.csv"; struct ALL_DATA{ int cnt; char list[10]; char addr[10]; char cmd[10]; char csize[10]; char input[10]; char icmd[10]; char input2[10]; }; for (int lp = 0; lp < 10; lp++){ FILE *fp; struct ALL_DATA ADATA[MAX_SIZE]; // 構造体配列の宣言 if ((fp = fopen(filename, "r")) == NULL){ printf("%s open error !\n", filename); exit(1); } for (fc = 0; fc < MAX_SIZE; fc++) { if (feof(fp)){ break; } else{ fscanf(fp, "%d,%[^,],%[^,],%[^,],%[^,],%[^,],%[^,],%[^,],\n", &ADATA[fc].cnt, ADATA[fc].list, ADATA[fc].addr,ADATA[fc].cmd,ADATA[fc].csize,ADATA[fc].input,ADATA[fc].icmd,ADATA[fc].input2); } } fclose(fp); while (i < MAX_SIZE){ printf("ADATA[i].cnt -> %d, ADATA[i].list -> %s, ADATA[i].addr -> %s, ADATA[i].cmd -> %s, ADATA[i].csize -> %s, ADATA[i].input -> %s, ADATA[i].icmd -> %s, ADATA[i].input2 -> %s\n",ADATA[fc].cnt, ADATA[fc].list,ADATA[fc].addr,ADATA[fc].cmd,ADATA[fc].csize,ADATA[fc].input,ADATA[fc].icmd,ADATA[fc].input2); i++; } } 読み込みたいcsvデータは 1 test 0x0012 write 0x001 yes 0xabc yes 2 testa 0x00cd read 0x024 0x1a3 のように、「数字、文字列・・・」と並んでいます。 このデータを取り込んで表示させたところ、 最初の数字は問題ないのですが、ADATA[i].addr から値がおかしくなり、 ADATA[i].addr = 0x0012write ADATA[i].cmd = write ADATA[fc].csize = 0x001yes のように、16進数を文字列として構造体に入れるときに、次の文字(英字)まで一緒に含んでしまう現象が出ております。 ネットで調べて、csvファイルから構造体に取り込む方法はいくつか見たのですが、同じようにしている(と思っている)のにうまくいかないため、質問させていただきました。 原因がわかる方がいらっしゃいましたら、アドバイスをよろしくお願いいたします。
下のハッシュ表のプログラムについて質問です．関数enterを二回呼び出して，valueの値を変更して表示させても値が更新されません．値が更新せれるにはどうすればよいのでしょうか？ #include <stdio.h> #include <stdlib.h> #include <string.h> #define HASH_SIZE 997 /* ハッシュ表の内部配列のサイズ */ #define HASH_RADIX 97 /* ハッシュ関数用の基数 */ /* ハッシュ表内の連結リストに含まれるノードの構造体 */ struct hash_node { /* ハッシュ表内の連結リストのノード */ char *key; /* キー */ int value; /* キーに対応する値 */ int id; /* キーに付与された通し番号 */ struct hash_node *next; /* 次のノードへのポインタ */ }; typedef struct hash_node HashNode; typedef HashNode *HashNodePtr; /* ハッシュ表の構造体 */ struct hashtable { HashNodePtr *heads; /* 内部配列 */ int serial_id; /* 通し番号管理用の変数 */ int size; /* 内部配列のサイズ */ }; typedef struct hashtable HashTable; typedef HashTable *HashTablePtr; /* 文字列 s のハッシュ値を計算する */ unsigned int hash(char *s) { unsigned int v; v = 0; while (*s != '\0') { v = v * HASH_RADIX + *s; s++; } return v; } /* ハッシュ表を一つ生成し，そのポインタを返す */ HashTablePtr create_hashtable() { HashTablePtr t = NULL; int i; t = malloc(sizeof(HashTable)); t->serial_id = 0; t->size = HASH_SIZE; t->heads = malloc(sizeof(HashNodePtr) * t->size); /* 各連結リストの先頭要素へのポインタは必ず NULL に初期化する */ for (i = 0; i < t->size; i++) { t->heads[i] = NULL; } return t; } /* 指定したポインタ変数に NULL を代入して終わるためのマクロ */ #define delete_hashtable(t) \ (delete_hashtable0(t),t=NULL) /* 実質的な削除作業を行う関数（free 後の NULL 代入は省略）*/ void delete_hashtable0(HashTablePtr t) { HashNodePtr n = NULL, m = NULL; int i; /* 各連結リストの領域を解放 */ for (i = 0; i < t->size; i++) { n = t->heads[i]; while (n != NULL) { m = n; n = n->next; free(m); } } /* 最後に連結リストの先頭ポインタの領域を解放 */ free(t->heads); free(t); } /* ハッシュ表 t に登録されているキーと値のペアの数を返す */ int get_cardinality(HashTablePtr t) { return t->serial_id; } /* ハッシュ表 t にてキー key に対応する値を調べる */ int lookup(HashTablePtr t, char *key) { HashNodePtr n = NULL; int index; /* ハッシュ表の内部配列の添え字を計算 */ index = hash(key) % t->size; /* index 番目の連結リストを先頭から順に走査 */ n = t->heads[index]; while (n != NULL) { /* 引数で指定された key とハッシュ表内のキーが一致したら 直ちに対応する値を返す */ if (strcmp(key, n->key) == 0) return n->value; /* 走査を次に進める */ n = n->next; } /* ここではキーに対応する値は非負であると仮定し， 見つからなかったら -1 を返す */ return -1; } /* キー key と値 value のペアをハッシュ表 t に登録し，その通し番号を返す */ int enter(HashTablePtr t, char *key, int value) { HashNodePtr n = NULL, m = NULL; int index; index = hash(key) % t->size; /* 内部配列の添え字を計算 */ /* キーが既に存在しているかどうかチェック（lookup() と同じ処理）*/ n = t->heads[index]; while (n != NULL) { if (strcmp(key, n->key) == 0) return n->id; /* 通し番号を返す */ n = n->next; } /* 新しいノードを生成 */ m = malloc(sizeof(HashNode)); m->key = _strdup(key); m->id = t->serial_id; m->value = value; /* 連結リストの add_first() と同様にして連結リストに追加 */ m->next = t->heads[index]; t->heads[index] = m; t->serial_id++; /* 次の通し番号に更新 */ return m->id; /* 登録したキーと値のペアに付与された通し番号を返す */ } /* * ハッシュ表 t に登録されるキーの配列を返す *（この配列のサイズは get_cardinality() で取得可能） */ char **get_keys(HashTablePtr t) { char **keys = NULL; HashNodePtr n = NULL; int i; keys = malloc(sizeof(char *) * t->serial_id); /* 各連結リストを走査し，配列に詰め込む */ for (i = 0; i < t->size; i++) { n = t->heads[i]; while (n != NULL) { keys[n->id] = n->key; /* 通し番号を配列添え字に */ n = n->next; } } return keys; /* 後で free() する必要あり */ } void print_hashtable(HashTablePtr t) { printf("Taro => %d\n", lookup(t, "Taro")); } /* ハッシュ表の使用例 */ int main(void) { HashTablePtr t = NULL; t = create_hashtable(); enter(t, "Taro", 25); print_hashtable(t); enter(t, "Taro", 35); print_hashtable(t); delete_hashtable(t); }
C#で数値で、配列の列挙はできないでしょうか。 やりたいイメージは以下です。 public enum abc : byte[] { 1 = {0x30, 0x31}, 2 = {0x32, 0x33}, 3 = {0x34, 0x35}, } public enum abc : byte[] { A = {0x30, 0x31}, B = {0x32, 0x33}, C = {0x34, 0x35}, } いろいろ試しましたが、できませんでした。お願いします。
c言語の片方向連結リストのプログラムについて質問があります． 下記のプログラムの関数int get_index(ListPtr l, int value)に以下のようなコードを書く．リストl において値value を持つセルの位置を返す．返り値は，最初のセルが値value を持っていれば0，次のセルが値value を持っていれば1，...，値value を持っているセルが存在しなければ–1とする． また，関数void add(ListPtr l, int index, int value)に以下のようなコードを書く．リストl の位置index に値value を持つセルを挿入．挿入前のリストに対して：index が0 のときは先頭に挿入，index が1 のときは（0から数えて）1番目のセルの前に挿入，index が2 のときは（0から数えて）2番目のセルの前に挿入，...，index がリストのサイズと等しいときはリストの末尾に挿入，それ以外の場合は何もしなくてよい． これらのコードはどのように書けばよいのでしょうか？ #include <stdio.h> #include <stdlib.h> #include <assert.h> /* 連結リスト中のノードの構造体 */ struct node { int val; /* 値 */ struct node *next; /* 次ノード */ }; /* セルとそのポインタの型 */ typedef struct node Node; typedef Node *NodePtr; /* セルを一つ生成 */ NodePtr create_node(int v) { NodePtr n = NULL; n = malloc(sizeof(Node)); n->val = v; n->next = NULL; return n; } /* セルを表示 */ void print_node(NodePtr n) { if (n != NULL) { printf("<%d>", n->val); } else { printf("(null)"); } } /* 連結リストの構造体 */ struct list { /* 先頭セルへのポインタ */ NodePtr head; }; /* 連結リストとそのポインタの型 */ typedef struct list List; typedef List *ListPtr; /* 空の連結リストを生成 */ ListPtr create_list(void) { ListPtr l = NULL; l = malloc(sizeof(List)); l->head = NULL; return l; } /* 連結リスト l が空かどうか判定 */ int is_empty(ListPtr l) { return (l->head == NULL); } /* リスト l の内容を表示 */ void print_list(ListPtr l) { NodePtr n = NULL; if (is_empty(l)) { printf("(empty)\n"); return; } n = l->head; while (n != NULL) { print_node(n); n = n->next; } printf("\n"); } /* リスト l の先頭にセルを挿入 */ void add_first(ListPtr l, int val) { NodePtr n = NULL; n = create_node(val); n->next = l->head; l->head = n; } /* リスト l の先頭セルを削除 */ int delete_first(ListPtr l) { NodePtr n = NULL; int v; /* リストが空なら -1 を返す（負の値はリストに含まれないと仮定）*/ if (is_empty(l)) return -1; v = l->head->val; n = l->head; l->head = l->head->next; free(n); n = NULL; return v; } /* 連結リスト l のサイズを取得 */ int get_list_size(ListPtr l) { NodePtr n = NULL; int size; size = 0; n = l->head; while (n != NULL) { size++; n = n->next; } return size; } /* * 連結リスト l における index 番目のセルの値を取得 * （そのようなセルが存在しなければ -1 を返す） */ int get_value(ListPtr l, int index) { NodePtr n = NULL; if (index < 0) return -1; n = l->head; while (index > 0 && n != NULL) { n = n->next; index--; } return (n == NULL) ? -1 : n->val; } /* リスト l 中の全セルを削除（ループ版）*/ void delete_all(ListPtr l) { NodePtr n = NULL, m = NULL; n = l->head; while (n != NULL) { m = n; n = n->next; free(m); } l->head = NULL; } /* セル n 以降を全て削除（内部処理用の再帰関数）*/ void delete_rest(NodePtr n) { if (n->next != NULL) delete_rest(n->next); free(n); } /* リスト l 中の全セルを削除（再帰版）*/ void delete_all_recursively(ListPtr l) { if (l->head == NULL) return; delete_rest(l->head); l->head = NULL; } /* リスト l 全体を削除 */ #define delete_list(l) (delete_list0(l),l=NULL) void delete_list0(ListPtr l) { delete_all(l); free(l); } /* リスト l において値 val を持つセルの位置を返す */ int get_index(ListPtr l, int value) { return -1; } /* リスト l の位置 index に値 val を持つセルを挿入 */ void add(ListPtr l, int index, int value) { } /* 連結リストの使用例 */ int main(void) { FILE *fp = NULL; char buf[10]; int age; ListPtr l = NULL; l = create_list(); add_first(l, 28); add_first(l, 40); add_first(l, 33); add_first(l, 15); print_list(l); delete_first(l); print_list(l); delete_first(l); print_list(l); delete_first(l); print_list(l); delete_first(l); print_list(l); return 0; }
前質問 http://okwave.jp/qa/q8991110.html 自分で調べたところ、VC++でMFC利用して開発し、静的リンクすれば、 XPからWin7まで動くプログラムができる。 この理解で良いでしょうか。フォームとボタンとチェックボックスあれば良いです。 難しいものを作るつもりはないです。
ビルド時によく分からないことがあり質問させていただきます。 わたしはLinux VPSでOpenSSLの最新版を自分でソースからビルドしてそのライブラリーを使用してApacheやBIND,NTPをビルドすることがあって、その際に疑問に思ったのですが。 OpenSSLのバージョンアップがあった際に、OpenSSLを差し替えた場合Apacheなど過去に古いバージョンでビルドしたソフトは新しいOpenSSLのモジュールを使うことになるのか、それとも、ビルド時にOpenSSLは組み込まれる物で再度コンパイルし直さないと新しいバージョンにはならないということになのかがわかりません。 是非、教えていただきたいです。 よろしくお願いします。
Visual Studio 2010 Express WIN32 ユニコードビルド C言語 でクライアント領域に縦スクロールバーを貼り付け次のようなプログラムを作りました。 スクロールバーの勉強中に適当に作ったプログラムです。 LRESULT CALLBACK WndProc(HWND hwnd,UINT message,WPARAM wParam,LPARAM lParam) { PAINTSTRUCT ps; TCHAR moji[256]; static int countout=0; static int countin=0; 　　　　　　switch(message){ 　　　　　　case WM_PAINT: BeginPaint(hwnd,&ps); wsprintf(moji,TEXT("switch文の外=%d回 switch文の中=%d"),countout,countin); TextOut(ps.hdc,0,0,moji,lstrlen(moji)); EndPaint(hwnd,&ps); break; case WM_VSCROLL: countout=countout+1; switch(LOWORD(wParam)){ case SB_LINEDOWN: countin=countin+1; break; } InvalidateRect(hwnd,NULL,TRUE); break; case WM_DESTROY: PostQuitMessage(0); break; default: return DefWindowProc(hwnd,message,wParam,lParam); } return 0; } 私はこのプログラムの実行結果は スクロールバーのどこをクリックしてもcountoutは+1され下の矢印をクリックしたときはcountinが＋１ されるという動作になると思ったのですが実行してみると スクロールバーの矢印をクリック　countout が+2 スクロールバーのつまみをクリック countout が+3 スクロールバーの下矢印をクリック　countout が+2,countinが+1 されるという結果になりました。 この結果から推測するとVSCROLLバーをクリックしたときはWM_VSCROLL:メッセージが複数回送られているということになると思うのですがどうしてこうなるのでしょうか？ プログラミングの本などではWM_VSCROLL:の中のswitch文の外に初期化やInvalidateRectがあるのでWM_VSCROLLメッセージが送られるのは１回だけだと思ったのですが・・・・。
こんにちは。 gnupackでcygwinをインストールしたのですが、gdbを使ってみようとしたところ、 $ gdb --version /bin/bash: gdb: command not found と出てきて、使えませんでした。 gnupackでインストールした場合はgdbはついてこないんでしょうか？ それとも自分の設定が間違っているんでしょうか？ 教えていただけるとうれしいです。
プログラミングをしたいと思い、独習C#を使ってプログラミングの勉強中です。 プログラミングは全くの初心者です。 他の入門書でもそうなのかもしれませんが、論理演算子やビット演算子、配列などの内容が書かれていますが、これらが一体何の役に立つのか分からなくて困っています。 読んでいても理解できないです。 本にケチを付けているわけではないです。 おそらく私にプログラミングのセンスがないんだと思います。 また、この本では、コンソールアプリケーションの説明が多いのですが、私はウェブアプリケーションに関心があります。 基礎だと思って読み進めるべきでしょうか？ サンプルプログラムも地道に本の真似をして自分で打っていったほうがいいのでしょうか？ わからないことがあってGoogleで調べても、理解できないです。 本当に、プログラミングが難しいです。 独習C#のような本は、全て理解する必要があるのでしょうか？ 質問が多くなって申し訳ありません。
初心者で、C++でAPI呼びながらランタイムの要らないプログラムを作成していますが、ほかに簡単にできる方法がないかと思いまして。CLIとか.NETとか色々使い方がありそうですが。 ファイルのサイズは関係なく、静的リンクで全部入れ込む方法でもいいです。 お願いします。
Visual Studio 2010で作成したプログラム(32bit版)はWindows7(64bit)のOSで 自動識別してくれて問題なく動作するでしょうか。 それとも実行に先立ち、何か予め設定がいるでしょうか。
プログラミングをしたいと思い、Visual Studio をインストールしました。 プログラミングは全くの初心者であり、素人です。 何から始めてよいか分からず、とりあえず今、C#を勉強中です。 ですが、C#からいきなり勉強してよかったのか悩んでいます。 プログラミングはVBA,Javaなど本当に様々な種類があるので、よくわかりません。 ある方からは、C#からとりかかるのはあまりよくないと言われました。
Windows 7 Pro SP1(64bit)を使用しています。Graphic Card用アプリケーションを更新した際に既存のVisual C++2005,2008,2010 Redistributable から更に C++2012がインストールされました。PCで必要なC++は上位Versionがインストールされていれば下Versionは不要と考えますが如何なものでしょうか。ご存知の方よろしくお願いいたします。
C言語の、sinxのテイラー(マクローリン)展開を求めるプログラムを教えて下さい。 sinx=x-(x^3)/3!+(x^5)/5!-(x^7)/7!+(x^9)/9!・・・ となっており、 整数nと実数xを入力すると 第n項までの和を求めるプログラムを作らないといけません。 以下は、私が作ったプログラムです。 #include<stdio.h> #include<math.h> int main(void) { int i,n; double x,kotae,tmp; printf("n=? \n"); scanf("%d",&n); printf("x=? \n"); scanf("%lf",&x); kotae=x; tmp=1; for(i=1;i<n;i++) { tmp=tmp*(-1)*x*x/(2*i)/(2*i+1); kotae=kotae+tmp; } printf("sin%fのテイラー展開第%d項までの和は%f \n",x,n,kotae); return 0; } 作ったのですが、うまくいきません n=2、x=2にすると1.3333・・・とかになってしまいます どうすればいいでしょうか？ 分かる方、お願いします。
#include <iostream> using namespace std; //#壁 _空間 .ゴール oブロック p人 const char gStageData[] = "\ ########\n\ # .. p #\n\ # oo #\n\ # #\n\ ########"; const int gStageWidth = 8; const int gStageHeight = 5; このプログラムにおいて、const char gStageData[]="\の部分の \の意味は何になるのでしょうか？？改行は、/nだし、分からなかったので分かる方回答よろしくお願いします。
const char str1[5] = "aaaa"; const char* str2 = "aaaa"; printf("str1: %s %#x %#x \n", str1, str1, &str1); printf("str2: %s %#x %#x \n", str2, str2, &str2); 上記のプログラムにおいて、全く同じ結果が出力されるものと長年思っておりましたが 実際は以下のような結果となりました。 str1: aaaa 0x400794 0x400794 str2: aaaa 0x400794 0x6911faa0 str1は、なぜこのような結果になるのでしょうか。 str1はポインタ変数とは違うものなのでしょうか。 ご教授お願いします。 ※実行確認はこちらのサイトで行いました。 https://paiza.io/
C言語の、このプログラムを作るのが分かる方、教えて下さい。階乗を使う問題です。 「キーボードで整数aを入力するとn!>aとなるときの最小のnを出力するプログラムを作りなさい」という問題です。 分からず苦戦しています。 nをキーボードで入力してn!を求めるには #include<stdio.h> int main(void) { int kekka,n,i; printf("n=? \n"); scanf("%d",&n); kekka=1; for(i=1;i<=n;i++) { kekka=kekka*i; } printf("%d!は%dです。\n",n,kekka); return 0; } とすればいいのは自分で作れたのですが、問題にあるn!>aのプログラムが分からず困っています。 分かる方、お願いいたします
c言語のmemcpy関数についてなのですが、 文字列の一部を置換する場合にmemcpyを使用したいのですが、使用してやってみたところ動作停止します。memcpyは先頭アドレスを渡さないと動作しないのでしょうか。 また、memcpy関数以外でも、ポインタや配列の先頭アドレスしか渡せないのでしょうか？ 例えば、 memcpy(str1,str2,5); ならば、動作しますが、 str1++; memcpy(str1,str2,4); では、動作停止しました。 もし、memcpy関数は先頭アドレスじゃないと動作しない場合は関数を作って出来るのですが…。 もし、不足しているもの等あれば、補足で追加するので回答をお願いします。
emacsにて子プロセスの実行時間を測定するプログラムを作成せよ。 尚、子プロセスは５秒間sleep後、exitする。 下のプログラムに2行付け加えるだけなんですが教えてください #include <stdio.h> #include <stdlib.h> #include <sys/types.h> #include <sys/wait.h> #include <unistd.h> time_t start, end; int main() { int j; time(&start); // start if (fork()==0) { この部分に、５秒間スリープ後、exit()するプログラムを書く。 ２行です。子プロセスの実行結果（EXIT_SUCCESS）も忘れずに入れる。 } wait(&j); time(&end); // stop printf("elapsed time= %d seconds\n", (int) (end-start)); return EXIT_SUCCESS; }
またまた教えてください。 mfcのツリービューにて、チェックボックスを設け、 起動時にチェックを入れたいのですが、チェックが入りません。 BOOL CtreeTestDlg::OnInitDialog() { CDialogEx::OnInitDialog(); … // TODO: 初期化をここに追加します。 HTREEITEM h1 = m_tree.InsertItem(_T("TEST"), TVI_ROOT); m_tree.SetCheck(h1); return TRUE; // フォーカスをコントロールに設定した場合を除き、TRUE を返します。 } ボタンクリック時では問題がありません。 UpdateData等も入れたりしたのですが、ダメでした。 vs2010,2013両方でダメです。 なにかよい方法がないでしょうか？　よろしくお願い致します。
他にもっとエレガントな構造を持った言語がいくつもあると 個人的に思うのですが どうして、誰もが　Ｃ++　ばかりを使っているのかという理由が 分からないままです。 単に、他の人がみんなそろって　Ｃ++　を使っているから という理由以外には思いつく答がありません。 そこで、詳しい事情をご存知の方がおられましたら、 ぜひとも教えて下さい。 もう一つ、もし、どの言語を使っても構わないという依頼があった場合に どの言語が最もエレガントなデザインをされているかという観点から 最優秀言語を教えて下さい。 以上、２点についてよろしくご指導をお願いします。 .
プログラムどう改良していいか全然わかりません 教えてください Sobel フィルタは垂直成分しか見ていないため、エッジ検出としては不十分である。任 意方向のエッジを検出するためには、図4 のような垂直方向と水平方向のオペレータを用いて各成分を抽出し、それらを合成する必要がある（図5 参照）。そこで、プログラムを次のように改良し、全方向のエッジに対応したプログラムにする。 ＜変更前＞ <変更後> c =1 􀀀2 􀀀1　　　　　　cy=-1 -2 -1 　　cx=-1 0 1 0 0 0　　　　→　　　　　0 0 0　　　　　-2 0 2 1 2 1　　　　　　　　　　1 2 1　　　　　-1 0 1 畳み込み演算　　　　　畳み込み演算 L = c・img　　　→　　Ly = cy・img, Lx = cx・img エッジの強さ　　　　　エッジの強さ |L| 　　　　　　　→ |L|=√Lx^2+Ly^2 /** Sobel.c **/ #include <stdio.h> #include <stdlib.h> #define V_width 320 #define V_height 240 #define amp 1.0 int d[9]; int i, j, dat; float L; unsigned char img [V_height][V_width]; /* input image */ unsigned char work[V_height][V_width]={0}; /* work space */ /******* filter coefficients *******/ static int c[9] = {-1, -2, -1, 0, 0, 0, 1, 2, 1}; /*************************************/ int main(int argc, char *argv[]) { FILE *fpi, *fpo; unsigned char data; char str[256]; int width, height; /* check arg number */ if (argc != 3) { fprintf(stderr, "Usage: %s [input] [output]\n", argv[0]); exit(1); } /* open input file */ if ((fpi = fopen(argv[1], "rb")) == NULL) { fprintf(stderr, "input file open error!\n"); exit(1); } /* open output file */ if ((fpo = fopen(argv[2], "wb")) == NULL) { fprintf(stderr, "output file open error!\n"); exit(1); } /* read PGM header */ while(1){ fgets(str, 256, fpi); if(str[0] == '#'){ fprintf( stderr, "%s", str); } else if( !strncmp( str, "P5", 2)){ fprintf( stderr, "This file is a PGM file.\n"); } else if( !strncmp( str, "255", 3)){ fprintf( stderr, "The file is opened.\n"); break; } else{ sscanf( str, "%d %d", &width, &height); fprintf( stderr, "SIZE: %3d x %3d\n", width, height); } } /* read data */ for (i=0; i<height; i++) { for (j=0; j<width; j++) { fread( &data, 1, 1, fpi); img[i][j] = data; } } /* image processing */ for (i=1; i < height-1; i++) { for (j=1; j < width-1; j++) { d[0]=img[i-1][j-1]; d[1]=img[i-1][j]; d[2]=img[i-1][j+1]; d[3]=img[i][j-1]; d[4]=img[i][j]; d[5]=img[i][j+1]; d[6]=img[i+1][j-1]; d[7]=img[i+1][j]; d[8]=img[i+1][j+1]; L = (float)(c[0]*d[0] + c[1]*d[1] + c[2]*d[2] + c[3]*d[3] + c[4]*d[4] + c[5]*d[5] + c[6]*d[6] + c[7]*d[7] + c[8]*d[8]); L = amp*L; dat = (int)(L); if (dat < 0) dat = -dat; if (dat > 255) dat = 255; work[i][j] = (unsigned char)dat; } } /* write data */ fprintf(fpo,"P5\n %d %d\n 255\n", width, height); for (i= 0; i<height; i++) { for (j= 0; j<width; j++) { fwrite( &work[i][j], 1, 1, fpo); } } fclose(fpi); fclose(fpo); return 0; }
以下の問題でプログラムを改良したのですが合っていますか？間違ってたら教えてください 図3 は、画像中の全ての画素に対する、濃度値の頻度分布を示すヒストグラムの例である。サンプルプロググラムhistogram.c をもとに、入力画像の濃度値のヒストグラムを作成するプログラムを完成させる。 1. Histogram.c をそのまま実行すると、ダミーデータを用いた結果画像が出力される。 $ gcc □ Histogram.c -o □ Histogram ↓ $ ./Histogram ○○○.pgm □ Histogram.pgm ↓ 2. Histogram.c を次のように変更し、プログラムを完成させる。 （a）入力画像のヒストグラムを求める。 各画素を参照し、その画素値img[i][j] に対応する番号の配列histogram[0255] の値を1 増やす。 （b）頻度の最大値を求める。 濃度値i=0255 について調べ、もし頻度histogram[i] の値がそれまでの最大値max frequency より大きければ、最大値max frequency を更新する。 （c）ヒストグラム画像を作成する。 最大頻度を1 としたときの割合（histogram[i]/max frequency）を求め、それに画像の大きさH_height を掛けることで各濃度値のグラフの長さlength を求める。 length = H height * histogram[i] / max frequency #include <stdio.h> #include <stdlib.h> #define V_width 320 #define V_height 240 #define amp 1.0 #define GLEVEL 256 /* 最大階調 */ #define MAX_BRIGHTNESS 255 #define H_width GLEVEL #define H_height 256 int d[9]; int i, j, dat; float z, zz; unsigned char img [V_height][V_width]; /* input image */ unsigned char work[H_height][H_width]={0}; /* work space */ long int histogram[GLEVEL]={0}; /* ヒストグラム */ long int max_frequency=0; /* 頻度の最大値 */ float length; /* 頻度を表すグラフの長さ */ int main(int argc, char* argv[]) { FILE *fpi, *fpo; unsigned char data; char str[ 256]; int width, height; /* check arg number */ if (argc != 3) { fprintf(stderr, "Usage: %s [input] [output]\n", argv[0]); exit(1); } /* open input file */ if ((fpi = fopen(argv[1], "rb")) == NULL) { fprintf(stderr, "input file open error!\n"); exit(1); } /* open output file */ if ((fpo = fopen(argv[2], "wb")) == NULL) { fprintf(stderr, "output file open error!\n"); exit(1); } /* read PGM header */ while(1){ fgets(str, 256, fpi); if(str[0] == '#'){ fprintf( stderr, "%s", str); } else if( !strncmp( str, "P5", 2)){ fprintf( stderr, "This file is a PGM file.\n"); } else if( !strncmp( str, "255", 3)){ fprintf( stderr, "The file is opened.\n"); break; } else{ sscanf( str, "%d %d", &width, &height); fprintf( stderr, "SIZE: %3d x %3d\n", width, height); } } /* read data */ for (i=0; i<height; i++) { for (j=0; j<width; j++) { fread( &data, 1, 1, fpi); img[i][j] = data; } } /* (a) 入力画像のヒストグラムを求める */ for(i=0; i<height; i++){ for(j=0; j<width; j++){ // histogram([i][j])++; } } /* (b) 頻度の最大値を求める */ for ( i=0; i<GLEVEL; i++) { // if (histogram[i]>max_frequency) max_frequency = histogram[i]; } /* (c) ヒストグラム画像を作成する */ for (j=0; j<H_width; j++) { length = (float) H_height * j / H_width; //仮のデータ for (i=0; i<length; i++) { work[H_height-1-i][j] = MAX_BRIGHTNESS; length = H_height * histogram[i] / max_frequency } } /* write data */ fprintf(fpo,"P5\n %d %d\n 255\n", H_width, H_height); for (i= 0; i<H_height; i++) { for (j= 0; j<H_width; j++) { fwrite( &work[i][j], 1, 1, fpo); } } fclose(fpi); fclose(fpo); return 0; }
プログラムそう改良していいか全然わかりません 教えてください Sobel フィルタは垂直成分しか見ていないため、エッジ検出としては不十分である。任 意方向のエッジを検出するためには、図4 のような垂直方向と水平方向のオペレータを用いて各成分を抽出し、それらを合成する必要がある（図5 参照）。そこで、プログラムを次のように改良し、全方向のエッジに対応したプログラムにする。 ＜変更前＞ <変更後> c =1 􀀀2 􀀀1　　　　　　cy=-1 -2 -1 　　cx=-1 0 1 0 0 0　　　　→　　　0 0 0　　　　　　　-2 0 2 1 2 1　　　　　　　　1 2 1　　　　　　　-1 0 1 畳み込み演算　　　　　畳み込み演算 L = c・img　　　→　　Ly = cy・img, Lx = cx・img エッジの強さ　　　　　エッジの強さ |L| → |L|=√Lx^2+Ly^2 Sobel.c http://codepad.org/UOh8nByI
表題のとおりC++でシリアルで受信処理を作成しようと思っています。 2つのスレッドで、片方のスレッドでデータを受信し、もう片方のスレッドでデータを解析、 という具合に受信と解析を同時並行して行うようなプログラムを組みたいのですがうまく いきません。 具体的なソースの書き方、またはそれらが記載されているサイトをご存知の方は 教えてください。
こんにちは スキルが無いので資料見ながら苦労しています。 まずやりたいことは， キネクト等で取得した物体断面画像（長方形物体，傾き有り）の最大長さと幅を取得することです。 opencvのサンプルプログラム (1)「Square」の”findContours”で輪郭抽出を， (2)「minarea」の”minAreaRect”で輪郭点群を内包する長方形取得 と考えたのですが， 格納変数が (1)はvector<vector<Point>> (2)はvector<Point> ということでそのままはつかえません。（・・・よね？・・・） (2)は単純にXYの座標データですが， (1)は2次元配列で「 検出された輪郭．各輪郭は，点のベクトルとして格納されます．」 とOpenCV 2.2 C++ リファレンスにはありました。 点ベクトルで格納されていると言うことが今ひとつ理解できずにいます。2次元配列の ・1番目の要素は何か？ ・2番目の要素は何か？ ・格納されているｘ，ｙは何か？ わかりやすく解説して頂けると助かります。 併せて， ・上記を実現するためにvector<vector<Point>>をvector<Point>にうまく変換する方法 ・他に良い方法があるよ とかありましたらお願いします。
MFCで作成した実行ファイルについて質問します。 WindowsXpのVC++6.0で作成した実行ファイルを、Windows7で正常に動作しますか？ 質問の背景：私の場合、『WindowsXpのVC++6.0で作成した実行ファイル』を Windows7で実行した場合には、正常に動作しない様です。 この件に関しまして、コメント頂けますと大変助かります。
VS2008のMFCを使用する場合に、WINVERと_WIM32_WINNTで指定する ヴァージョン番号をx0600未満に指定する必要があると思いますが、 この設定は、何処で行なったら良いでしょうか？ この件に付きまして、コメント頂けますと大変助かります。 以上、宜しくお願いします
こんにちは。 取引先との打ち合わせで話題になったのですが、WindowsでC++ならばMFCがアプリケーションフレームになると思うのですが、WinとMac用の共通のアプリケーションフレームで有名なのはどれでしょうか？ PhotoShopはmac版は使ったことがありませんが画像を見る限り同様のUIに見えます。PhotoshopのようにWindows及びmacで共通のUIが持てるもので有名なのを知りたいのですが検索してもよく分かりません。 ご存じの方がいらっしゃいましたら教えていただけないでしょうか？ または主観で構いませんのでカスタマイズしやすい等の意見頂ければと思います。
学校から、「入力されたあなたのプロフィールを綺麗な表形式で見せるHTML 文書を表示するプログラムを作れ」という課題が出されたのですが、解答例がなく、何をやったら良いのかよくわかりません。 自分が数字や文字列を入力すると、HTMLとしてタグや入力して内容が出てくるような感じです。 プログラミング演習の課題で、C＋＋でプログラムするのですが、わかる方いらっしゃいましたら、どうかよろしくお願いします。
学校の課題で解答例がありません。 わかる方、解答例を教えていただきたいです。 問題は 「入力されたあなたのプロフィールを綺麗な表形式で見せるHTML 文書を表示するプログラムを作れ」です。 言語はC++でお願いします。
社内では長年続いてきたVB6技術者をC#に移行としている。COBOLよりは良いが可能でしょうか。JAVAじゃなくてよかっただけです。慣れるまで何年かかるでしょう。
最初に0がいくつかあり， そのあとに0以外の数字がいくつか出てきて， また0がいくつか出てきて， さらに0以外の数字が出てきて， また0がいくつか出てきて， 最後に100が2個が出てくる それの繰り返しの 数列のa.csvファイルがあります．（下記にサンプル記載） これの100が2個出てくるまでを一区切りとして， それまでに出てくる“0だけの数列”の“0”の個数をそれぞれ数えて， その結果をファイル出力するプログラムを作成したいのですが， 手も足も出ません．どなたか，作成していただきませんか(T_T) よろしくお願いします． 0 0 0 3 4 5 0 0 -2 -4 -5 0 0 0 0 0 100 100 0 0 0 0 0 -4 -5 -6 0 2 3.5 4 5.6 0 0 0 0 0 100 100 0 0 . . . . ＜出力ファイル＞ b.csv 1-1，3 1-2，2 1-3，5 2-1，5 2-2，1 2-3，5 . . .
C#で仕事されている方から質問されたのですが、C++でデリゲートは利用できるのでしょうか？ 私はC#を使ったことがなくC++の言語仕様も詳しくないので答えられませんでした。 ざっと話を聞いたところコールバックを手軽に利用できるという印象でした。 本質はC#を勉強してみようと思いますが、C++では利用できるのでしょうか？
白い背景の中に不規則な形をした黒いエリアがあったとします。 白いエリア内のある点から黒いエリア内のある点に向けて直線を引いた時、 その直線と色の境目にできる交点の座標を調べるにはどのようにすればいいのでしょうか？ 色情報は取得済みで、関数に座標 x と y を渡すと 0(白) か 1(黒) が返ります。 交点の座標は整数で、色の切り替え部分の白側の座標とします。 黒いエリアはひとつのまとまりで、ドーナツ状に穴が空くことはありません。 言語はC#を予定していますが概念がわかれば良いので他の言語でも構いません。 宜しくお願い致します。
クイックソートでわからない点があるため、 質問させていただきます。 ----------------------------------------------------- ～省略～ data = [5, 3, 4, 2, 6, 1]; no = 6; //データの個数 ～省略～ dqsort(data, 0, no-1); ～省略～ void dqsort(double data[], int lower, int upper) { 　　int i, boundary; //boundaryは配列の前半と後半の境界を示す 　　if(lower >= upper) { return; } 　　//基準値となる値（データの中央に位置する値）とデータの先頭の値を入れ替える 　　swapdata(&data[lower], &data[(lower + upper)/2]); 　　boundary = lower; //boundaryを先頭に移動させる 　　　　for(i=lower+1; i<=upper; i++) { 　　　　　　if(data[i] < data[lower]) { 　　　　　　　　//配列の前半部分に移動し、境界を移動する 　　　　　　　　swapdata(&data[++boundary], &data[i]); 　　　　　　} 　　　　} 　　//最後に基準値を境界位置にコピー 　　swapdata(&data[lower], &data[boundary]); 　　//配列の前半部分をクイックソート 　　dqsort(data, lower, boundary-1); 　　//配列の後半部分をクイックソート 　　dqsort(data, boundary+1, upper); } void swapdata(double *i, double *j) { 　　int temp; 　　temp = *i; 　　*i = *j; 　　*j = temp; } --------------------------------------------------------- 基準値と配列の先頭のデータを入れ替えた後、 データは、[4, 3, 5, 2, 6, 1]となり、lower = 0であるため、 data[boundary]はdata[0]となります。 for文の最初のループでdata[0]<data[1]なら、 swapdata(&data[++boundary], &data[i]); となっているのですが、 [++boundary]の部分はboundary=0に1を足してから処理するため、 swapdata(&data[1], &data[1]); となると思うのですが、そうすると同じデータを入れ替えることになってしまいます。 何が間違っているのか、教えていただけますでしょうか。
C#勉強中です。 以下のようなコードを書いてコンパイルをかけたところ、「型 'uint' を 'int' に暗黙的に変換できません。明示的な変換が存在します。(cast が不足していないかどうかを確認してください)」と出ました。この理由がわかりません。 0xFFFF00FFはなぜ符合なしとなってunsigned扱いになるのでしょうか。 [Code] int ret = 0; ret &= 0xFFFF00FF;
http://www.orchid.co.jp/computer/cschool/kanji1.html 上記のサイトを参考にＶＳ2013で以下のようなソースを書きました。 #include "stdafx.h" #include "stdio.h" int _tmain(int argc, _TCHAR* argv[]) { char *str = "1２３４９８７６５abcd漢字００００"; int i1; for (i1 = 0;;){ if (str[i1] == '\0')break; if (_ismbblead(str[i1])){ if (str[i1 + 1] == '\0'){ break; } putchar('['); putchar(str[i1++]); putchar(str[i1++]); putchar(']'); continue; } putchar(str[i1++]); } return 0; } 残念なことにコンパイルはとうらず、ismbbleadの部分が引っ掛かっているようでした。 Ｃ＋＋だと使えないＣのメソッドもあるのでしょうか？ そういうわけでないのであればなぜ、コンパイルは通らないのでしょうか？Ｃ言語のコンパイラでは問題なく参考サイトのソースはコンパイルできました。 出ているエラーは IntelliSense: 識別子 "_ismbblead" が定義されていません error C3861: '_ismbblead': 識別子が見つかりませんでした というものでした。よろしくお願いします。
C++builder6にて簡単なソフトを作っている者です、 パソコン外部からの接点(或いはオープンコレクタ、フォトカプラ出力)を取り入れて それを積算するプログラムを作りたいと考えています、 １．外部からの接点情報をパソコンに取り入れる方法 ２．C++builder6でどの様なイベントを使うのでしょうか(マウスダウン等以外の方法) 以上の２点についてご指導を宜しくお願いします。
C#のPerformanceCounterを使って、 CPUの％を取得していますが、 同じイメージ名が複数ある場合、 どのようにして、該当のタスクを取得することが可能でしょうか？
最近かなり求人が多いのですが、未だにVB6.0で新規開発していて、無理してwindows8対応させている会社があります。それって世間的にどうなんですか？なくなりはしないと思いますが、技術力を疑います。
17インチのノートパソコン(1920×1080、16対9)でC++builder6 を使って電気計算をさせimage画面上いっぱいに電気回路図やベクト ル図を描画させる簡単なソフトを作っています、 このソフトを他の10インチのノートパソコン(1920×1080、16対9) で実行させたところ17インチの時の画面と対称にならず画面をスクロ ールさせなければ全ての画面を見る事が出来ません、 何故この様に画面が変わってしまうのかが解りません、またこれを防止 する方法が有りましたら教えて下さい、お願いします。
sscanf関数で変換に失敗した場合という点がよくわからなかったため、 質問させていただきます。 入力された整数の2乗を返すプログラム --------------------------------------------------- # include <stdio.h> # define BUFSIZE 256 int main(void) { 　　int input; 　　char linebuf[BUFSIZE]; 　　printf("整数を入力してください。\n"); 　　while(fgets(linebuf, BUFSIZE, stdin) != NULL) { 　　　　if(sscanf(linebuf, "%d", &input) != 0) { 　　　　　　printf("%dの2乗は%dです。\n", input, input*input); 　　　　　　break; 　　　　} 　　　　else { 　　　　　　printf("整数を入力してください。\n"); 　　　　} 　　} 　　return 0; } ----------------------------------------------------- 例えば、入力された値が文字列であった場合、 if(sscanf(linebuf, "%d", &input) != 0) の文のところで"%d"と整数を指定しているため、 変数inputに入力された値を格納できません。 sscanf関数は変換エラーの場合は「EOF」を返すとなっているにもかかわらず、 ここでは「0」以外の場合(!= 0)となっています。 変換エラーというのは、入力された値とsscanf関数で指定した書式が異なる場合は含まないのでしょうか。 そうであるならば、変換エラーというのはどのようなものなのでしょうか。 ちなみに、「!= 0」の部分を「!= EOF」にして実行したところ、 無関係な数値が出力されました。 （aを入力したら、4198555の2乗は～と出力されました）
プログラミング未経験者です。 Macでのプログラミングに興味があります。 iPhoneアプリを作るためです。 動画や音声編集をする場合はハイスペックが求められるのは知ってますが、 プログラミングだとどうなんでしょうか？ アプリ開発等のプログラミングでも、 スペックは必要、つまりMBAや新型12インチMacBookでなくMBPを買うべきでしょうか？
すいません。　またまた教えて下さい。 MFCで、UTF-8でファイルを保存しようとしていますが、うまくいきません。 下記のプログラムで、添付のエラーが出ます。 // UTF-8ファイル書き込み FILE* pFile1; fopen_s(&pFile1,"C:\\app\\8a.txt", "w, ccs=UTF-8"); //fopen_s(&pFile1,"C:\\app\\8a.txt", "w"); //UTF-8でないのでOK if (pFile1) { CStdioFile file(pFile1); file.WriteString(_T("abcあいうえお")); file.Close(); } ＜環境＞ windows8 visual studio2012(2008でも同じでした) MFCで、文字セットはマルチバイト文字セットを使用するにしています。 参考にしたHP http://faithandbrave.hateblo.jp/entry/20080724/1216890457 なぜでしょうか？　よろしくお願い致します。
例えば、以下のようなソース。 関数の中で、引数のポインタに値を入れてmainに戻す。 とても簡単なものです。 void func(int *N) { 　*N=0; } main { 　int　　*N=1; 　func(N); 　printf("%d",*N) } 疑問は、ここからです。 (1)void func(int　　*N) (2)void func(int*　　N) (3)void func(int*　　&N) 上記は、何が違いますか？ なお、当方のVS2010で同じソースを作ると、 (1)の場合、エラーになります。(func関数の*N=0のところでダウン) (2)だと、ＯＫになります。 (3)は、なに？
Windows95での自作プログラムの動作確認に、DirectX8.0が必要になりました。しかし、マイクロソフトでは現在これを配布していないようです。再配布場所など、ダウンロードできる場所はないでしょうか？
お世話になっております。 当方C#初心者でございます。 現在、FTPSを使用しファイルダウンロードを行うクライアントアプリの作成を FtpWebRequest、FtpWebResponseを用いて行っております。 #以下を参考にし、作成させて頂いております。 http://dobon.net/vb/dotnet/internet/ftpwebrequest.html#section1 http://blogs.gine.jp/taka/archives/1377 ですが、FtpWebRequest.GetResponse()のところでエラーが発生し原因を突き止められておりません。 また、ポートを21、990とした際にエラー内容も変わっており、余計原因究明が困難となっております。。 解決にご助力願えますでしょうか。 以下ソースと、トレース結果となります。 ----------------------------------------- ServicePointManager.ServerCertificateValidationCallback = new RemoteCertificateValidationCallback( delegate(Object certsender, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors) { return true; }); FtpWebRequest ftpReq = (FtpWebRequest)WebRequest.Create("ftp://192.168.1.111:21/%2fhome/ftp_test/hogehoge.jpg"); ftpReq.Credentials = new NetworkCredential("test_user", "test_pass"); ftpReq.Method = WebRequestMethods.Ftp.GetFileSize; ftpReq.KeepAlive = false; ftpReq.EnableSsl = true; FtpWebResponse ftpRes = (FtpWebResponse)ftpReq.GetResponse(); <- ここでExceptionが発生してしまう Console.WriteLine(ftpRes.ContentLength); textBox1.Text += ftpRes.ContentLength; ----------------------------------------- Port：21 System.Net Verbose: 0 : [4936] Exiting FtpWebRequest#33736294::GetResponse() System.Net Verbose: 0 : [5252] WebRequest::Create(ftp://192.168.1.111:21/%2fhome/ftp_test/hogehoge.jpg) System.Net Information: 0 : [5252] FtpWebRequest#33736294::.ctor(ftp://192.168.1.111:21/%2fhome/ftp_test/hogehoge.jpg) System.Net Verbose: 0 : [5252] Exiting WebRequest::Create() -> FtpWebRequest#33736294 System.Net Verbose: 0 : [5252] FtpWebRequest#33736294::GetResponse() System.Net Information: 0 : [5252] FtpWebRequest#33736294::GetResponse(メソッド = SIZE。) System.Net Information: 0 : [5252] Associating FtpWebRequest#33736294 with FtpControlStream#35191196 System.Net Information: 0 : [5252] FtpWebRequest#33736294::(FTP connection#35191196 を解放しています。) System.Net Information: 0 : [5252] Associating FtpWebRequest#33736294 with FtpControlStream#48285313 System.Net Information: 0 : [5252] FtpWebRequest#33736294::(FTP connection#48285313 を解放しています。) System.Net Error: 0 : [5252] Exception in the FtpWebRequest#33736294::GetResponse - 基礎になる接続が閉じられました: 受信時に予期しないエラーが発生しました System.Net Error: 0 : [5252] 場所 System.Net.FtpWebRequest.SyncRequestCallback(Object obj) 場所 System.Net.FtpWebRequest.RequestCallback(Object obj) 場所 System.Net.CommandStream.InvokeRequestCallback(Object obj) 場所 System.Net.CommandStream.Abort(Exception e) 場所 System.Net.FtpWebRequest.FinishRequestStage(RequestStage stage) 場所 System.Net.FtpWebRequest.GetResponse() System.Net Verbose: 0 : [5252] Exiting FtpWebRequest#33736294::GetResponse() ------------------------------------------ Port:990 System.Net Verbose: 0 : [3804] Exiting FtpWebRequest#33736294::GetResponse() System.Net Verbose: 0 : [2416] WebRequest::Create(ftp://192.168.1.111:21/%2fhome/ftp_test/hogehoge.jpg) System.Net Information: 0 : [2416] FtpWebRequest#33736294::.ctor(ftp://192.168.1.111:21/%2fhome/ftp_test/hogehoge.jpg) System.Net Verbose: 0 : [2416] Exiting WebRequest::Create() -> FtpWebRequest#33736294 System.Net Verbose: 0 : [2416] FtpWebRequest#33736294::GetResponse() System.Net Information: 0 : [2416] FtpWebRequest#33736294::GetResponse(メソッド = SIZE。) System.Net Information: 0 : [2416] Associating FtpWebRequest#33736294 with FtpControlStream#35191196 System.Net Information: 0 : [2416] FtpWebRequest#33736294::(FTP connection#35191196 を解放しています。) System.Net Error: 0 : [2416] Exception in the FtpWebRequest#33736294::GetResponse - 基礎になる接続が閉じられました: ご教示、ご指摘のほど、よろしくお願いいたします。
VC++2013 MFC環境です。 プログラムで○や×などの記号のアイコンを描画し、PNG,GIF,JPEGの形式でファイルに保存したいです。その時、アイコンの背景を透過したいのですがうまくいきません。 CDCクラスとCImageクラスを使用しアイコンの出力をしています。 背景透過について調べていくつか使えそうな関数があり試したのが、TransparentBltという関数で、デバイスコンテキストを二つ用意して、片方に記号を描画し、透過したい色を指定してもう片方にコピーすると指定した色が透過になる？と解釈しプログラム組みましたが結果は真っ黒の画像でした。 ここで完全に手が止まってしまい、質問させていただきます。 以下ソース CImage Image, image2; Image.Create( 50, 50, 24 ); image2.Create( 50, 50, 24 ); CDC* pDC = CDC::FromHandle( Image.GetDC( ) ); CDC* pdc2 = CDC::FromHandle( image2.GetDC( ) ); CRect rect( 0, 0, 50, 50 ); CPen BlackPen( PS_SOLID, 3, RGB( 0, 0, 0 ) ); CBrush WhitBrush( RGB( 255, 255, 255 ) ); CBrush BlackBrush( RGB( 0, 0, 0 ) ); pDC->FillRect( &rect, &WhitBrush ); pDC->SelectObject( &BlackPen ); pDC->SelectObject( &WhitBrush ); pDC->Ellipse( 5, 5, 45, 45 ); COLORREF col = Image.GetPixel( 0, 0 ); pdc2->TransparentBlt( 0, 0, 50, 50, pDC, 0, 0, 50, 50, col ); Image.SetTransparentColor( col ); image2.Save( L"c:\\icon\\maru.png" ); Image.ReleaseDC( ); image2.ReleaseDC( ); 他にも実装例があれば教えてください。 C++や画像生成に関しては経験がありません。
BCCを使用していたのですが、最近VS2013でC#を勉強し始めました フォームの指定した位置にいくつかのボタンを設置し、あらかじめ定義しておいた テーブルからボタンのtextを表示したいと思い、以下のようにコーディングしたのですが エラーが出てしまい思ったような結果に持って行くことができません C#ならこうした方がいいという指摘も含めて　どうやるのがいいのか ご教授ください 足りない情報があれば追加します ちなみにまだテスト段階だから２列定義して１列しか表示するようにしかなってません ----------------------------------------------------------------------- using System; using System.Collections.Generic; using System.ComponentModel; using System.Data; using System.Drawing; using System.Linq; using System.Text; using System.Threading.Tasks; using System.Windows.Forms; namespace haneda { public partial class Form1 : Form { private Button[] buttons; public Form1() { InitializeComponent(); } private void Form1_Load(object sender, EventArgs e) { int i; //ボタンコントロール配列の作成 this.buttons = new Button[table.MAX_R]; for (i = 0; i < buttons.Length; i++) { //ボタンコントロールのインスタンス作成 this.buttons[i] = new Button(); //プロパティ設定 this.buttons[i].Name = "btn" + i.ToString(); this.buttons[i].Text = table.roomNo[1, i]; <=ここがエラー this.buttons[i].Top = table.roomX01[i]; <=ここがエラー this.buttons[i].Left = table.roomY01[i]; <=ここがエラー this.buttons[i].Click += new System.EventHandler(button_Click); //コントロールをフォームに追加 this.Controls.Add(this.buttons[i]); } } private void button_Click(object sender, System.EventArgs e) { Button btn = (Button)sender; MessageBox.Show(btn.Name); } } public class define { public const bool IGNORE = false;//非表示 public const bool EFFECT = true; //表示 /* 最大値 */ public const int MAX_F = 2; //フロア数 public const int MAX_R = 3; //ルーム数 } public class table { /* ナンバー */ public readonly string[,] roomNo = new string[define.MAX_F, define.MAX_R] { { "101", "102", "103"}, { "201", "202", "203"} } /* 表示・非表示 */ public readonly bool[,] effectRoom = new bool[define.MAX_F, define.MAX_R] { {EFFECT, IGNORE, EFFECT}, {EFFECT, EFFECT, EFFECT} } public readonly int[] roomX01 = new int[define.MAX_R] { 5, 70, 135 } public readonly int[] roomY01 = new int[define.MAX_R] { 100, 100, 100 } } }
ＡＰＩを使用する際、ＡＰＩの利用部分を１箇所に集めておくために、 ラップするクラスを作った上で、そのラッパー経由でＡＰＩを使用するようにしています。 そのラッパークラスの設計と実装で、わからないことがあります。 下の【１】と【２】を同時に実現しようとしたら、 矛盾してできないようなのです。 【１】 ラッパークラスを作る際、 　　(1)インタフェースを定義するための基底クラスと、 　　(2)その基底クラス（インタフェース）を実装する側のクラスを作ろうとしました。 【２】 使うＡＰＩ（ミドルウェア）を切り替える可能性があったので、 　　・どのようなミドルウェアでも共通に使えるようなインタフェースにしようとしました。 しかし、インタフェースを作ろうとした時点で、 インタフェースとして使われるというか、 引数として渡したり、戻り値として返して貰う「データ型」「クラス」が、 「ミドルウェア」に依存してしまうために、 「基底クラスのインタフェース」にミドルウェア固有の型が入らざるを得ないと感じました。 通常、【１】と【２】は同時には実現できないという認識で良いのでしょうか？ また、【１】の基底クラスと実装クラスを分けるということだけを実現しようとするなら、 　データ型ｘを、　 　#Define WrappedＸ ラップデータ型Ｘ; 　#Define WrappedＹ ラップデータ型Ｙ; 　とした上で、基底クラスのインタフェースで登場する、 　Inputの型とOutoutの型を、見かけ上、ラップデータ型Ｘ、ラップデータ型Ｙ 　にすることを考えていますが、 　他の開発者の方はどのような方法でクラスの設計・開発をしているのでしょうか？ ※引数も、戻り値も、 　voidポインタにして、ダウンキャストして、、 　ということもできるのかもしれませんが、 　その方法はなんだか抵抗を感じますし、自分の力量では不具合があったときに対処できないため、 　事実上採用できない感じです。 .
初めて質問させて頂きます。 現在下記の環境にて開発をしております。 OS:Windows7 言語：C++（VS2005） Qt：4.7.3 下記のコードを試すと、違う結果となってしまっております。 私には、なぜ違う結果となるかわかりません。 C++の基本的な動作の話でしたら申し訳ありませんが、是非ご教授下さい。 ----- QVariantMap test; test.insert( "STR_TEST", "abcde" ); QByteArray hogehoge = test.value("STR_TEST").toString().toLocal8Bit(); char* hoge1 = hogehoge.data(); char* hoge2 = (test.value("STR_TEST").toString().toLocal8Bit()).data(); ----- これでhoge1とhoge2の内容が違ってしまいます。 hoge1は"abcde"がとれています。 hoge2は失敗しているようで、初期値のままのようです。 なにか変換の手順等の問題があるのでしょうか？ 宜しくお願いいたします。
vc++でCGIアプリケーションを作成しています。 今回、画面よりボタンクリックされたら、 CreateProcessで某exeを起動することになりました。 が、そのexeは処理時間がかかるため、終了を待たないで 画面出力をしたいのです。 単純に CreateProcessがうまくいったら、GetExitCodeProcesで「終わったか」を チェックしないで画面を出力しています。 が、画面出力が全部終わりません。 画面（html）はトップから出力し、iframeがあります。 表示の最後（</html>の前）にiframe内に一覧リストを表示させるよう、 JavaScriptでリクエストを行っています。 ログを見るとトップの出力までは書かれています。 その後、CreateProcessで起動したexeが終了すると、 一覧リストは表示されます。 ログも追加されています。 ##例えばexeが5分かかるとすると5分後にログが最後まで書かれています） ##画面も5分後に一覧リストが表示されます。 何故、一覧リストの処理が待たされているのかわかりません。 ソースはこんな感じです。 　　↓ iRet = CreateProcess(0, Pbuff(ここにexe名), 0, 0, TRUE, 0, 0, 0, &startUpInfo, &PInfo ); if ( iRet != TRUE ){ CgiError("xxx", "起動できませんでした", "" ) ; return(-1); } 　//この後画面表示処理 何か設定とか、間違ってますでしょうか？ または何か他にしなければならないことがあるでしょうか？ アドバイスをお願いいたします！ 因みに、CreateProcessで起動するexeは最大2時間程度の処理時間になります。 よろしくお願いします。
この問題で中央値を出力するプログラムは作成できたのですが、配列の初期配置とソート結果も出力するプログラムはどうなりますか。 問題文 : 以下の配列をソートして中央値を求めるプログラムを作成せよ。 int a[21] = {25, 19, 46, 9, 20, 18, 39, 63, 4, 29, 3, 19, 23, 62, 57, 13, 23, 58, 24, 2, 29}; その他制限など : 宣言時に初期化してよい(scanfしなくてよい) 以下のような内容を画面に出力する 1. 初期配置 2. ソート結果 3. 中央値 以下、中央値を求めるプログラム #include <stdio.h> #include <string.h> #define DATA_NUM 21 // データ数 #define MAX_DATA 63 // データの最大値 int main() { // 変数定義 int data[DATA_NUM] = {25, 19, 46, 9, 20, 18, 39, 63, 4, 29, 3, 19, 23, 62, 57, 13, 23, 58, 24, 2, 29}; int i, j, tmp; double med; // 中央値 // 変数の初期化 i = 0; j = 0; tmp = 0; med = 0; //データを大きさの順に並べ替え for(i = 1; i < DATA_NUM; i++) { for(j = 0; j < DATA_NUM - i; j++) { if(data[j] > data[j + 1]) { tmp = data[j]; data[j] = data[j + 1]; data[j + 1] = tmp; } } } // メジアンを求める if(DATA_NUM % 2 == 1) // データ数が奇数個の場合 { med = data[(DATA_NUM - 1) / 2]; // 中央値 } else // データ数が偶数の場合 { med = (data[(DATA_NUM / 2) - 1] + data[DATA_NUM / 2]) / 2.0; // 中央値 } printf("中央値は %0.2f\n", med); return 0; }
VC++6.0のincludeファイルのパスの設定について質問します。 下記の如くパスを設定していますが、ファイルは読み込めないエラーが 発生します。 ========================================= パスの設定：c:\Program Files\Microsoft Visual Studio 9.0\VC\include\ ========================================= 尚 \ は 逆スラシュをキーインしていますが、VC++6.0では表示は￥となります。 OKWaveのブラウザーでは、キーボードの通り\と表示されます。 ========================================== エラーの内容： c:\libusb-1.0.19\msvc\errno.h(14) : fatal error C1083: インクルード ファイルがオープンできません。'crtdefs.h': No such file or directory ========================================== 注）上記のパスには、'crtdefs.h'があることは確認しています。 Q1) 上記のエラーの解決方法は？ Q2) VC++6.0で、逆スラシュをそのまま表示する設定はありますか？ 初心者の質問ですが、宜しくお願いします。
C++で、 System.Windows.Forms.WebBrowser を使って、 既に開かれているIEを操作したいです。 Shdocvw.dll　を間接的に使うのはアリで、 Shdocvw.dll　を直接は使わずに行いたいです。 （.NETのラッパーを使っても良いですし、COMインタフェースを使っても良いです。 実質、やっていることは同じなのにナゼ？と感じると思うのですが、色々事情があるのです。） 調べて、結構分かってきているつもりなのですが、（２）の部分で困っています。 (１)IEのウィンドウを羅列する。 　IShellWindows::FindWindowSW 　で取っています。 (２)そのIEの各タブで、任意のページ（例えばhttps://www.google.co.jp）があったら、それをIEオブジェクトに代入。 (備考：試したこと) IDispatch* の 　QueryInterface　を使って、 IWebBrowser2* IHTMLDocument2* などと、段々掘り下げていって、HTMLElementを操作しようとしていたのですが、、 (要件) システムのメンテナンス性というか、 　誰でもプログラムを修正できるようにするために、 　System.Windows.Forms　の配下のHTML操作系のクラスで取り扱いたいのです。 　何卒宜しくお願いします。 *********************************************************** 　これは想像ですが、 　Shell.Applicationのインスタンスを作っておいて、 　現在のウィンドウのリストから、Windows　のアイテムを取って、 　そのアイテム（ウィンドウ？）の名前？クラス？を取って、 　path == "iexplore.exe" で実行されているものであるなら、 　IEオブジェクトに代入というようなことができたりするのかなぁ、、 　と捉えています。
可変長配列の可変長配列を飲み込んで 吐き出すコードです global変数 *st_memory こいつをブロック内から参照するには どない書けば良いのでしょうか 構造体とか他の関数から引っぱり出しても 何故にかSegmentation faultで弾かれます mallocとかgotoの処理は無視して下さい ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ #include <stdio.h> #include <stdlib.h> #include <string.h> #include <assert.h> #define MAX 256 typedef enum{ SUCCESS, EOF_FILE, MEM_OVER }Add_List; char *st_memory = NULL; //global void free_buffer(void){ free(st_memory); st_memory = NULL; } Add_List add_char(const int ch,int *count){ static int buffer = 0; assert(buffer >= *count); if(buffer == *count){ st_memory = (char *)realloc(st_memory, (buffer + MAX) * sizeof(char)); if(st_memory == NULL)return MEM_OVER; buffer += MAX; }// END if st_memory[*count] = ch; (*count)++; return SUCCESS; } // END add_char(const int,int); Add_List read_line(FILE *fp,char **line){ int ch,used_line = 0; Add_List status = SUCCESS; while((ch = getc(fp)) != EOF){ if(ch == '¥n'){ status = add_char('¥0',&used_line); if(status != SUCCESS)goto FUNK_END; break; } // END if status = add_char(ch,&used_line);// MAIN if(status != SUCCESS)goto FUNK_END; }// END while if(ch == EOF){ if(used_line > 0){ status = add_char('¥0',&used_line); if(status != SUCCESS)goto FUNK_END; }else{ status = EOF_FILE; goto FUNK_END; } // END if } // END if line[0] = (char *)malloc(sizeof(char) * used_line); if(line[0] == NULL){ status = MEM_OVER; goto FUNK_END; } strcpy(line[0],st_memory);// MAIN FUNK_END: if(status != SUCCESS)free_buffer(); return status; }// END read_line(FILE *,char **); char ** add_line(char **text_file,char *mem_line, int *line_alloc_num,int *line_num){ assert(*line_alloc_num >= *line_num); if(*line_alloc_num == *line_num){ text_file = (char **)realloc(text_file, (*line_alloc_num + MAX) * sizeof(char)); if(text_file == NULL)exit(0); *line_alloc_num += MAX; } // END if text_file[*line_num] = mem_line; (*line_num)++; return text_file; } // END add_line(char **,char *,int *,int *); char ** read_file(FILE *fp,int *line_p){ char **text_file = NULL; int line_alloc_num = 0; int line_num = 0; char *mem_line = NULL; while(read_line(fp,&mem_line) == 0){ text_file = add_line(text_file, mem_line,&line_alloc_num,&line_num); } // END while text_file = (char **)realloc(text_file, line_alloc_num * sizeof(char)); if(text_file == NULL)exit(0); *line_p = line_num; return text_file; } // END read_file((FILE *,int *); int main(void){ char **text = NULL; int i,line_num = 0; text = read_file(stdin,&line_num); printf("¥n"); for(i=0;i<line_num;i++) printf("%s¥n",text[i]); return 0; } ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿
いつもお世話になっております。 FXでよく使われているMT4というチャートソフトのMQLという言語で、EAを作っているのですが、今までは、DLLの連携の必要がなかったため、勉強をしてこなかったのですが、 DLLの連携が必要になってきてしまったため、DLLについてお知恵をお貸し頂けたら幸いです。 私はDLLについてはほとんど知識がないため、 DLLについて調べていたのですが、 DLLには Win32 DLL COM形式のDLL NET仕様のDLL などの種類があるということで、 他の言語で作ったツールなどとの連携の際に、 どの種類の種類のDLLかによって、エラーが出たりするということを知りました。 （参照元URL） http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1439183399 また、DLLそのものも、C++やC#などで作れたりするということも知りました。 そこで、質問なのですが、 (1)C++とC#で作るDLLには、基本的に違いはあるのでしょうか？（書くコードとしての違い以外） (2)ご存知であればでいいのですが、MQLでDLLを連携して使う場合は、C++、C#、どちらで作ったDLLでも問題はないのでしょうか？ 今まで独学でプログラミングをしてきたため、基本的な知識が抜け落ちており、 初歩的な質問で非常にお恥ずかしい内容なのかもしれないのですが、 恐れ入りますが、よろしくお願いいたします。
現在C#を用いて、機器と通信するプログラムを作成しています． byte[] get_data = System.Text.Encoding.ASCII.GetBytes(rcv_data); 上記のように受信したデータをbyteにエンコーディングしています． 0～127までの場合は問題がないのですが、例えばASCIIコードで134(† : 10000 0110)を受信した場合、byte配列に 63 と変換されて格納されます． 128以上の場合はどのようにすれば良いでしょうか? お分かりになられる方がいらっしゃいましたらご教授宜しく御願い致します．
ActiveXのShdocvwの「FindWindowSW」は、 ．NETのいずれかのクラスのメソッドで行うことはできるでしょうか？ 【目的】 InternetExplorerを操作したい。 【案１】 ActiveXのShdocvwの「FindWindowSW」を使ってみたが挫折 FindWindowSW(urlアドレス, empty, 1, 0, 1) ⇒　ヒットしない。 【案２】 Process[] process = Process.GetProcessesByName("iexplore"); ⇒　ヒットしない。 【案３】 Enumwindowで取ったハンドルを、 Shdocvwを扱うポインタに紐付けて操作する。 ⇒　やりかたわからず。 ※本件は 　http://okwave.jp/qa/q8845657.html を参考に進めました。
textBox1.Text = "<li>aaaaa</li><a id="link" href="http://yahoo.co.jp" >bbbbb</a><p>ccccc</p>"; WebBrowser webbrowser = new WebBrowser(); webbrowser.DocumentText = textBox1.Text; HtmlElementCollection elements = webbrowser.Document.GetElementsByTagName("a"); foreach (HtmlElement element in elements){ if (element.GetAttribute("id") == "link"){ str = element.GetAttribute("href"); } } MessageBox.Show(str); このようにソースを書いたのですが、http://yahoo.co.jpをポプアップで表示することができません。 webBrowserに表示しているサイトのHTMLに対して行うときはほとんど同じ方法で取得ができるので、文字列に原因があるだろうということはわかるのですが、何がいけないかがイマイチわかりません。 ステップ実行したところ、foreachの中にはいらないようです。なぜ入らないのでしょうか？どうすればはいるのでしょうか？ よろしくおねがいします。
いつもお世話になっております。 エラー処理ができず困っています。 下記の　y=...　という式でエラーが発生した場合（yはdoubleです） yにゼロを代入して次に進む、としたいのです。 が、以下のように書いても　y=のところでエラーが発生して止まってしまい、 回避処理（catch以下）に進みません。 いろいろ調べてあれこれ直してみましたが、うまくいかず困っています。 　 try{ y = ((y1 - y3)*(y1 ^ 2 - y2 ^ 2 + x1 ^ 2 - x2 ^ 2) - (y1 - y2)*(y1 ^ 2 - y3 ^ 2 + x1 ^ 2 - x3 ^ 2)) / (2 * (y1 - y3)*(x1 - x2) - 2 * (y1 - y2)*(x1 - x3)); } catch (...){ y = 0; } 正しい方法をご存じでしたらぜひ教えてください。 どうぞよろしくお願い致します。
アプリ内課金プログラミング完全ガイドという本にあるサンプルソースで苦戦しています。 下記は課金完了後、有料コンテンツが見れるようにするソースの一部です。 ******************************************************* // コンテンツの有効期限を確認してプロパティに反映させる - (void)setEnableContent { NSNumber *content1ExperiesDate = [_userDefaults objectForKey:kProductManagerContent1ExpiresDate]; NSNumber *content2ExperiesDate = [_userDefaults objectForKey:kProductManagerContent2ExpiresDate]; NSNumber *content3ExperiesDate = [_userDefaults objectForKey:kProductManagerContent3ExpiresDate]; // 今現在と有効期限を比較する NSNumber *current = [NSString stringWithFormat:@"%f", [[NSDate date] timeIntervalSince1970]]; if (content1ExperiesDate && NSOrderedDescending != [current compare:content1ExperiesDate]) { _isEnableContent1 = YES; } if (content2ExperiesDate && NSOrderedDescending != [current compare:content2ExperiesDate]) { _isEnableContent2 = YES; } if (content3ExperiesDate && NSOrderedDescending != [current compare:content3ExperiesDate]) { _isEnableContent3 = YES; } } ******************************************************* 今現在と有効期限を比較し、有効期限内であればYESを渡すというものです。 問題点 なぜか動きません。 X-CODEを見ると // 今現在と有効期限を比較する NSNumber *current = [NSString stringWithFormat:@"%f", [[NSDate date] timeIntervalSince1970]]; の部分で incompatible pointer types initializing NSNumber with an expression of type NSString というNoticeが出ます。 互換性のないポインタータイプということのようですが、どう訂正すればいいのかが分かりません。 ご指導いただけますよう御願い致します。
下のプログラムで配列（DivBdInfo[i].StgSizeAvg）に値が入らず困っています。 やっていることは平均を求めているだけです。 DivBdInfo[i].StgSizeAvgの変数iを３や５に変えるとこちらは値が入ります。 デバッグ時にSumとcntに値が入っているのは確認しました。 DIVBD_INFO DivBdInfo[DIVBOARD_NUM];はグローバルです。 回答よろしくお願いします。 #define DIVBOARD_NUM 9 typedef struct _DIVBD_INFO { double StrgSizeAvg; double LinkNumAvg; double GrpSizeAvg; }DIVBD_INFO; DIVBD_INFO DivBdInfo[DIVBOARD_NUM]; void StrgSizeAvg(STRING *stringlist) { int x,y,i,id; int rfx,rfy; int Sum; int cnt; for(i=0;i<DIVBOARD_NUM;i++) { GetDivideRfXY(i,&rfx,&rfy); for(i=0;i<movenum;i++){stringlist[i].chk=FALSE;} Sum= cnt= 0; for(y=0;y<DIVIDE_SIZE;y++) { for(x=0;x<DIVIDE_SIZE;x++) { if(gostridboard[rfy+y][rfx+x]>SPACE){ id= gostridboard[rfy+y][rfx+x]-1; if(stringlist[id].chk==FALSE){ Sum+= stringlist[id].size; stringlist[id].chk=TRUE; cnt++; } } } } DivBdInfo[i].StrgSizeAvg=(double)Sum/cnt; //DivBdInfo[5].StrgSizeAvg=Sum/cnt; } }
10個のy座標、10個のx座標からなる10ピクセルの円弧があります。 この円弧の半径を求める式（添付画像のとおりです）は以下の内容でよろしいでしょうか。 始点（ひとつめのy座標とx座標）とふたつめのy座標とx座標の微分係数が （始点とみっつめの座標、始点とよっつめの座標、、、始点と１０個目の座標、 　という風に比べて（微分して）いく） 連続的なカーブの閾値以上（π/130）のものを合算し、 要素数（この場合は１０）で割る。 こういう意味かな・・・と思っていますが、正しい理解なのかいまいち自信がありません。 座標を配列で比較する限り、答えも2次元配列の値になるので 閾値（π/130）が成り立たないですし、 もしy座標同士だけ、x座標同士だけ、で比べると値が2つ出て 長さで表される「半径」ではないなぁ、と思い困っています。 もしおわかりになりましたら教えてください。 よろしくお願い致します。
昨日書いたコードを今日ビルドして実行したところ、 以下のように初期化した配列に値が代入されなくなりました。 どうも初期化前に戻っているような感じです。 y = 0; x = 6; int point_y[20] = { 0 }; int point_x[20] = { 0 }; c = 0; point_y[c] = y; point_x[c] = x; c = c + 1; この時点で point_y[0]　には0, point_x[0]には6が入ってほしいのですが point_y[c]にカーソルを当てて中身を見ると point_y[0] = 11372064; point_y[1] = 1742984488; といった具体です。point_x[c]の中身も同じような感じです。 何が原因か悩んでいます。 もしアドバイスいただけると助かります。 どうぞよろしくお願い致します。
こんばんわ。 以下のようなchar型の配列を直接Fooにキャストして利用したいのですが、 Foo構造体のdataにはint型の配列として利用したいのですが可能でしょうか? char型の配列を直接Fooにキャストした後にdataの部分を操作すれば 可能かと思っていたのですがうまくいきません。 foo->data=new int*[2]; としてしまうとbytData[8]が破壊されてしまいます。 このような方法は無理でしょうか? struct Foo { 　　　int　　　tenmp ; 　　　int　　　count ; 　　　int**　　data ; } ; char bytData[ 4 + 4 + 8 ] = { 1, 0, 0, 0, 　　　　　　　　　　　　　　　　2, 0, 0, 0, 　　　　　　　　　　　　　　　　3, 0, 0, 0, 　　　　　　　　　　　　　　　　4, 0, 0, 0, } ; int _tmain(int argc, _TCHAR* argv[]) { 　　　Foo*foo ; 　　　foo = reinterpret_cast< Foo* >( bytData ) ; 　　　foo->data = (int**)&bytData[ 8 ] ;// ここがダメ。 　　　printf( "%d\n", *foo->data[ 0 ] ) ;// 3 　　　printf( "%d\n", *foo->data[ 1 ] ) ;// 4 　　　return 0 ; }
こんにちは。 Ｃ言語の開発環境について質問なのですが、 今まで、visual studio 2010 C++でプログラムの練習をしていたのですが、gccでプログラムを書いたほうが良いということを以前お聞きしたので、gccのMinGWをインストールしてテキストエディターにプログラムを記述しました。 実際に実行したのですが、その際、Visual Stuido のファイルが勝手に開き、書いたプログラムがそこに記述されるようになっただけなのですが、これは正常な動きなのでしょうか？ もし、正常であるならば、この後どのようなことをすればよろしいのでしょうか？ 正常でない場合であれば、どのように対策をすればよろしいですか？
C#でユーザーコントロールを作成しています。 ※C#のカテゴリーがないので、こちらに質問させていただきます。 既存のコントロールを基底クラスとしているのですが、下記のコードで基底クラスのプロパティであるXXXを使用できないようにしました。 [Browsable(false)] [Obsolete("使用不可", true)] public new int XXX { get { return 0; } set { } } この、XXXに対してアクセスするコードはコンパイルエラーとなり、プロパティウィンドウにも表示されず、一応は使用できないようには出来ました。 ところが、コントロールをフォームに貼り付けて、他の使用可能なプロパティ（YYYプロパティとします）を変更すると、Form.Designer.csのInitializeComponent()に、XXXに値を設定するコードが自動生成されます。当然、そのままコンパイルすればエラーとなります。 ※XXXは、YYYの値に連動して値が変化する仕様です。YYYを追加したことでXXXが不要というか、あっては事故のもとになるので、使用不可にしました。 そこで、お教え願いたいのは、Form.Designer.csのInitializeComponent()に、プロパティの値を設定するコードが生成される仕組みです。若しくは、設定するコードが生成されないようにする方法です。 以上よろしくお願いします。
たびたびの質問失礼いたします。 前回シリアル通信によって文字化けがおきることについて質問させていただいたものです。 前回の質問後、10ビットのA/D変換データを文字列に置き換える方法を調べstatic void uint2Hex（）によって文字列に置き換えを行っているのですがまだうまく解消できませんでした。 申し訳ないのですが再び助言をいただけないでしょうか。 H8/36064を使用しTera Termに取り込むことで確認を行っています。 ボーレートなどのシリアル通信の設定はマイコン側、Tera Term側であわせてあります。 #include "iodefine.h" #include <machine.h> //割り込みマスクビット変更関数set_imask_ccr() を使用するためのインクルードファイル #include <stdio.h> void main(void) { init(); while(1){ if(AD.ADCSR.BIT.ADF == 1) Getad(); } } init() //A/D変換およびタイマＶ初期設定用関数 { set_imask_ccr(1); //割り込み禁止設定 AD.ADCSR.BIT.SCAN = 1; AD.ADCSR.BIT.CH = 101; TV.TCRV1.BIT.ICKS = 0; TV.TCRV0.BIT.CKS = 3; //Φ/128 TV.TCORA = 115-1; //コンペアマッチＡの値 TV.TCRV0.BIT.CCLR = 1; //タイマカウンタクリア TV.TCRV0.BIT.CMIEA = 1; //割り込み発生フラグ設定 set_imask_ccr(0); //割り込み禁止解除 } void initSCI3(void) //シリアル通信設定 { unsigned int dmy; IO.PMR1.BIT.TXD = 1; //TXD端子使用設定 SCI3.SCR3.BYTE = 0; //SCR3クリア SCI3.SMR.BYTE = 0; //SMRフォーマット設定 SCI3.BRR = 47; //9600bps for(dmy = 280;dmy > 0;dmy--); SCI3.SCR3.BIT.TE = 1; //送信動作許可 } void rs_putc(char c) //1文字送信 { while(SCI3.SSR.BIT.TDRE == 0); //トランスミットデータレジスタエンプティが真になるまで待機 SCI3.TDR = c; //トランスミットデータレジスタに送信データ(8bit)をセット SCI3.SSR.BIT.TDRE = 0; //「送信中」フラグを立てる } void rs_puts(char *st) //文字列送信 { while(*st != 0){ rs_putc(*st); st++; } } static void uint2Hex(unsigned long n, short upper, char *buf) { char c; char a = 'a'; short len = 0; short i, half; if(upper) a = 'A'; // 大文字/小文字の設定 // 16進文字列へ変換し文字数をカウント do{ i = n & 0x0F; if(i > 9) buf[len] = (unsigned char)(i + a - 10); else buf[len] = (unsigned char)(i + '0'); len++; n >>= 4; }while(n != 0); half = len >> 1; // 文字の並び順を直す for(i=0; i < half; i++){ c = buf[i]; buf[i] = buf[(len-1)-i]; buf[(len-1)-i] = c; } buf[len]='\0'; // 終端コードの挿入 } Getad() { volatile unsigned int *data = (unsigned int *)0xfa00; volatile unsigned int *data2 = (unsigned int *)0xfa10; initSCI3(); // SCI3初期化 *data =AD.ADDRA; *data = *data >> 6;//右に6bitシフト *data2 =AD.ADDRB; *data2 = *data2 >> 6;//右に6bitシフト rs_putc(*data); rs_putc(*data2); AD.ADCSR.BIT.ADF = 0; AD.ADCSR.BIT.ADST = 0; } #pragma interrupt (TimerV(vect=22)) //割り込み処理関数としてTimerVを宣言 void TimerV(void) { static int count; //20000回(0.1秒)ごとにGetad // コンペアマッチフラグを0に戻し、次のコンペアマッチに備える。 TV.TCSRV.BIT.CMFA = 0; if(count<100) count++; else { count = 0; AD.ADCSR.BIT.ADST = 1; //AD変換開始 } }
#include <stdio.h> int main(int argc, char *argv[]) { FILE *fp; char gyou[1024]; int gyousuu = 0; if ( argc < 2 ){ printf("file mei ga nai\n"); return -1; } fp = fopen(argv[1], "r"); if ( fp == NULL ){ printf("fopen dekinai\n"); return -2; } while(fgets(gyou, sizeof(gyou), fp) != NULL){ gyousuu++; } fclose(fp); printf("gyousuu=%d\n", gyousuu); return 0; } 　 　以上のプログラムはご覧のとおり、「ファイルの行数を計算」のプログラムです。 さて以上の 　if ( argc < 2 ){ printf("file mei ga nai\n"); return -1; } は「コマンドライン引数チェック」を行っています。・・・ 　if ( argc < 2 ){の「argcは２以上である必要がある」と参考書に書いてあります。 　 以上ですが意味が日光手前ですが、プログラムの行数をカウントするうえで、 　「コマンドライン引数チェック」とはどんな作業を行っているとこなのでしょうか！？ 　よろしくお願いします。 　
void encryptCBC(int data[],int dsize,int iv[]){　//暗号化 int tmp[4]; int i,j; KeyExpansion(key); for (i = 0; i < dsize; i += 4) { memcpy(tmp,&data[i],16); for(j=0;j<4;j++){ tmp[j]^=iv[j];　//16バイトごとに区切ったデータとベクタの排他的論理和 } Cipher(tmp);　//暗号化 memcpy(&data[i],tmp,16); memcpy(iv,tmp,16);　//ベクタの更新 } } void decryptCBC(int data[],int dsize,int iv[]){　//復号 int tmp[4]; int v[4]; int i,j; KeyExpansion(key); for (i = 0; i < dsize; i += 4) { memcpy(tmp,&data[i],16); invCipher(tmp);　　//復号 if(i==0){ //初期ベクタとの排他的論理和 for(j=0;j<4;j++){ tmp[j]^=iv[j]; } }else{　//更新したベクタとの排他的論理和 for (j=0;j<4;j++){ tmp[j]^=v[j]; } } memcpy(v,&data[i],16);　//ベクタの更新 memcpy(&data[i],tmp,16); } } AESのCBCモードでの暗号化、復号を実装しようとしています。 ２ブロック目以降は正しく復号できているのですが、1ブロック目が元の値に戻りません。 どこが間違っているかどなたか教えていただけないでしょうか？
いつも大変お世話になっております。 ピクセルの値を「ゼロ（黒）」にしたピクセルを読み込んでも「255（白）」となってしまい困っています。cvShowImageでこの画像を表示すると、どうみてもその場所は黒です。 なぜ「255(白)」になるのかわからず困っています。 原因を教えていただけませんでしょうか。 詳細は以下のとおりです。 out_imgという変数名のCV_LOAD_IMAGE_COLORの真っ白の画像 out_img = cvLoadImage("C:...\shiro.jpg", CV_LOAD_IMAGE_COLOR); の６×６ピクセルの値を、以下の文で「黒」にして 　　　out_img->imageData[out_img->widthStep * 6 + 6 * 3] = 0; 　　　out_img->imageData[out_img->widthStep * 6 + 6 * 3 + 1] = 0; 　　　out_img->imageData[out_img->widthStep * 6 + 6 * 3 + 2] = 0; 保存し、再び（別のソリューションで）src_img変数としてこの画像を読み込み 　　　src_img = cvLoadImage("C:...￥shiro.jpg", CV_LOAD_IMAGE_COLOR); グレースケール化し、　　　 　　　src_img_gray = cvCreateImage(cvGetSize(src_img), IPL_DEPTH_8U, 1); tmp_img = cvCreateImage(cvGetSize(src_img), IPL_DEPTH_8U, 1 ゼロイチの2値化（バイナリ画像）に変換し、 cvCvtColor(src_img, src_img_gray, CV_BGR2GRAY); 閾値でゼロイチに変換した後（なぜか上のsrc_img_grayでは黒がゼロにはならないため） cvAdaptiveThreshold(src_img_gray, tmp_img, 255, CV_ADAPTIVE_THRESH_GAUSSIAN_C, CV_THRESH_BINARY, 7, 8); 6×6の位置の値（変数iro）を確認すると「255」となります。 for (x = 0; x < tmp_img->width; x = x + 1){ // x 座標を 1ピクセルずつ進める for (y = 0; y < tmp_img->height; y = y + 1){ // y 座標を 1ピクセルずつ進める if (x == 6 && y == 6){ x = 6; （ここでデバックを掛けて、下の変数iroの値がいくつかを確認しています。ゼロであってほしいのですが、255です。 } uchar iro = tmp_img->imageData[tmp_img->widthStep * y + x * 3]; if (iro == 0){ 画像読み込みの引数がおかしいのだろうと思い、 CV_LOAD_IMAGE_ANYCOLOR や「０」にしたところ 今度はfor文のところでエラーになり、走査が始まりません。 for (x = 0; x < tmp_img->width; x = x + 1){ // x 座標を 1ピクセルずつ進める for (y = 0; y < tmp_img->height; y = y + 1){ // y 座標を 1ピクセルずつ進める 初歩的な質問で申し訳ありません。 ぜひアドバイスをいただけると助かります。 どうぞよろしくお願い致します。
古いC言語ソースを解析していたのですが、よく分からないので質問させていただきます。 下記のerror関数は、エラーメッセージを単純にファイル出力するものとして使っており、中身は単純だと思っていました。しかしva_argやcase"s"~"x"など意図が良く分からないものが出てきており、ソースを読むのに熟練してる方に中身が何をしているのか分かり易く解説して頂きたいです。 void error(char *mess,...) { FILE *f2 = stdout; va_list list; int i; int k = 0; char fmt[1000] va_start(list, mess); for(i=0;i < (int)strlen(mess); i++) { if (k >0) { fmt[k++] = mess[i]; fmt[k] = 0; switch (mess[i]) { case's': fprintf(f2,fmt,va_arg(list,char *)); k=0; break; case'c': fprintf(f2,fmt,(char)va_arg(list,int)); k=0; break; case'd': case'x' fprintf(f2,fmt,(char)va_arg(list,int)); k=0; break; } if ( k >= 1000 -2) { fprintf(f2, "too long format string\n"); break; } } else if (mess[i]== '%') { k = 0; fmt[k++] = mess[i]; fmt[k] = 0; } else fprintf(f2, "%c", mess[i]); } va_end(list); exit(1); }
現在Atmelマイコンでテンキーパネルのクリックで得られた数値データを使って、パスワードなどの数値と照合して処理を行うようなプログラムを作成しています。 u8key_buf[21]; パスワードを1回ごとにクリックしていくとこのkey_buf配列のkey_buf[0]から順に0x30('0')～0x39('9')の文字列の番号が代入されます。 照合したいパスワードデータは u32 pass　　というデータ変数でpass = 0x00001234　　　 このようなデータが入っています。 このデータを比較して同一かどうかを調べるために次のようなプログラムを作成しました。 test_id_data = strtoul(key_buf,NULL,10); if(key_index != 0 && test_id_data == pass) { 　　　　　　PASS同一と判定 } しかし、このプログラムではkey_bufの配列がなんであろうとif文条件では全部同一と判定されてしまいます。 試しに、 test_id_data = strtoul((char *)key_buf,NULL,10); if(key_index != 0 && test_id_data == pass) { 　　　　　　PASS同一と判定 } このようにすると、key[0]=0x31,key[1]=0x32,key[2]=0x33,key[3]=0x34 これとpass=0x00001234 は同一と判定して、それ以外だとfalseと分岐されました。 なぜ、(char *)と入れないと意図した動作をしたのかがよくわかりません。 どうぞ、ご教示頂きますよう、お願い致します。
Borland C++ Compiler 5.5 (BCC32)の環境設定についてです。 初心者でして、いろいろ調べてはいるのですがどうしてもコンパイルが成功しないので 申し訳ありませんが質問させていただきます。 PCはWindows7の64bitです。 コンパイルしたいプログラムはUSBメモリ（リムーバブルディスク（E:））に保存されています。 コンパイルするときはコマンドプロンプトでE:まで辿ってからやっています。 ところがコンパイルしようとすると エラー E2075: コンフィグレーションファイル中の オプションの間違い : ■■- (「■■」は実際は半角ぐらいのサイズです) とでます。 （コンパイルしたいプログラムの中身は間違っていないです。 学校のPC教室（同じくBorland）では成功しています。） 検索して色々解決策を探してみましたがどれも解決には至りませんでした。 （http://hpcgi2.nifty.com/natupaji/bbs/patio.cgi?mode=past&no=466や http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1099120205を参考にしました） bcc32.cfgとilink32.cfgの中にスペースは入っていないしPathのコロンも抜けてないし 大文字小文字も間違ってないはずです。 （画像…http://2nd.geocities.jp/mrpp20337/state.html 教えてgooからアップロードしたら文字がつぶれてしまったので私のHPに載せました） あとどこを変えればいいのかが分かりません。 どうすればコンパイルできるようになるのか教えて頂ければ幸いです。 ご回答の際になにか不足している情報があればご指摘下さい。
プログラミングC言語の問題で、 「ベクトルの内積を用いて、２つのベクトルの成す角度を求めるプログラムを作成せよ。」 という問題をやっていて、以下の画像のような答えになるのですが、上手くいきません。 どのようにすればいいのでしょうか？ 作ったソースコード #include<stdio.h> #include<math.h> double naiseki(int *vecterA, int *vecterB) { double rad, deg; rad = acos( (vecterA[0]*vecterB[0] + vecterA[1]*vecterB[1]) / ( sqrt((double)(vecterA[0]*vecterA[0] + vecterA[1]*vecterA[1])) * sqrt((double)(vecterB[0]*vecterB[0] + vecterB[1]*vecterB[1])) ) ); deg = rad/3.141592*180; return deg; } int main(void) { double va[2]; double vb[2]; printf("v1_x:"); scanf("%lf", &va[0]); printf("v1_y:"); scanf("%lf", &va[1]); printf("v2_x:"); scanf("%lf", &vb[0]); printf("v2_y:"); scanf("%lf", &vb[1]); puts("内積から求めたベクトルの角度は"); printf("%f",naiseki(va,vb)); puts("です。"); return(0); } 最後のnaiseki(va,vb)のところで互換性がありませんと でてしまいます。 double naiseki　のソースコードはこのままでプログラムが 動くようにしてほしいです。 よろしくお願いします！
C言語でAESのEBCモードを実装しようとしています。 unsigned char key[32]; int w[60]; int data[NB]; int nk; int nr; int data2[32]; int Cipher(int *); int invCipher(int *); void encryptEBC(int *,int n); void decryptEBC(int *,int n); main(){ unsigned char keys[]={0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07, 0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f}; unsigned char iv[]={0xcb,0x70,0x05,0x9e,0x27,0x2f,0x4e,0xd2, 0xd0,0xbe,0x0b,0x06,0xbf,0x16,0xec,0x5a}; unsigned char init2[]={'1','2','3','4','5','6','7','8','9','0','1','2','3','4','5','6','7','8','9','0', '1','2','3','4','5','6','7','8','9','0',0x0a}; int isize = sizeof(init2)/sizeof(init2[0]); int dsize2 = sizeof(data2)/sizeof(data2[0]); printf("%d,%d\n",isize,dsize2); FILE *fp; char *fname = "test.txt"; unsigned char init[16]; int i = 0; int c; fp = fopen( fname, "r" ); if( fp == NULL ){ printf( "%sファイルが開けません\n", fname ); return -1; } while( (c = fgetc( fp )) != EOF ){ init[i] = c; i = i+1; } fclose( fp ); memcpy(key,keys,16); nk = 4; nr = nk + 6; KeyExpansion(key); memcpy(data,init,16); memcpy(data2,init2,isize); datadump("PLAINTEXT: ",data,16); datadump("KEY: ",key,16); Cipher(data); datadump("Cipher: ",data,16); invCipher(data); datadump("invCipher: ",data,16); printf("\n"); datadump("PLAINTEXT: ",data2,dsize2); encryptEBC(data2,dsize2); datadump("EBCCipher: ",data2,dsize2); decryptEBC(data2,dsize2); datadump("invCipher: ",data2,dsize2); printf("\n"); return 0; } void encryptEBC(int data[],int dsize){ int tmp[16]; int i,j,k; printf("aiu%d\n",dsize); KeyExpansion(key); for (i = 0; i < dsize; i += 16) { memcpy(tmp,&data[i],16); Cipher(tmp); memcpy(&data[i],tmp,16); } } void decryptEBC(int data[],int dsize){ int tmp[16]; int i,j,k; printf("eo%d\n",dsize); KeyExpansion(key); for (i = 0; i < dsize; i += 16) { memcpy(tmp,&data[i],16); invCipher(tmp); memcpy(&data[i],tmp,16); } } このようなプログラムでとりあえず２ブロック分の暗号化、復号を行おうと思っているのですが、1ブロック目しか行えません。 どなたかどこが悪いのかご教授いただけないでしょうか？
いつもお世話になっております。 下記のプログラムを実行したところ、 Line: 55 Expression : (str !=NULL) とエラーが表示されました。 ファイル名もデレィクトリにあります。 使っているソフトは、Visual studio 2010です。 すいませんが、教えてください。本当に些細なことでも大丈夫です。 #include "stdafx.h" #include <stdio.h> #include <stdlib.h> #include <math.h> #define PMAX 200 #define MAG 1 struct point { double x; double y; }; int main(void){ FILE *fp, *out; struct point p[PMAX]; int index, i, point_num, start; double distance; if( (fp = fopen( "zahyou1.csv", "r")) == NULL ) { printf( "can not open the file.\n" ); } if( (out = fopen( "out.csv", "w")) == NULL ) { printf( "can not open the file.\n" ); } i = 1; while( fscanf(fp,"%d,%lf,%lf", &index, &p[i].x, &p[i].y) != EOF){ i++; } point_num = i; // which point to start //printf("from which point? : "); //scanf("%d",&start); for(start=1;start<point_num;start++) { printf("start point : %d\n", start); fprintf(out,"start,%d\n", start); for(i=1;i<point_num;i++) { distance = sqrt(pow(p[start].x - p[i].x, 2) + pow(p[start].y - p[i].y, 2)); distance *= MAG; printf("%3d %f\n", i, distance); fprintf(out,"%d,%f\n", i, distance); } printf("------------------------------------------\n"); } return 0; }
#include <stdio.h> int main(int argc, char *argv[]) { FILE *fp; char gyou[1024]; int gyousuu = 0; if ( argc < 2 ){ printf("file mei ga nai\n"); return -1; } fp = fopen(argv[1], "r"); if ( fp == NULL ){ printf("fopen dekinai\n"); return -2; } while(fgets(gyou, sizeof(gyou), fp) != NULL){ gyousuu++; } fclose(fp); printf("gyousuu=%d\n", gyousuu); return 0; } 　 　以上のプログラムはご覧のとおり、「ファイルの行数を計算」のプログラムです。 　　参考書には ----------------------------------- 　ファイル名　ソースファイル　example9.c 　　MSYSでコンパイル後のプログラム名　example9.exeとなる。 　　Mingシェルで呼び出して、同ファイルの 　　参考書　には　 　　＄　example9.c　-o　example9.exe　として 　　実行結果が 　　　gyousuu=22 ------------------------------- 以上が参考書の作業の流れです。 　 　ここで質問があります。 参考書は「ファイル行数を計算する」example9.c のファイルを呼び出して 　gyousuu=22 　だと結果を出していますが、ほかのプログラムを呼び出した場合も 　gyousuu=○○　と出るのでしょうか！？ 　以上　変な質問かもしれませんが　全国皆様　お付き合いをよろしくお願いいたします。
for文のフローチャートでわからないところがあったので質問させて頂きました。 ループの条件にi=1,2,3,…,n/2というところがあって、iに連続する数字を入れているのかどうかわからないことと、…の所は、条件なしっていうことであっているのでしょうか？ 質問が下手なので、わからないことがあれば、教えてください。
改行させずに文字配列を出力させる関数は、printf以外にありますか？ printf("Hello world!!"); //改行せずに出力 char str[]="Hello world!!"; puts(str); //改行されて出力 出力の最後に自動的に改行文字を追加しないで、文字配列を表示する標準関数って、printf以外にありますか？ もしくは、改行されない関数が必要な場合は自作するしかありませんか？
Ｃ言語　文字列で分からない部分があるのでご教示お願いします。 内容は「文字列の検索」です。 #include<stdio.h> #include<string.h> int main(void) { char word[] = "abcabdabe"; char word2[] = "abd"; char *word3 = "ABD"; char *word4 = NULL; printf("処理前の文字列：%s\n", word); word4 = word; word4 = strchr(word4, *word2); while (word4 != NULL){ printf("'a'が見つかった場所からの文字列: %s<\n", word4); if (strncmp(word4, word2, strlen(word2)) == 0) { strncpy(word4, word3, strlen(word3)); } word4 += 1; word4 = strchr(word4, *word2); } printf("処理後のword4: %s\n", word); return 0; } このプログラムの場合、word3とword４ではなぜ、*word3, *word4とポインタで設定するのでしょうか？ また、「word4 = strchr(word4, *word2)」と *word2のようにｌここでポインタ指定するのは何故なのでしょうか？
問題：10問の計算問題を解いて、以下のような成績表を表示するプログラムを作成せよ 例） 第一問　○ 第二問　× 第三問　× ・・・ 自分が作った解答）#include<stdio.h> #include<stdlib.h> void main() { int a,b,ans,i; int seikai=0; int huseikai=0; int kaitou[10]; srand((unsigned)time(NULL)); printf("暗算\n"); for(i=0;i<10;i++); { printf("%問\n",i+1); a=rand()%10; b=rand()%10; printf("%d+%dは？\n",a,b); scanf_s("%d",&ans); if(ans==a+b) kaitou[i+1]=seikai; else kaitou[i+1]=huseikai; } for(i=0;i<10;i++) { printf("第%d問",i+1); if(kaitou[i+1]==seikai) printf("○\n",seikai); else printf("×\n",huseikai); } } のように作成したのですが、コンパイルは成功しますが思い通りの解答になりません。 どこが間違っているのか指摘してください。
今学校のほうでH8/36064をつかってA/D変換したデータをPCに送るためのプログラムを作っているのですが、取り込んだデータをシリアル通信を使ってPCに送るとどうしても文字化けしてしまいます。 だめな原因などを教えていただけないでしょうか。 /*プログラム*/ #include "iodefine.h" #include <machine.h> //割り込みマスクビット変更関数set_imask_ccr()を 　　　　　　　　　　　　　//使用するためのインクルードファイル #include <stdio.h> void main(void) { while(1){ if(AD.ADCSR.BIT.ADF == 1) Getad(); } } init() //A/D変換およびタイマＶ初期設定用関数 { set_imask_ccr(1); //割り込み禁止設定 AD.ADCSR.BIT.SCAN = 1; AD.ADCSR.BIT.CH = 101; TV.TCRV1.BIT.ICKS = 0; TV.TCRV0.BIT.CKS = 3; //Φ/128 TV.TCORA = 115-1; //コンペアマッチＡの値 TV.TCRV0.BIT.CCLR = 1; //タイマカウンタクリア TV.TCRV0.BIT.CMIEA = 1; //割り込み発生フラグ設定 set_imask_ccr(0); //割り込み禁止解除 } void Sci3() //シリアル通信設定 { unsigned int dmy; IO.PMR1.BIT.TXD = 1; //TXD端子使用設定 SCI3.SCR3.BYTE = 0; //SCR3クリア SCI3.SMR.BYTE = 0; //SMRフォーマット設定 SCI3.BRR = 47; //9600bps for(dmy = 280;dmy > 0;dmy--); SCI3.SCR3.BIT.TE = 1; //送信動作許可 } void sendCharSCI(char data) //データ送信設定 { while(SCI3.SSR.BIT.TDRE==0); //トランスミットデータレジスタエンプティが真になるまで待機 SCI3.TDR = data; //トランスミットデータレジスタに送信データ(8bit)をセット SCI3.SSR.BIT.TDRE = 0; //「送信中」フラグを立てる return; } void print(char *str) { while(*str !='\0') { sendCharSCI(*str); str++; } return; } Getad() { volatile unsigned int *data = (unsigned int *)0xfa00; volatile unsigned int *data2 = (unsigned int *)0xfa10; *data =AD.ADDRA; *data = *data >> 6;//右に6bitシフト *data2 =AD.ADDRB; *data2 = *data2 >> 6;//右に6bitシフト AD.ADCSR.BIT.ADF = 0; AD.ADCSR.BIT.ADST = 0; Sci3(); // SCI3初期化 sendCharSCI(*data); sendCharSCI(*data2); } #pragma interrupt (TimerV(vect=22)) //割り込み処理関数としてTimerVを宣言 void TimerV(void) { static int count; //20000回(0.1秒)ごとにGetad // コンペアマッチフラグを0に戻し、次のコンペアマッチに備える。 TV.TCSRV.BIT.CMFA = 0; if(count<100) count++; else { count = 0; AD.ADCSR.BIT.ADST = 1; //AD変換開始 } }
学校の課題でプログラムを作らなければならないのですが、いまいちよくわからないので教えてください＞＜ １、インチ単位の数を引数として何cmかを出力する関数を作成しなさい。 ２、f(x)=ax^2+bx+cのa,b,cを順に引数として、f(x)=0の実数解の個数を出力する関数を作成しなさい。 よろしくお願いします。
私は現在、C言語のストリームというところを勉強中で、その中でfopen()やfread(),fwrite()といった関数の使い方の例が参考書に書いてあるのですが、結果が上手く表示されず困っています。次にプログラムの説明と、ソースを載せています。 <説明> 10個の要素を持つ配列を浮動小数点数で埋め、それらをファイルに書き込み再び読み込みます。このプログラムは配列の要素を1つずつ書き込みます。 #include <stdio.h> #include <stdlib.h> double d[10] = { 10.2, 5.3, 7.91, 1.23, 7.7, 6.4, 89.12, 6.43, 5.55, 2.5 }; int main(void) { FILE *fp; int i; if((fp = fopen("myfile", "wb")) == NULL){ printf("ファイルを開くことが出来ません\n"); exit(1); } if(fwrite(d, sizeof d, 1, fp) != 1){ printf("書き込みエラー\n"); exit(1); } fclose(fp); if((fp = fopen("myfile", "rb")) == NULL){ printf("ファイルを開くことが出来ません\n"); exit(1); } for(i = 0; i < 10; i++) d[i] = -1.0; if(fread(d, sizeof d, 1, fp) != 1){ printf("読み込みエラー\n"); exit(1); } fclose(fp); for(i = 0; i < 10; i++) printf("%f\n", d[i]); return 0; } これを実行後、myfileをテキスト形式で開くと ffffff$@333333@、p= ラ」@ョG痙ョ・ヘフフフフフ@囮劔劔@H痙ョGV@ク・Qク@333333@ @ と文字化けして表示されてしまいます。 プログラミング自体勉強するのは今回が初めてで、何がダメなのか見当が付きません。 実行時にエラーが出るわけでもありません。 長くなりましたが、解決策がお分かりの方よろしくお願いします。
こんばんは。 文字列入れ替えのプログラムを作っているのですが、分からない部分があるので教えて頂きたいです。 入力ファイルには、 AAAAAAA（必ず7文字）【半角スペース】B（文字数はバラバラ）【tab】C（文字数はバラバラ） というデータが複数入っているものとします。 このファイルを読み込んで、 B【tab】C;;;（セミコロン3つ）AAAAAAA という順に並べ替えるプログラムを作成したいと考えています。 アルゴリズムとしては、 (1)ファイルから1行読み込む (2)読み込んだ行のうち最初の7文字を配列に保存 (3)半角スペースを除き、それ以降（B【tab】C）を出力ファイルに書き込む (4)(2)で保存したものに;;;をつけ、(3)の後ろに書き込む というのを考えていますが、(3)の工程をどうすればいいか分からず困っています。 （改行（\n）までをファイルに書き込めばいいと思うのですが、プログラムでどう書けばいいかが分かりません） よろしくお願いします。 #include<stdio.h> void main(void){ FILE *fin; FILE *fout; char buff[200]; char *p1; char word[200]; int i=0; /*読み込み用ファイルを開く*/ fin = fopen("input.txt", "rt"); if( fin == NULL ){ printf( "File open error1\n" ); return; } /*書き込み用ファイルを開く*/ fout = fopen("output.txt", "wt"); if( fout == NULL ){ printf( "File open error2\n" ); return; } /*1行ずつ読み込む*/ /*読み込める間繰り返す*/ while(fgets(buff,200,fin) != NULL){ i=0; /* buffの先頭アドレスをp1に与える*/ p1=buff; /*工程2：最初から７文字分を配列wordに保存*/ for (i=0;i<7;i++){ word[i]=*p1; *p1++; } /*半角スペース部分をとばし、p1をBの最初の文字にする*/ *p1++; 　　　　　ここで工程3を行う 　　　　/*工程4：保存しておいた文字列を書き込む*/ fprintf(fout,";;;%s\n",word); } fclose(fin); fclose(fout); }
随時更新されるログファイルから、 linux のC++言語でログ情報を随時取得するプログラムをつくっています。 ログ情報は、毎秒更新されるので、更新されたログ情報だけを 取得したいのですが、どうすればよいでしょうか？ ログをどこまでよみとったかを覚えておく方法はあるのでしょうか？ よろしくおねがいします。 　
いつも大変お世話になっております。 連日すみません。 以下のfor文で 変数mが初回から「７」になってしまい、困っています。 if(m=0...)を通過した後、次の行でmが「７」に変わっています。 なぜなのか理由がわかりません。 この変数を他の文字に変えても事象は同じです。 renzokuは「６」が代入されています。 初回から「７」になってしまうため、1回で処理が終了してしまい、困っています。 作り直すべきでしょうか？ かなり関数を書いたので、移植するときにミスをしないか心配で このままこの文を修正して済むようであればそうしたいのですが。。 int m = 0; if (renzoku > 4) { for (m = 0; m < renzoku + 1; m++); { printf("m = %d\n", m); out_img->imageData[out_img->widthStep * (point_y[m]) + (point_x[m]) * 3] = 0; printf("m = %d\n", m); out_img->imageData[out_img->widthStep * (point_y[m]) + (point_x[m]) * 3 + 1] = 0; printf("m = %d\n", m); out_img->imageData[out_img->widthStep * (point_y[m]) + (point_x[m]) * 3 + 2] = 0; printf("m = %d\n", m); } } どうぞよろしくお願い致します。
現在、シリアル通信をする（受信のみ）プログラムを作成しています。 接続先は１秒ごとに１０バイトのデータを自動で送信してきます。 現段階でPC側でデータを受信できることは確認できました。 しかし、受信データが文字化け（出力結果が｛や■などがでています）しており、その原因がわかりません。 どこが問題なのか教えていただけないでしょうか？ また、接続先からは１０バイトのうち最初の2バイトは固定の値（０x２b,0x22）がでてくるはずなのですが、それもでてきていません。これも文字化けで見えていないだけでしょうか？ 文字化けしても周期的に固定の値に対応した文字がでてくるものだと思ったのですが、でてきていません。 （ソースで５０バイトまでみているのはこの周期性を確認するためです） シリアル通信を初めてさわるので、考え方自体間違っているかもしれませんが 配列pszBufに１つずつ、受信された１バイトのデータが格納されていると思っています。 個人的にはprintfでの表記（％ｃがいけない？）に間違いがあるかと疑っています。 ご回答よろしくお願いいたします。 (環境) Visual C++ 2008 (C/C++) (シリアルポート設定) ボーレート　9600bps パリティ　　　なし ストップビット　１ データビット　８ (ソース)　※ポートの設定は省略。受信部のみ記述 HANDLE hComm; DWORD dwErrors; COMSTAT ComStat; char pszBuf[1024]; DWORD dwRead; ClearCommError(hComm, &dwErrors, &ComStat); ReadFile(hComm, pszBuf, 50, &dwRead, NULL);　　//５０バイトまでデータを取得 for(int i=0;i<50;i++){ printf("%c\n",pszBuf[i]); } (参考URL) http://www.geocities.jp/terukat/_geo_contents_/win/comm.html
お世話になります。 SQLite3で、テーブル中のレコードをランダムに 並び替えた後、その順番で1から番号を入れて いきたいのですが、それを少手順でできるＳＱＬ等は ありますでしょうか。 例えば、 1,りんご,0 2,いちご,0 3,いちじく,0 4,トマト,0 5,ほうれんそう,0 等とあった場合、一番最後の場所に、 3,いちじく,1 5,ほうれんそう,2 2,いちご,3 1,りんご,4 4,トマト,5 …と、1から順に番号を振りたいのです。 勿論、一つ一つ順を追っていけば、できない事ではありませんが、 頻繁に繰り返して行いたいのでできれば軽く、早くしたいのですが…。 良い方法がありましたらお教えください。 よろしくお願いいたします。
1つの画像から、回転などを用いて自動的に大量の画像を作成する方法はありますか？ 只今、機械学習について学んでいて、正解画像や非正解画像が3000～7000あるのが理想的だと聞きました。 画像を傾けたり回転させるなどして、自力で1000枚ほど用意したのですが、何か他に簡単な方法がありましたら教えて下さい。
いつのご指導いただき、ありがとうございます。 メールソフトの関係での、 サブミッションポート（587番ポート） とは、 SMTP-AUTH　のなかで、 AUTH-PLANE を認めないものである。 と考えて良いのでしょうか？
いつもお世話になっています。 SMTP AUTH で、ポート　587　への接続ですが、 AUTH PLAIN 　で接続できるサーバーと、接続できないサーバーがあるようです。 以前は、 AUTH PLAIN 　での接続ができるものも多かったような気がしていますが、 今は、AUTH PLAIN での接続ができないものがほとんどなのでしょうか？ よろしくお願いします。 ネットで調べていたら、次のような記述を見つけました。 参考： 「AUTH PLAIN LOGIN DIGEST-MD5 CRAM-MD5」と表示されるかを確認しましょう。（smtpd_sasl_security_optionsでPLAINでの認証をしないように設定した場合は「250-AUTH DIGEST-MD5 CRAM-MD5」と表示されます。）
プログラミングの独習を始めます。まずC言語です。あす、テキストが届くのですが、C言語学習の難しい部分はどういうところでしょうか。海外生活が長いので英語は大丈夫だと思っていますが。
超初心者です。 Visual C++2010 ExpressでOpenCVを使おうとしています。 このページを参考にしています。 http://gihyo.jp/dev/feature/01/opencv/0002?page=2 プログラムは以下の通り。 #include <C:\Program Files (x86)\opencv\build\include\opencv\cv.h> #include <C:\Program Files (x86)\opencv\build\include\opencv\highgui.h> int main(int argc, char* argv[]) { IplImage* img; // 画像ファイルポインタの宣言 char imgfile[] = "lena.jpg"; // 読み込み画像ファイル名 // 画像の読み込み img = cvLoadImage(imgfile, CV_LOAD_IMAGE_COLOR); // 画像の表示 cvNamedWindow ("lena", CV_WINDOW_AUTOSIZE); cvShowImage ("lena", img); cvWaitKey (0); cvDestroyWindow("lena"); // 画像の解放 cvReleaseImage(&img); return 0; } コンパイルすると、以下のエラーメッセージが出ます。 1>------ ビルド開始: プロジェクト: try, 構成: Debug Win32 ------ 1> try.cpp 1>c:\program files (x86)\opencv\build\include\opencv\cv.h(63): fatal error C1083: include ファイルを開けません。'opencv2/core/core_c.h': No such file or directory ========== ビルド: 0 正常終了、1 失敗、0 更新不要、0 スキップ ========== どのようにすれば通るのでしょうか？ 教えてください。よろしくお願いします。
C++のstd::vectorが格納する要素として配列を指定することはできますか vectorを使って2次元配列を表現したいときは，たとえば std::vecor<std::vector<int>> v; とすれば2次元配列が表現できますよね． 2次元配列の列方向の要素数が2で固定されていて，行方向の要素数が不確定のデータを扱いたいので，2次元配列を格納するvectorで扱えればなと思いました． （2個で1組のデータがたくさんあるということなので，vectorの2次元配列ではありません） std::vector<int[2]> v; int a[2]; a[1] = 1; a[0] = 2; v.push_back(a); という書き方ではコンパイルできなかったのですが，ｖｅｃｔｏｒに配列要素を格納させることはできないのでしょうか． あるいは，もし可能ならどのように書けばよいのでしょうか． 結局は1組のデータセットを構造体化してそれをvectorにプッシュするやり方に落ち着いたのですが，疑問に思ったままモヤモヤしているので質問させて頂きます． 「vector 配列」などのキーワードで検索してみましたが，vectorの動的配列としての紹介記事が多くヒットしてしまい，自分ではうまく情報を発見することはできませんでした． よろしくお願いします．
https://www.youtube.com/watch?v=MJ9qrhJFdHE をもとに　bcc32をインストールしました。 　 　コマンド　プロンプトから Microsoft Windows [Version 6.1.7601] Copyright (c) 2009 Microsoft Corporation. All rights reserved. C:\Users\Administrator>bcc32 Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland Syntax is: BCC32 [ options ] file[s] * = default; -x- = turn switch x off -3 * 80386 Instructions -4 80486 Instructions -5 Pentium Instructions -6 Pentium Pro Instructions -Ax Disable extensions -B Compile via assembly -C Allow nested comments -Dxxx Define macro -Exxx Alternate Assembler name -Hxxx Use pre-compiled headers -Ixxx Include files directory -K Default char is unsigned -Lxxx Libraries directory -M Generate link map -N Check stack overflow -Ox Optimizations -P Force C++ compile -R Produce browser info -RT * Generate RTTI -S Produce assembly output -Txxx Set assembler option -Uxxx Undefine macro -Vx Virtual table control -X Suppress autodep. output -aN Align on N bytes -b * Treat enums as integers -c Compile only -d Merge duplicate strings -exxx Executable file name -fxx Floating point options -gN Stop after N warnings -iN Max. identifier length -jN Stop after N errors -k * Standard stack frame -lx Set linker option -nxxx Output file directory -oxxx Object file name -p Pascal calls -tWxxx Create Windows app -u * Underscores on externs -v Source level debugging -wxxx Warning control -xxxx Exception handling -y Produce line number info -zxxx Set segment names 　 　 　以上でbcc32のセットアップの成功の有無が分かると思いますが、私はよくわかりません！？ 次に C:\Users\Administrator>bcc32 　として それでファイル名がexample9.cの以下のプログラムを 　試しに、 #include <stdio.h> int main(int argc, char *argv[]) { FILE *fp; fp = fopen(argv[1], "r"); if ( fp == NULL ){ printf("fopen dekinai\n"); return -1; } fclose(fp); return 0; } 　以上のプログラムのexample9.cのファイルを 　　　コマンドプロンプトにドラックアンド ドロップ したところ、 C:\Users\Administrator>bcc32 C:\Users\Administrator\Desktop\C言語\SOURCE\Chap12\1201\example9.c 　となり、Enterキーを押して、 　以下の結果が出ました。 Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland C:\Users\Administrator\Desktop\C言語\SOURCE\Chap12\1201\example9.c: 警告 W8057 C:\Users\Administrator\Desktop\C言語\SOURCE\Chap12\1201\example9.c 12 : パラメータ 'argc' は一度も使用されない(関数 main ) Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland C:\Users\Administrator> 　　以上example9.cの実行結果は、　参考書には　fopen dekinai　と出ています。 　　しかし　 　パラメータ 'argc' は一度も使用されない(関数 main )・・・ 　　と出ています。 　 　　※なぜ　fopen dekinai　と出ないのでしょうか！？ 　 　よろしくお願いします。
visual studio 2012まではビルドできていたプログラムを2013にアップグレードしたところ、 「error LNK2001: 外部シンボル "__report_rangecheckfailure" は未解決です。」 というエラーが出てしまってビルドできなくなりました。 原因はなんでしょうか？
こんにちは Windows７＋Cygwinで次のコードの挙動がおかしいです。バグでしょうか void main() { double a = 33.33; int b; a *= 10; a *= 10; b = (int)a; printf("%d\n", b); } 結果：3333と表示するはずが3332になる 詳しい方いましたらよろしくお願いします。
https://www.youtube.com/watch?v=MJ9qrhJFdHE 　以上にコマンドプロンプトを使いコンパイルしています。 C言語のWindows7と8.1用のコンパイル対応か定かではないのですが！？ 　 　どこで購入できますか！ 　よろしくお願いします。
You Tube C言語プログラミング講座第二回 - 計算と変数 - https://www.youtube.com/watch?v=MJ9qrhJFdHE で最後に以下のプログラムが出てきます。 #include <stdio.h> int main(){ int x = 5; int y = 8; printf("%d * %d = %d\n" , x,y, x * y); int X = 3 ; int y = 11; printf("%d * %d = %d\n" , x,y, x * y); return 0; } http://codepad.org/ 　でコンパイルすると In function 'main': In function 'main': Line 8: error: redefinition of 'y' Line 5: error: previous definition of 'y' was here　以上エラーが出ます。 以上のエラー直訳後は以下です。 関数内の「メイン」： 8行目：エラー： 'Y'の再定義 5行目：エラー：'Y'の前の定義ここにいた 　以上ですが！　 転記ミスでしょうか？ 　よろしくお願いします。
C言語やC++言語でstaticなグローバル関数を作成することがあります。 これをテストコードから呼び出せるようにするにはどうしたらいいでしょうか。 元のソースには、できるだけ変更を加えたくありません 今はテスト対象のソースファイルを、 テストが書かれているソースファイルでincludeすることで呼び出せるようにしていますが 他にいい方法はないでしょうか
/*ネットの*/ w = (double **)malloc(sizeof(double*) * h); w[0] = (double *)malloc(sizeof(double) * v * h); for(i=0; i<h; i++) w[i] = w[0] + i *v; /*自分の*/ w = (double **)calloc(h, sizeof(double *)); for(i = 0; i < h; i++){ w[i] = (double *)calloc(v, sizeof(double)); 自分は初心者です。自分は下のようなコードで書いていたのですが ネットで見つけたコードで上のようにデータの領域を全部確保してから ２番目以降のポインタを割り当てるようなやり方をしていました。 そのやり方は初めて見たのですが、こっちのほうが一般的なやり方なんでしょうか？ それと何かメリットはあるんでしょうか？ 一度に確保した方が確実に連続領域に割り当てられるとかかなぁとか予想してるんですが・・・
w = (float **)calloc(num_unit + 1,sizeof(float *)); for(i = 0; i < num_unit + 1; i++){ 　　　*(w+i) = (float *)calloc(num_unit + 1,sizeof(float)); } とメモリを取得して w[4][7]のような感じで使っているのですが、 開放するところで for(i = num_unit + 1; i > 0; i--){ free(*(w+i)); } free(w); としたらエラーが出ました。 free(w);だけにしたら一応動いたんですが、 これだけで開放できているのかメモリリークしているのか不安です。 これだと後から確保した*(w+i) = (float *)calloc(num_unit + 1,sizeof(float));の部分は 残ってしまうと思ってたんですが、どうなんでしょうか？
初めて質問させて頂きます。C言語初心者です。 実は講義で「ファイル中の英文を単語に分けてその出現頻度をカウントするコードを木構造を用いて出力せよ」という課題が出ました。 そこで、参考にするコードを検索しましたところ、以下のURLにあるベストアンサーのコードが近いと感じました。 http://oshiete.goo.ne.jp/qa/4155655.html コードの内容は以下の通りになります。 #include <stdio.h> #include <stdlib.h> #include <string.h> #include <ctype.h> typedef struct node Node; struct node{ char *word; int count; Node *left,*right; }; Node *root=NULL; void compose(FILE *fp); void inorder(Node *p); void strlower(char *s); int main(int argc, char *argv[]) { FILE *fp; Node *new; fp=fopen(argv[1],"r"); if(fp==NULL){puts("ファイルを開けません");return(-1);} compose(fp); inorder(root); return (0); } void strlower(char *s){ while(*s!=NULL){*s=tolower(*s);s++;} } void compose(FILE*fp){ Node **p,*new; char buf[256]; while(1){ fscanf(fp,"%[^a-zA-Z0-9]",buf); if(fscanf(fp,"%[a-zA-Z0-9]",buf)==EOF)break; strlower(buf); if(root==NULL){ new=(Node *)malloc(sizeof(Node)); new->left=NULL; new->right=NULL; new->word=strdup(buf); new->count=1; root=new; }else{ *p=root; while(1){ if(strcmp(buf,(*p)->word)==0){ (*p)->count++;break; }else if(strcmp(buf,(*p)->word)<0){ if((*p)->left==NULL){ new=(Node *)malloc(sizeof(Node)); new->left=NULL;new->right=NULL;new->word=strdup(buf);new->count=1; (*p)->left=new; break; }else{ *p=(*p)->left; } }else{ if((*p)->right==NULL){ new=(Node *)malloc(sizeof(Node)); new->left=NULL; new->right=NULL; new->word=strdup(buf); new->count=1; (*p)->right=new; break; }else{ *p=(*p)->right; } } } } } } void inorder(Node*p){ if (p==NULL) return; inorder(p->left); printf("%s %d\n",p->word, p->count); inorder(p->right); } しかし、これをそのままコンパイル・実行すると、コンパイル時に以下の注意が出ます。 warning comparison between pointer and integer ('int' and 'char *') while(*s!=NULL){*s=tolower(*s);s++;} 上記の注意を無視してそのまま実行すると、segmatation faultが出てしまいますorz おそらく、sの型が*s＝s[]なので、注意の中の「s++」の部分で誤作動を起こしている（s++を実行するにはsはint型でなければならない）と思うのですが、どうコード文を変えれば良いのかがよくわかりません。 どなたかお教え頂けると幸いです。どうぞよろしくお願いしますm(_ _)m
"(int の要素数３の配列) へのポインタ" を意味するキャストはどのような書き方になりますか？ (int*[3]) かと思ったのですが、コンパイルエラーになります。 参考までに、ソースをのせておきます。 pai や ai のようなよくわからない変数名は、 型が複雑なためそこだけハンガリアン記法っぽく書いています。 #include<stdio.h> // func は int の要素数３の配列 {0, 1, 2} の中の n 番目の要素を返す int func(int (*pai)[3], int n){// pai means 'p'ointer to 'a'rray of 'i'nt. return (*pai)[n]; } int main(){ int ai[] = {0, 1, 2}; // ai means array of int. int i = func(&ai, 1); // 同じことを、先頭要素のポインタを経由してやりたい int *pi = &ai[0]; // pi means pointer to int. int j = func((int*[3])pi, 1); // "(int の要素数３の配列) へのポインタ" を // 意味するキャストがしたい // (int*[3]) ではエラーになる printf("Of course %d = %d.\n", i, j); return 0; }
現在、私はOS:LINUX(Debian)上で、開発環境QT5を使ってアプリケーションを作成しています そこでひとつ難題が発生したので質問させていただきました 現在QTでCSVファイルを作成するようなプログラムを作成しています QT上、もしくは直接デバッグフォルダかリリースフォルダからアプリ実行すると正常に CSVが作成されるんですが、 今回電源をつけてから自動的にアプリが実行できるよう LINUXの設定にある自動起動するアプリケーションにとうろくしました。 パソコンを立ち上げてみて自動起動することは確認できましたが、CSV作成で失敗してしまう 事象が発生しました. アプリを実行すると正常に作成されるんですが　なぜか自動起動されると作成に失敗されます よろしくお願いします
こんにちは。 Ｃ言語の「ポインタのポインタ」の学習中なのですが、以下のプラグラムがエラーが出てしまします。 if文が間違っていると思うのですが、具体的に何がどう間違っているのがわかりません。 ご教示お願いいたします！ #include<stdio.h> int main(void) { int date = 300; int *pdate = NULL; int **ppdate = NULL; printf("dateの値は%d＜\n", date); pdate = &date; printf("*pdateの値は%d＜\n", *pdate); if(**ppdate = NULL){ printf("**ppdateには何も与えられていません。\n"); } else{ return 0; } ppdate = &pdate; if(**ppdate == 300){ printf("**ppdateの値は%dになりました。正常です。\n", **ppdate); } /*強制終了を避けるためのプログラム*/ int i; scanf("%d", &i); return 0; }
srand((unsigned) time(NULL)); for(～～～){ 　　　～～～rand()～～ } と使って順番に１か０を出していくプログラムを書いてるんですが いつも最初の部分が１になっていてデバッグして調べてみたら 同じではないのですが毎回似たような数字を出していました。 26392 26535 26682 26784 このようなかんじです。 （４回デバッガを使って１番最初に呼び出されたrand()の返した値を調べました） rand()とはそういうものなのでしょうか？ それとも何か原因があるんでしょうか。 ２回目以降は一見大丈夫そうなのでただ rand(); と呼び出す無駄な行を書いてやりすごしたのですが、 もしこれが普通の現象であったら一般的な対策方法が知りたいです。
/* テスト用データは半角英数字で書き、半角スペースで区切ってメモ帳で書きました 　 Elfe 1 1 100 10 10 10 10 10 5 3 0 1 goblin 1 1 100 10 10 10 10 10 5 3 0 1 Slime 1 1 100 10 10 10 10 10 5 3 0 1 Orc 1 1 100 10 10 10 10 10 5 3 0 1 実行して表示させてみたところ大きな数字に化けます。 Elfe 7665736 7665740 7665744 7665748 7665752 7665756 7665760 7665764 7665768 766 5772 7665776 7665780 15012128 7665912 7665916 7665920 7665924 7665928 7665932 7665936 7665940 7665944 766594 8 7665952 7665956 15012128 なにがいけないのでしょうか？ よろしくお願いします。 */ #include <stdio.h> #include <stdlib.h> #define MAX 10 typedef struct{// 構造体の宣言 char name[128];//プレイヤーキャラの名前 1 int loading;//ダンジョン階 2 int lv;//レベル 3 int exp;//経験値 4 int hp;//ヒットポイント 5 int mp;//マジックポイント 6 int atk;//攻撃力 7 int def;//防御力 8 int agi;//敏捷力 9 int heal;//回復量 10 int dmg;//ダメージ 11 int y;//Y座標 12 int x;//X座標 13 }player; int main(void) { int i, cnt; FILE *fp; player pc[MAX]; // 構造体配列の宣言 if( (fp = fopen( "player.txt", "r" )) == NULL ) { printf( "ファイルがオープンできません\n" ); exit( 1 ); } for( i = 0; i < MAX; ++i ) { if( fscanf( fp, "%s %d %d %d %d %d %d %d %d %d %d %d %d %d\n" // 構造体配列への読み込み ,pc[i].name, &pc[i].loading, &pc[i].lv, &pc[i].exp, &pc[i].hp, &pc[i].mp, &pc[i].atk, &pc[i].def, &pc[i].agi, &pc[i].heal, &pc[i].dmg, &pc[i].y, &pc[i].x ) != 4) break; } fclose( fp ); cnt = 0; // これでテスト printf( "%s %d %d %d %d %d %d %d %d %d %d %d %d %d\n" ,pc[cnt].name, &pc[cnt].loading, &pc[cnt].lv, &pc[cnt].exp, &pc[cnt].hp, &pc[cnt].mp, &pc[cnt].atk, &pc[cnt].def, &pc[cnt].agi, &pc[cnt].heal, &pc[cnt].dmg, &pc[cnt].y, &pc[cnt].x); cnt = 1; printf( "%s %d %d %d %d %d %d %d %d %d %d %d %d %d\n" ,pc[cnt].name, &pc[cnt].loading, &pc[cnt].lv, &pc[cnt].exp, &pc[cnt].hp, &pc[cnt].mp, &pc[cnt].atk, &pc[cnt].def, &pc[cnt].agi, &pc[cnt].heal, &pc[cnt].dmg, &pc[cnt].y, &pc[cnt].x); return 0; }
2次元配列を関数に渡すときは、引数に渡す2次元配列と同じサイズを指定、もしくは2次元目のサイズのみ合わせて渡す方法がありますが、両方とも違うサイズで同じ関数を使いたいです。 最初は中身が同じで引数で受け取る2次元配列のサイズだけ、それぞれに合わせた引数を持つ関数を2つ作っていたのですが、なんだか冗長な気がしました。 そこで、2次元配列の先頭ポインタとサイズを受け取るようにすればいいのかと思い、テストとして次のプログラムを作成してみました。 #include <stdio.h> void func(unsigned char *a, int y, int x); int main(void) { unsigned char a[10][10]; func(a, 10, 10); printf("%d\n", a[7][4]); return 0; } void func(unsigned char *a, int y, int x) { int i, j; for (i = 0; i < y; i++) { for (j = 0; j < x; j++) { *(a + i*y + j) = i * j; } } } もちろんこれでも動くのですが、やはりこういう書き方はルールにはないので、コンパイルで警告が出ます。 a.c: In function ‘main’: a.c:10: warning: passing argument 1 of ‘func’ from incompatible pointer type a.c:4: note: expected ‘unsigned char *’ but argument is of type ‘unsigned char (*)[10]’ このような書き方はやはりやめたいいのでしょうか。 また、その際はサイズ別に関数を作るしかないのでしょうか。 他にいい方法があれば教えていただけると助かります。
ダイアログボックスの「edit」部分にセットしようと思ったのですが SetDlgItemIntが整数しか使えないので変換したいです。 TCHAR buf[20]; wsprintf(buf, "%.1f", temperature); と書きましたがconst char * の引数LPCWSTRのパラメータと互換性がありませんと出てしまいます。
c++からブラウザ操作を行うプログラムを作成しています。 その際、.NET版　と　ActiveX版を作りましょうという話になったのですが、 .NET　と　ActiveX　の関係がわからず、教えて頂きたいです。 ActiveXは、 ネット関連のコンポーネントや技術と捉えています。 例えば、 WebBrowser コントロール (SHDocVw.dll)も ActiveXに属するという認識です。 対して、.NETは、 端的に言えばマイクロソフトが開発したアプリケーション開発、実行環境とのことですが、 WebBrowser コントロール (SHDocVw.dll)と同じことをしようと思ったら、 System.Windows.Forms.WebBrowser を使ったり、 SHDocVw.dll　をimport することになるとおもいます （後者は工夫が必要そうですが） なので、 .NET　は、ActiveXを包含しているという風に認識していたのです。 ActiveX コントロールは、.NETのControlクラスを継承しているはずがないので、 Windowsのポインタ（EnvDTE::Windows）ではなく IEオブジェクト用のポインタ（ IShellWindowsPtr、 IWebBrowser2Ptr）を使う必要があるものの、 この認識だと、 「.NET版　を作成したら　ActiveX版を作っているのと同じ」となので 冒頭の「.NET版　と　ActiveX版を作りましょう」と矛盾し、 .NET が ActiveX を包含しているというわけではない？？ .NET と ActiveX の関係ってどういう関係？？ となり、正しい認識を教えて頂きたいのです。 .
ある配列にa×bの数字が格納されているとして、それをグラフィカルに表示させるにはどのようなプログラムを書けばいいのでしょうか。 数字データから、サーモカメラの出力画像のようなものを出せないかと思い、画像処理関連の書籍をあさりましたが分かりませんでした。 宜しくお願い致します。 （C言語でお願い致します）
お世話になります VS2010 C++/CLIで開発しております treeviewの+-表示部での展開閉時に発生するイベントを教えていただけないでしょうか。 以下のイベントを確認したのですが、テキスト部を選択時にはイベントが発生するのですが、 +-の±部のみで開閉を行うとイベントが受け取れませんでした。 AfterCheck AfterCollapse AfterExpand BeforeCheck BeforeCollapse BeforeExpand BeforeSelect Click ContextMenuChanged ContextMenuStripChanged NodeMouseClick TreeNodeCollapsed TreeNodeExpanded
WindowsのIMEに備わっている、手書き入力を自作アプリの中に機能として持たせたいのですが、.netなどの技術で可能でしょうか？ 開発環境はVS2010でc#かc++です。
OpenCVを使っています。 輪郭抽出のプログラムでうまくいかないところがあり困っています。 もし原因や修正方法をおわかりの方がいらしたらぜひアドバイスいただけると助かります。 11×11ピクセルの画像(CV_8UC3)に、一本　上から下に伸びた輪郭線があります。 この輪郭線を境に白黒に塗りつぶしています。 左上から右へ走査し 「もしピクセルが白なら黒にする」 として 処理された画像は輪郭線で白黒に塗り分けることはできました。 このとき、輪郭線の「頂点」を保存したいのですが、うまくいきません。 頂点を表示させると以下のようになってしまいます。 0,0 0,1 0,2 0,3 : 0,10 どこを直すとうまくいくでしょうか。 ========= while (k < 11){ //　k = y軸 tate[k] = k; // y方向 cb = lap_img->imageData[lap_img->widthStep * k + j * 3]; while(j < 11 && cb == -1){ // j = x軸 lap_img->imageData[lap_img->widthStep * k + j * 3] = 0; lap_img->imageData[lap_img->widthStep * k + j * 3 + 1] = 0; lap_img->imageData[lap_img->widthStep * k + j * 3 + 2] = 0; lap_img->imageData[lap_img->widthStep * k + j * 3 + 3] = 0; lap_img->imageData[lap_img->widthStep * k + j * 3 + 4] = 0; yoko[k] = j; // x方向 if (top == j || top < j){ top =j; } j = j + 1; cb = lap_img->imageData[lap_img->widthStep * k + j * 3]; printf("%d, %d\n", tate[k],top); j = 0; k = k + 1; } }
大学卒業間近の大学４年生です。 現在、卒業研究の一環でシリアル通信でGPSの構文をテキストファイルに書き込むプログラムを作成しています。 生データをテキストファイルに書き込むまではできたのですが… なにぶん中途半端にプログラムの勉強をしていたのでそこから大事な部分を抜き出す作業がわからなくて困っています。(サイトにあるサンプルプログラムを参考にしてもエラーばかりが出てしまいます。) 北緯と東経の数値のみを抜き出して書き込むプログラムを作成したいのですがどの部分にどういう文を打ち込めばいいのでしょうか？ お分かりの方、どうか教えて貰えませんでしょうか？ ちなみに環境はC++で使っているソフトはMicrosoft Visual Studioです。 現在出来ているプログラムは以下のとおりです。 #include <stdio.h> #include <stdlib.h> #include <Windows.h> int main(void) { printf("program start\n"); /// 変数宣言 int i=0; /// シリアル通信データ用変数宣言 char sBuf[100];//char sBuf[1];//char str[100]; char strT[50] = {0}; char strN[20] = {0}; char strE[20] = {0}; unsigned char flag_data = 0; /// シリアル通信設定用変数宣言 HANDLE hComm; int baudRate = 9600;/// ボーレート9600bps unsigned long nn; DCB dcb; COMMTIMEOUTS cto; ///データ保存用変数宣言 FILE *ofile; errno_t err; /// /// シリアルポートの初期化、オープン /// printf("Open Serial Port\n"); BOOL InitComPort(); hComm = CreateFile( "\\\\.\\COM3", GENERIC_READ | GENERIC_WRITE, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL ); /// ポートオープンエラー処理 if ( hComm == INVALID_HANDLE_VALUE ) { printf("Serial Port Open Error!\n"); exit(1); } else {} /// /// シリアルポートの設定 /// printf("Setup Serial Port\n"); GetCommState( hComm, &dcb ); // シリアルポートの状態を取得 dcb.BaudRate = baudRate; SetCommState( hComm, &dcb ); // シリアルポートの状態を設定 GetCommTimeouts( hComm, &cto ); // タイムアウトの設定状態を取得 cto.ReadIntervalTimeout = 1000; cto.ReadTotalTimeoutMultiplier = 0; cto.ReadTotalTimeoutConstant = 1000; cto.WriteTotalTimeoutMultiplier = 0; cto.WriteTotalTimeoutConstant = 0; SetCommTimeouts( hComm, &cto ); // タイムアウトの状態を設定 /// /// シリアルポート通信 /// while(1) { /// /// データ受信 /// /* /// シリアルポートから一文字受信して表示 ReadFile( hComm, sBuf, 1, &nn, 0 ); if(nn != 0) { printf("%c",sBuf[0]); } */ /// シリアルポートから一行受信して表示 memset(sBuf, NULL, sizeof(sBuf));/// sBufの初期化 ReadFile( hComm, sBuf, sizeof(sBuf), &nn, 0);/// sBufで一行分データを受信 printf("%s", sBuf);/// 受信したデータを表示 for(i=0; i<sizeof(sBuf); i++) { if(sBuf[i] != NULL) { printf("%c", sBuf[i]); } else{} } /// /// 生データの保存 /// 　　　　　err = fopen_s(&ofile,"puredata.txt","a");///"a":追加書き込み専用 if(err != 0) 　{ printf("ERROR! puredata was not opened\n"); exit(1); 　} 　　　else 　{ while(1) { 　ReadFile( hComm, sBuf, 1, &nn, 0 ); // シリアルポートに対する読み込み 　printf("%c",sBuf[0]); 　if(sBuf[0] != EOF) { 　fprintf(ofile,"%c",sBuf[0]);//fprintf(stdout,"%s",str); } 　else { printf("\n"); break; } /// /// データ処理 /// /// /// 処理データの保存 /// } printf("program end\n"); return(0); } 出力結果 （例 ※場所特定防止のためGPSがうまく受信されていないパターンを載せています） program start program end $GPRMC,120004.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*7B $GPRMC,120005.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*7A $GPRMC,120006.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*79 $GPRMC,120007.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*78 書き込まれたテキストファイル $GPRMC,120004.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*7B $GPRMC,120005.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*7A $GPRMC,120006.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*79 $GPRMC,120007.000,V,0000.0000,N,00000.0000,E,000.0,000.0,280606,,,N*78 出力してほしい数値は構文の最初のV,後の0000.0000と、そのあとのN,後の00000.0000です。 なるべく生データも別に保存しておきたいので下にある「データ処理」「処理データの保存」の中で処理したいのですが…… 何卒、よろしくお願いします。
クライアント領域内を跳ね返りながらひたすら動き回るプログラムを作りました。 うまく動いていると思っていたのですが、１，２分放置しておくと描画がうまく できていない状態になることに気づきました。 下の図はそれぞれの状態のときのスクリーンショットをペイントで編集してまとめたものです。 右下が通常の状態です。 青いハッチブラシ、黒いペン、太字のフォントで成り立ってます。 それが放置しておくと左下の状態のようにEllipse()のペンの部分がなくなってしまいます。 このプログラムは練習でEllipseの代わりにFillRgnを使って右下のようにしたものを 後からつくったのですが、そっちのプログラムは動かしてから放置しておいたら 左上のようになって、次に右上のような状態になってしまいました。 右上は動作中円の中を数字が目まぐるしく動いていました。 考えられる原因は何かありますでしょうか？
関数に構造体を渡したいのですが、エラーが出て上手くいきません。 下のプログラムのように組んでいるのですが、どこが問題なのかご教授願いたいです。 もし、下記のプログラムのようなことができないのでしたら、代替案を提示してもらえると助かります。 環境はVC++です。よろしくお願いします。 struct DATA{ int x; char name[32]; }; void info(DATA *status[]); int main(void){ DATA student[3] = { { 1, "佐藤" }, { 2, "高橋" }, { 3, "田中" }, }; info(&student[]); return 0; } void info(DATA *status[]){ for (int i = 0; i < 3; i++){ printf("%d\n%s", status[i]->x, status[i]->name); } }
某参考書にて下記のような問題があって、その解答について分からないことがあります。 <問題> strcat()の独自バージョンとしてmystrcat()という関数を作成するとともに、この関数が正しく動作することを確認するための短いプログラムを作成してください。 <解答> #include <stdio.h> #include <string.h> void mystrcat(char *to, char *from); int main(void) { char str[80]; strcpy(str,"最初の部分"); mystrcat(str, " 2番目の部分"); printf(str); return 0; } void mystrcat(char *to, char *from) { /* toの最後を探す */ while(*to) to++; /* 文字列を連結する */ while(*from) *to++ = *from++; /* ヌル終端文字を付加する */ *to = '\0'; } 解答の*to++ = *from++;までは、なんとか何をしているのかは分かったのですが、最後の*to = '\0'という部分がよく分かりません。 なぜ、ヌル終端文字を付加する必要があるのでしょうか？ 初歩的なことかもしれませんが、分からず困っているのでよろしくお願いします。
Gメールのサーバーに、IMAP　接続することを考えています。 IMAP　のRFC　は　3501 と そのエラーの修正　 Status: Verified (2) RFC3501, "INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1", March 2003 Source of RFC: IETF - NON WORKING GROUP Area Assignment: app Errata ID: 261 Status: Verified Type: Technical Reported By: Mark Crispin Date Reported: 2007-06-13 を読めば良いのでしょうか？ 他にも読んでおくべきものはありますか？ よろしくお願いします。
ボールが右下に動いていくだけのプログラムです。 はじめはInvalidateRect(hWnd,NULL,.TRUE)を使っていたのですが画面がちらつくので InvalidateRgnを使ってみました。そこで円の部分をリージョンで指定して背面消去したら 図１のようになってしまったので、 ペンの太さを考慮してなかったのが問題だと思って円の周辺に余裕を持ってリージョンを 設定して以下のようなプログラムになったのですが(スレッドの中身です) 図２のように進行方向の部分が欠けてしまいます。 その後余白の3の部分を7以上にしたら元の円のまま動きました。 ペンの太さは3なので十分だと思ったのですが6以下でなぜ欠けてしまうんでしょうか？ while(1){ hRgn = CreateEllipticRgn(x - hankei - 3, y - hankei - 3, x + hankei + 3, y + hankei + 3); x = x + 4; y = y + 2; InvalidateRgn(hWnd,hRgn,TRUE); Sleep(100); }
visualstudio(以下vs)をインストールした開発用pcでのストアアプリのテストに関して。 win7 + vs2012にてwindowsformアプリを作成する際、コンパイルをしますとDebugフォルダ内にexeファイルが作られ、vs2012を起動しなくても開発中のアプリを直接起動できると思います。 しかしストアアプリの場合、exeから直接起動は出来ないとのことです。 一方で、win8.1 + vs2013でwindowsストアアプリを作る際、コンパイルすると開発用pcにインストールされ、タイルが作られるという書き込みをみました。 これは、vs2013を起動していなくても開発pc上でテストができるということであっていますでしょうか？ よろしくお願いします。
構造体をmallocにより動的確保を行っていたのですが、例えば typedef struct _point{ int x, y; } point; point *pelem_point; pelem_point = (point *)malloc(sizeof(point)*5); このように、point型の構造体を5つ確保するとします。 しかし、 (pelem_point+100)->x = 1; (pelem_point+100)->y = 2; printf("%d\n", (pelem_point+100)->x); printf("%d\n", (pelem_point+100)->y); とやったら、確保していない100個先のところも構造体として利用できました。 なぜなのでしょうか。 自分の考えではこのようになりました。 mallocによりヒープ領域から適当な空いているメモリのアドレスが渡されるため、そこからはヒープ領域より先に、限りがあるまで進めてしまうために確保外のサイズにアクセスしても使えてしまっている。 また、mallocにより確保した場合は使用中のラベルがはられるため他に侵されることはないが、先の例のようにmallocによって確保してない場合はいくら使用できたとしても、空いているとコンピュータでは認識されるため、何かヒープ領域を使う場合に勝手に上書きされてしまう可能性がある。 しかし、この考えでも、なぜ確保外の領域が構造体のサイズ分ずつ区切られているのか納得いきません。 わかる方いましたらよろしくお願いします。
こんにちは。現在、英文、もしくは英単語、英字を国際符号（モールス信号）に訳すプログラムを書いているのですが、もしユーザーが二つの英単語を入力し、その単語がスペースで離れている場合（例として、SOS SOSもしくはsos sos）、翻訳された単語のモールス信号の間にスペースを三つ、文字の間に一つづつスペースを入れたいのですが（sos sosであれば、... --- ...　　　... --- ...)コツがつかめなくて困っています（文字の間に一つスペースを入れる事に成功はしたのですが...） C++言語で経験者の方、いらっしゃいましたら是非アドバイスを御願い致します。 これが自分が今まで書き上げたコードなのですが、 #include <iostream> #include <string> #include <cctype> using namespace std; string engtomol (string, string[]); int main () { char alpha[26] = {'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'}; string morse[81] = {".-", "-...", "-.-.", "-..", ".", "..-.", "--.", "....", "..", ".---", "-.-", ".-..", "--", "-.", "---", ".--.", "--.-", ".-.", "...", "-", "..-", "...-", ".--", "-..-", "-.--", "--.."}; string text, morsecode; char choice; char repeat='y'; cout << "Select 1 to decode Morse code to English text. Select 2 to decode English text to Morse code" << endl; cin >> choice; if (choice=='1') { cout << "NOTE. DO NOT INPUT A NON ENGLISH CHARACTER. THIS TRANSLATOR EXCLUSIVELY ONLY TRANSLATES ENGLISH ALPHABETS (CAPITALIZED AND NON CAPITALIZED) ONLY.\n"; cout << "Enter a text to translate, each word seperated by spaces if you want to translate more than one word:"; cin.get(); getline(cin,text); cout << "TEXT: " << text << endl; cout << "MORSE CODE: " << engtomol(text, morse) << endl; } else if (choice=='2') { cout << "lol"; } return 0; } string engtomol (string text, string morse[]) { int textlength = text.length(); string morsevalue; string spacesbtwletters= " "; string spacesbtwwords = " "; for (int k=0; k<textlength; k++) { if (text[k]!= ' ') //if the word(s) did not encounter a space { text[k]=toupper(text[k]); //upper case letters and lower case letters are the same hence have the same appropriate morse code. morsevalue=spacesbtwletters+=morse[text[k]-'A']+" ";//A is the first value of the array. by subtracting its finding the appropriate morse code for each letters } if (text[k]==' ') { morsevalue+spacesbtwwords; } } return morsevalue; } プログラムをコンパイルすると、（また例としてsos sosを入力したとします）。--- ... --- --- ... ---と、単語の間にスペースが一つしか表れません。どの様に変えたら、希望通りの結果が出ますか？ よろしく御願い致します。
お世話になります Visual Studio 2010 C++/CLIで開発していおります。 Treeviewの展開時のマークを＋から△に変えたいのですが、 プロパティのどの項目で変えるのか教えていただけないでしょうか。
VisualC++6.00 を使用しています。 ダイアログのエディットボックスで入力された文字を、 全角英数字のみ半角英数字にしたいのですが、 LCMapString だと、カタカナも半角になってしまいます。 英数字のみ半角にするには、どのようにすればいいでしょうか。 よろしくお願いします。
2 12 4 9 7 8 5 3 6 11 15 1 をクイックソートで1ステップごとに配列の状態を書いたらどうなりますか？ 上の配列の場合３つのグループに分けて考えるんですか？
お世話になります。 C#にてEXCELを操作するアプリケーションの作成をしております。 ご質問したい内容なのですが、C#アプリケーションからEXCELファイルを作成した後、 作成したファイルを開き、特定のセルにコンボボックスを埋め込むことは可能でしょうか。 恐れ入りますがご教示いただければ幸いに存じます。 以上宜しくお願い申し上げます。
c++のクライアントプログラムから、 ブラウザのテキストボックスに対して、 値をセットさせたいです。 自分の持ってるイメージは、 【１】 今、OS上で起動しているプロセスの名を取得する。 【２】 各ブラウザがプロセスとして起動しているときの名称で、 （IE8.0、IE9.0などの名称） その一覧上にヒットするものがあるかを検索 【３】 最初にヒットした該当ブラウザが開いている各タブが、 「データを突っ込みたいページのURLかどうかをチェック」 【４】 値をセット 【５】 submitを実行 と考えていますが、実装に使う関数の見つけ方もわからず困っています。 またwindowsのバージョン等によって、書かなければならないコード変わったりもするのでしょうか？ （ＡＰＩが違ったりということも有り得るのかなぁと。。）
#include <stdio.h> int main() { int kosuu[3]; int goukei; scanf("%d", &kosuu[0]); scanf("%d", &kosuu[1]); scanf("%d", &kosuu[2]); goukei = kosuu[0] + kosuu[1] + kosuu[2]; printf("GOUKEI %d\n", goukei); return 0; } 　以上で20、３０、４０の順に入力します。 　　それで 　結果が 　20 　30 　40 GOUKEI 90 の結果が出ると思います。 　　そこで 結果が 　20 30 40 GOUKEI 90 にすることは可能でしょうか！？ 　以上よろしくお願いします。
次の配列 2 12 4 9 7 8 5 3 6 11 15 1 をクイックソートで並び変えるとどうなりますか？ やり方教えてください
教えてください 次の配列に対して、 単純交換ソート の実行流れについてステップごとに説明したらどうなりますか 2 12 4 9 7 8 5 3 6 11 15 1
このコードをmain関数とキーコントロール関数とに分けたところ、 キーのレスポンスがわるくなりました。 このソースコードをどのように分割すれば一つのファイルで書いたように、 動いてくれるのかわかりません。 よろしくお願いします。 /* 分割前のソースコード */ #include <stdio.h> #include <conio.h> int main(int argc, char *argv[]){ int key=0; while(key!='q'){ //終了キー 'q' key=_getch(); //Keyによって分岐 switch((key == 0x00 || key == 0xe0) ? _getch(): key) { case 0x48:printf("上");break;//上 case 0x50:printf("下");break;//下 case 0x4b:printf("左");break;//左 case 0x4d:printf("右");break;//右 default:break; } } return 0; } /*--ここから下が分割してみたソースコード---*/ /* arrowkey.h */ #ifndef ARROWKEY_H #define ARROWKEY_H int arrowkey(void); #endif //ARROWKEY_H /*---------------------------------*/ /* arrowkey.c */ #include <stdio.h> #include <conio.h> #include "arrowkey.h" int arrowkey(void){ int key=_getwch(); //Keyによって分岐 switch((key == 0x00 || key == 0xe0) ? _getch(): key) { case 0x48:printf("上");break;//上 case 0x50:printf("下");break;//下 case 0x4b:printf("左");break;//左 case 0x4d:printf("右");break;//右 case 0x71:break;//終了 default:break; } return key; } /*---------------------------------*/ /* main.c */ #include "arrowkey.h" int main(int argc, char *argv[]){ int key=0; while(key!='q'){ //終了キー 'q' key=arrowkey() } return 0; }
現在、Visual C++ 2013 Expressを使っているのですが、そちらではエラーが出るのに、MacbookのXcodeで走らせたらエラーも出ずに正常に実行することができます。 いったい何が原因でエラーが起こっているのでしょうか？ エラーメッセージは"XXXXX.exe has triggered a breakpoint."で"malloc.c"のタブがVC++上に開きます。以下がそのコードになるのですが、アドバイス宜しくお願い致します。 #define _USE_MATH_DEFINES #define _CRT_SECURE_NO_WARNINGS #include <stdio.h> #include <math.h> #include <iostream> #include <complex> #include <stdlib.h> using namespace std; typedef complex<double> dcmplx; complex<double> M_i = dcmplx(0, 1); //--------------------------------------------------------------- // Characteristic Function dcmplx* CharFunc(double alpha, double* nu, double s0, double r, double q, double sigma, double t, int N) { dcmplx* out = (dcmplx*)malloc(sizeof(dcmplx) * N); dcmplx* u = (dcmplx*)malloc(sizeof(dcmplx) * N); for (int j = 0; j < N; ++j){ // j = 1,...,N u[j] = nu[j] - (alpha + 1) * M_i; out[j] = exp(M_i*(log(s0) + (r - q - sigma*sigma / 2.0)*t)*u[j] - sigma*sigma * u[j] * u[j] * t / 2.0); } return out; } // Characteristic Function for C dcmplx CharFuncC(double u, double s0, double K, double r, double q, double sigma, double t, int N) { return exp(M_i*((log(s0) - log(K)) + (r - q - sigma*sigma / 2.0)*t)*u - sigma*sigma * u*u * t / 2.0); } //--------------------------------------------------------------- // Main int main(int, char**) { double alpha[] = { -1.2, -1.5, -5.0, -10.0 }; double eta; double s0; double r; double q; double sigma; double t; double K; int pow2; int N; int m_atm = 0; FILE *fp; if (!(fp = fopen("inputa.txt", "r"))){ printf("File \'inputa\' could not be opened!"); exit(-1); } fscanf(fp, "%lg%lg%lg%lg%lg%lg%d", &eta, &s0, &r, &q, &sigma, &t, &pow2); double a; double b; double v; double abs_ab[] = { 2.0, 5.0, 10.0, 20.0 }; double sum =0; for (pow2 = 7; pow2 <= 10; ++pow2){ N = (int)pow(2.0, pow2); double *nu = (double*)malloc(sizeof(double)* N);// nu * (b - a) / M_PI; double *Vp = (double*)malloc(sizeof(double)* N); double *chi = (double*)malloc(sizeof(double)* N); double *phi = (double*)malloc(sizeof(double)* N); dcmplx *Phi = (dcmplx*)malloc(sizeof(double)* N); for (int i = 0; i < 4; ++i){ b = abs_ab[i]; a = -b; cout << "N:" << N << ", (a, b): (" << a << ", " << b << ")" << endl; for (K = 1600; K <= 1900; K += 100){ for (int k = 0; k < N; ++k){ nu[k] = k * M_PI / (b - a); // chi for Put with (c,d) = (a,0) chi[k] = 1.0 / (1.0 + nu[k] * nu[k]) * (cos(nu[k] * (-a)) - exp(a) + nu[k] * sin(nu[k] * (-a))); // phi for Put with (c,d) = (a,0) phi[k] = sin(nu[k] * (-a)) * (1.0 / nu[k]); phi[0] = -a; // COS expasion coeff V for Put Vp[k] = (2.0 / (b - a)) * K * (-chi[k] + phi[k]); // Characteristic Function for C, (just different argument inputs) nu[k] = k * M_PI / (b - a); Phi[k] = CharFuncC(nu[k], s0, K, r, q, sigma, t, N); sum += real(Phi[k] * exp(-M_i*(k*M_PI) * a / (b - a)))*Vp[k]; if (k == 0) sum /= 2.0; } v = exp(-r*t)*sum; cout << "strike=" << K << ", price=" << v << endl; sum = 0.0; } } } system("Pause"); return 0; }
C++言語でプログラムを作成しています あるクラスでインスタンス生成時に動的にメモリを割り当てた後 インスタンスが破棄されるまでそれを使用し インスタンス破棄時に解放するにはどうしたらいいでしょうか デストラクタで解放処理を実装すると 明示的にデストラクタが呼ばれた際に解放されてしまい インスタンスが破棄されるまで使用できませんでした
趣味でプログラムの勉強をしております。 ネットで色々なソースを拝見していると関数の書き方が微妙に異なっているものがあります。 1. int foo(void){ } 2. int foo(void) { } 3. int foo(void) { } 各々のパターンでどのようなメリット・デメリットがあるのかご教示いただければ幸いです。 特に3つ目の関数の型の後に改行をいれる理由がよくわかりません
毎度お世話になっております。 現在、株式会社エムディエヌコーポレーション社が出した『小学生・中学生でもできるiPhoneアプリ開発XcodeでつくるiOSアプリ』を参考にxcodeにて撮影した写真情報を動画にする作業をしています。 この会社が出しているMovieCreatorファイル（http://www.mdn.co.jp/di/book/3214303003/?page=2）をダウンロードし、ビルドをしたのですがこのダウンロードしたファイルにエラーが出てしまいました。 以下エラーです。（計３つ） #import "MovieCreator.h" @implementation MovieCreator /*! 画像の配列から動画を生成する。 @param images 画像の配列 @param path 動画ファイルの出力先 */ - (void)writeImagesAsMovie:(NSArray *)images toPath:(NSString *)path { NSFileManager *fileManager = [NSFileManager defaultManager]; // ファイルを削除する [fileManager removeItemAtPath:path error:nil]; // 最初の画像から動画のサイズ指定する CGSize size = ((UIImage *)images[0]).size; (1)ここでProperty "size" cannot be found in forward class object "UIImage" というエラー _videoWriter = [[AVAssetWriter alloc] initWithURL:[NSURL fileURLWithPath:path] fileType:AVFileTypeQuickTimeMovie error:nil]; NSDictionary *outputSettings = @{ AVVideoCodecKey : AVVideoCodecH264, AVVideoWidthKey : @(size.width), AVVideoHeightKey : @(size.height), }; AVAssetWriterInput *writerInput = [AVAssetWriterInput assetWriterInputWithMediaType:AVMediaTypeVideo outputSettings:outputSettings]; [_videoWriter addInput:writerInput]; AVAssetWriterInputPixelBufferAdaptor *adaptor = [AVAssetWriterInputPixelBufferAdaptor assetWriterInputPixelBufferAdaptorWithAssetWriterInput:writerInput sourcePixelBufferAttributes:nil]; [_videoWriter startWriting]; [_videoWriter startSessionAtSourceTime:kCMTimeZero]; CVPixelBufferRef buffer = NULL; int frameCount = 0; // 次の画像を表示する時間感覚の設定です。 // この数字を小さくすると、早く画像が変わるので滑らかに動きます。 // この数字を大きくすると、かくかくした動画になり、面白いです。 float durationForEachImage = 0.5; int32_t fps = 24; for (UIImage *image in images) { if (adaptor.assetWriterInput.readyForMoreMediaData) { CMTime frameTime = CMTimeMake((int64_t)frameCount * fps * durationForEachImage, fps); buffer = [self pixelBufferFromCGImage:image.CGImage]; (2)ここでProperty "CGImage"cannot be found in forward class object "UIImage"というエラー if (![adaptor appendPixelBuffer:buffer withPresentationTime:frameTime]) { NSLog(@"Failed to append buffer. [image : %@]", image); } if(buffer) { CVBufferRelease(buffer); } frameCount++; [NSThread sleepForTimeInterval:0.05]; } else { [NSThread sleepForTimeInterval:0.1]; } } // 動画生成終了 [writerInput markAsFinished]; [_videoWriter finishWritingWithCompletionHandler:^ { NSLog(@"Finish writing!"); // 動画をカメラロールに保存する UISaveVideoAtPathToSavedPhotosAlbum(path, self, nil, nil); (3)ここでImplicit declaration of function "UISaveVideoAtPathToSavedPhotosAlbum"is invalid inC99 }]; ちなみにコードは先ほどのダウンロードページにあるchap5にあるAsagaoです。 おそらくこのMovieCreatorファイルのコードにミスがあると思うのですが、まだまだ素人のため解決策が全くわかりません。説明不足の点があれば申し訳ございません。どなたかご教授願います。
http://codepad.org/cBK5A67i を使って以下をコンパイルしたところ！ No.1 #include <stdio.h> void kansuu(); int main() { kansuu(); return 0; } void kansuu() { printf("kansuu de hyouji\n"); No.2 } 　#include <stdio.h> void kansuu(); int main() { kansuu(); } void kansuu() { printf("kansuu de hyouji\n"); 　return 0; } 以上の 　コンパイルの結果はNo.1、No.2とも 　kansuu de hyouji 　となりました。 　 　No.2の結果は　 　正確な値でしょうか 　それともバグでしょうか？ 　よろしくお願いします。
VC++でアプリを作成しているのですが、ラジオボタンとかチェックボックスとかをいっぱい持った アプリの場合、次回開いたときに前回と同じ画面の設定、表示になるようにするような一括保存方法が無いか探しています。 そのような方法があれば教えて下さい。
#include <stdio.h> int main(int argc, char *argv[]) { int i; for ( i = 0; i < argc; i++ ){ printf("argv[%d]=%s\n", i, argv[i]); } return argc; } 　以上プログラムで、二行目の*の意味を教えてくさい。 　６行目のargvには*が付いていません！？ 　よろしくお願いします。
xcodeでエラー？が出たので質問させていただきます。 現在カメラを起動するプログラムを書いているのですが、 runをすると以下のメッセージが表示されます。 ちなみに動作確認はできるので今の所支障はないのですが気になります。 ”Snapshotting a view that has not been rendered results in an empty snapshot. Ensure your view has been rendered at least once before snapshotting or snapshot after screen updates.” ちなみにソースコードは以下の通りです。 UIImagePickerController *pickerController = [[UIImagePickerController alloc]init]; pickerController.sourceType = UIImagePickerControllerSourceTypeCamera; [self presentViewController:pickerController animated:YES completion:NULL]; わかりずらくて申し訳ございませんがよろしくお願いいたします。
現在C言語のしっかりと学ばなかった部分を学習したいと思い、自作ヘッダファイルの作成を勉強しています。 そこで、書籍のその章を一通り読んだあと、自分で簡単なものを作成してみましたが、エラーが出てうまくいきません。 どうしてかわかる方いたら教えてください。 コード *****main.c***** #include "print.h" int main(void) { print(); return 0; } *****print.c***** #include <stdio.h> void print(void) { printf("test\n"); } *****print.h***** extern void print(void); エラー /tmp/ccH551c1.o: In function `main': /home/ユーザ名/Documents/StudyC/main.c:5: undefined reference to `print' collect2: ld returned 1 exit status CentOS6.6にて端末上での実行です。 自分の解釈では、""でincludeすることでカレントディレクトリから目的のヘッダファイルを見つけ出してインクルードする、また、ヘッダファイル内でexternすることによってprint.cから目的の関数を定義しているので、main.cでは問題なく使えると思っています。 しかし、エラーではprint()が定義されていないと出るのでまったくわかりません・・・。
現在、ＤｉｒｅｃｔＸ１０を利用して３Ｄゲームを制作しています。 ３Ｄデータを読み込むためにＸファイルを使用しています。 Ｘファイルの読み込みは自分でＸファイルパーサーを作成しています。 そして、 Ｘファイルには法線ベクトルの情報が入っています。 これは面法線情報であると今まで思っていました。 (理由：法線情報数が面情報数と一致していたので） しかし、最近になって、頂点法線情報が入っているＸファイルの存在を知りました (理由：法線情報数と面情報数が一致せず、頂点数と一致していたので） そこで質問があります。 Ｘファイルに入っている法線情報が面法線なのか、頂点法線なのか 知る方法を教えてください。 よろしくお願い申し上げます。
http://oshiete.goo.ne.jp/qa/8815474.html 　以上のプログラム内に 「引数を持つ関数を呼び出す際には、引数を指定する必要がある」 が 当てはまる箇所がありますか？ 　もしありましたら、どこのプログラム事を言っているのでしょうか？ よろしくお願いします。
C++ではfor文の初期化時にカウンタ変数等の宣言ができますよね． 0°から360°を表示するプログラムの例なのですが，次のコードを見てください． int main(void) { const double drad = 2 * M_PI / 6; double rad; rad = 0.0; for (int i = 0; i <= 6; i++, rad+= drad) { //cout << "rad: " << rad << endl; cout << "deg: " << rad * 180.0 / M_PI << endl; } } このプログラムを実行すると，0°から60°ごとに360°まで表示されました． ここで，for文の初期化処理でradの初期化を行おうとして， for (int i = 0, rad = 0.0; i <= 6; i++, rad+= drad) とプログラムを書き換えたところ，表示値は deg: 57.2958 deg: 114.592 deg: 171.887 deg: 229.183 deg: 286.479 deg: 343.775 となりました． また，コメントアウトしてある行を有効にしてradの中身を直接表示させると， rad: 0 rad: 1 rad: 2 rad: 3 rad: 4 rad: 5 rad: 6 といったように，radが整数値に丸められています． int iをfor文の外で宣言して for (i = 0, rad = 0.0; i <= 6; i++, rad+= drad) としたときには，正しい角度の表示が行われました． これは，for文の初期化時に変数宣言を行うとき，同時にほかの初期化処理を記述してしまったらその変数も同じ型の新しい変数として宣言されてしまうということなのでしょうか？ for (int i = 0, rad = 0.0;... →int i と int rad がスコープ内の変数として新しく宣言される？
ポインタ変数の値とアドレスの表示の仕方がよくわからないため、教えていただけますでしょうか。 --------------------------------------------------------------------- #include <stdio.h> int main() { 　　　char* animal[] = {"dog", "cat", "hamster", "mouse"}; 　　　int i; 　　　for(i=0; i<4; i++) { 　　　　　printf("%p animal[%d] : %s, アドレス : %p\n", 　　　　　animal+i, i, animal[i], *(animal+i)); 　　　} 　　　return 0; } --------------------------------------------------------------------- このプログラムを実行すると 0022FF40 animal[0] : dog, アドレス : 00403000 0022FF44 animal[1] : cat, アドレス : 00403004 0022FF48 animal[2] : hamster, アドレス : 00403008 0022FF4C animal[3] : mouse, アドレス : 00403010 となるのですが、なぜanimal[i]のところに配列の要素(dog, cat,・・・)が表示されるのかがわかりません。 char* animal[] = {"dog", "cat", "hamster", "mouse"};の行では、 animal[0] = "dog" なら animal[0]には"dog"の先頭アドレス(00403000)が代入されているのではないのでしょうか。
main関数をスッキリさせたくて、関数化してみたのですが、objファイルまではできるのですが実行ファイルができません。 エラー内容ですが、下のようにでます。 /* test_2.c(9) : error C2440: '関数' : 'FILE' から 'FILE *' に変換できません。 test_2.c(9) : warning C4024: 'read_f' : の型が 1 の仮引数および実引数と異なります。 test_2.c(10) : error C2440: '関数' : 'FILE' から 'FILE *' に変換できません。 test_2.c(10) : warning C4024: 'output_f' : の型が 1 の仮引数および実引数と異なります。 */ 書き方が間違ってるとは思うのですが、どこをどう直せばいいかわかりません。 教えてください。 #include <stdio.h> #include <stdlib.h> void read_f(FILE *f_p); void output_f(FILE *f_p); int main(void){ FILE *fp; read_f(*fp); output_f(*fp); fclose(fp); return 0; } void read_f(FILE *f_p){ int fn=0; char f_name[256]; printf(" text number 1, 2, 3, 4 : "); scanf("%d",&fn); sprintf(f_name,"map%d.txt",fn); if((f_p=fopen(f_name,"r"))==NULL){ /*f_nameを " " で囲まない!*/ printf("You will not be able to open the file\n"); exit(1); } } void output_f(FILE *f_p){ int i,j; int array[10][10]; for(j=0;j<10;j++){ for(i=0;i<10;i++){ fscanf(f_p,"%d",&array[i][j]);//画面表示 10*10 } printf("%d",array[i][j]); } printf("\n"); }
こんにちは。 プログラムの保守の請け負いをしています。 #define_SET( __z, __a, __b, __c ) \ { \ Foo foo ;\ \ lpFoo.SetParamA( __a ) ; \ lpFoo.SetParamB( __b ) ; \ lpFoo.SetParamC( __c ) ; \ \ __z <<<<=== foo ; \ } 上記のようなマクロ(説明の便宜上いろいろ省いています)がありまして、 Hogehoge ; _SET( hoge, 1, 2, 3 ) ; のような使い方をしています。 「<<<<===」ですが、これはHogeクラスが持っている演算子です。Fooクラスをセットするというものです。 なんか見づらいので下記のように書き換えて欲しいと言われたのですが、どう書き換えていいものかわかりません。 hoge <<<<=== _SET( hoge, 1, 2, 3 ) ; マクロの知識がイマイチでして、書き換え可能なのかがわかりません。 個人的にはFooクラスのコンストラクタを拡張して、 #define_SET( __z, __a, __b, __c ) Foo( data0, data1, __a, __b, __c ) くらいにしか思いつかなかったのですが、Fooクラスはいじりたくないそうです。 ご存じの方がいらっしゃいましたら教えていただけないでしょうか。
迷路を脱出する経路を探索するプログラムを作成したいのですが、 何をすればいいのかまったくわかりません 以下のプログラムはあるんですが、このプログラムを改良していくということなんでしょうか？左上からスタートして右下がゴールらしいのですがやり方教えてください #include <stdlib.h> #include <stdio.h> #include "List.h" #define LEN 256 int maze[LEN][LEN]; void readMaze(char* filename, int *w, int *h, int maze[LEN][LEN]) { FILE *fp; int x, y; if (0 != fopen_s(&fp, filename, "r")) { fprintf(stderr, "指定された迷路の入力ファイルを開くことができませんでした．\n"); exit(-1); } fscanf_s(fp, "%d,%d\n", w, h); for (y = 0; y < 2 * *h + 1; y++) { for (x = 0; x < 2 * *w + 1; x++) { fscanf_s(fp, "%d%*[^-0-9]", &(maze[y][x])); } } fclose(fp); } void writeMaze(char* filename, int w, int h, int maze[LEN][LEN]) { FILE *fp; int x, y; if (0 != fopen_s(&fp, filename, "w")) { fprintf(stderr, "指定された迷路の出力ファイルを開くことができませんでした．\n"); exit(-1); } fprintf_s(fp, "%d,%d\n", w, h); for (y = 0; y < 2 * h + 1; y++) { for (x = 0; x < 2 * w + 1; x++) { fprintf_s(fp, "%d", maze[y][x]); if (x < 2 * w) { fprintf_s(fp, ","); } else { fprintf_s(fp, "\n"); } } } fclose(fp); } // シンプルなバージョン：なるべく右下へ行けるなら右下へ int main(int argc, char** argv) { int w, h; int x, y; if (argc < 3) { fprintf(stderr, "迷路の入出力ファイル名を指定してください．\n"); exit(-1); } // 迷路読込 readMaze(argv[1], &w, &h, maze); // maze[1][1] から maze[2*h-1][2*w-1] までのルートを探す x = 1;//座標の初期化 y = 1; while (x != 2 * w - 1 || y != 2 * h - 1){ if (maze[y][x + 1] == 0) {// 右にまだ行ってない？ maze[y][x] = 1000; x = x + 1; } else if (maze[y + 1][x] == 0) {// 下にまだ行ってない？ maze[y][x] = 1000; y = y + 1; } else if (maze[y][x - 1] == 0) {// 左にまだ行ってない？ maze[y][x] = 1000; x = x - 1; } else if (maze[y - 1][x] == 0) {// 上にまだ行ってない？ maze[y][x] = 1000; y = y - 1; } else if (maze[y][x + 1] == 1000) { // 行き止まりなので右に引き返す maze[y][x] = 1; x = x + 1; } else if (maze[y + 1][x] == 1000) { // 行き止まりなので下に引き返す maze[y][x] = 1; y = y + 1; } else if (maze[y][x - 1] == 1000) { // 行き止まりなので左に引き返す maze[y][x] = 1; x = x - 1; } else if (maze[y - 1][x] == 1000) { // 行き止まりなので上に引き返す maze[y][x] = 1; y = y - 1; } } maze[2 * h - 1][2 * w - 1] = 1000; // ゴール // 答えを濃い色に // 上記のプログラムはすでに答えを濃い色(1000)にしている // 迷路書出 writeMaze(argv[2], w, h, maze); return 0; }
　以下C言語入門書の説明ですが！ 　いまいちわかりません？ 　 ・関数内で宣言された変数の扱い 関数内で宣言した関数は、その関数内でのみ有効な変数になります。関数が異なれば、同じ変 数名で宣言することができます。例えば、main関数と(?)kansuu関数で、同じ(?)hennsuuという名 前の変数を宣言することができます。 　int main() { int (A)hensuu = 0; (B)kansuuu(1); } int (C)kansuu(int hikusuu) { int (D)hensuu = 10; } 　列のmain関数で宣言されている(?)hensuuと、さ(?)kansuu関数で宣言されている(?)hensuuは 同じ名前ですが、独立した異なるものです。(?)kansuu関数が実行されているときに、(?)hensuuの値 を変更しても、main関数で宣言されている(?)hensuuの値は変更されません。 また、(?)kansuu関数を実行している間だけ、(?)kansuu関数で宣言されている(?)hensuuが有効です。 (?)kansuu関数から呼び出し元でるmain関数に戻った際は、(?) kansuu関数で宣言した (?)hensuuはもう有効ではなくな、値を参照することもなくなります。 　　 　以上の説目で、 　 (A)hensuu、 (B)kansuuu、(C)kansuu、(D)hensuu 　(アルファベット)を分かりやすいよう追加しました。 　　説明の 　　(?)にプログラムの(A)～(D)をつけたらどうなるか知りたいです。 （何となくわかるですが？） 　　よろしくお願いします。
あるForm2から呼び出したForm3があります。 Form2を閉じるとForm3も閉じられるプログラムを書きたいです。 インスタンスを与えれば簡単でしょうけど、Form2にはすでに別Formのインスタンスが与えられていて、複数個のインスタンスを同時に与える方法が分かりませんし、可能かも分かりません。まだまだプログラミングは浅くて…。 すでにthisで宣言したのでもう一個は何で宣言すればいいのかも分かりません。 public partial class Form2 : Form { Form1 frm1; public Form2(Form1 frm1) { this.frm1 = frm1; InitializeComponent(); } この他に、Form3のClosingイベントでForm2が閉じられたら同時に閉じるという方法も考えました。 Form3にはForm2のインスタンス、frm2は与えられています。 しかしif文の条件は、～==～、の形式になっていますが、Formが閉じたら…の書き方が分かりません。 frm2.Close() としても==がないですし、 Form2 frm2==frm2.Close() なども意味がありません。 どう書けばいいでしょうか？ 無理もしくは面倒ならば仕方なくこのままでいきます。 結局何がしたいのかというと、Form3はForm2と連携しているため、仮にForm2を先に閉じてしまうとForm3はただ邪魔になるのです。 この際、自分でForm3を閉じればいですが、どうせなら自動でさせたいので。
お世話になります 以下に該当する物を公開しているＨＰ等をご紹介いただけないでしょうか ２次元または３次元のFFTのソースを探しております。 ※Dllではなく、ソースを探しております 条件 １．２次元または３次元 ２．逆変換も可能 ３．VBまたはCで書かれている ４．ＸＹ（ＸＹＺ）の各成分（数）を個別に指定できる ５．きちんとコメントが記載されている（特に引数の説明は必須） 補足 １次元の物は既に入手済です
テキストボックスに数値しか入力させないようにし、さらにそれを3桁のコンマ区切りで表示しています。 以下の文でやっています。 private void textBox1_KeyPress(object sender, KeyPressEventArgs e) { if ((e.KeyChar < '0' || '9' < e.KeyChar) && e.KeyChar != '\b' ) { e.Handled = true; } } private void textBox1_Leave(object sender, EventArgs e) { this.textBox1.Text = string.Format("{0:#,0}", ulong.Parse(this.textBox1.Text)); } 上の方では数値のみの入力制限、下の方では桁区切りを実行しています。 これでうまくいくのですが、エラーが一つ出ます。 一度数字を入力し、リーブしたらもう桁区切りがなされます。 しかしそれを書き換える、例えば全部消してから書き換えるのでなく、桁数が一文字多かったので消そうというときに、一つ消してリーブすると、コンマが入っているためにエラーになります。 これを防ぐにはどうすればいいでしょうか？ また、ただそれだけでは、桁区切りがおかしくなるはずです。 できれば書き換えた後に、新たに桁区切りがなされるようにしたいのですがやはり難しいでしょうか？
構造体へのポインタを動的確保しようとmalloc関数を使用すると segmentation faultが起きます。 typedef struct cell{ char *word; int count; struct cell *next; }node_t; という構造体で node_t *ptr=(node_t*)malloc(sizeof(node_t)*num); という風に動的確保しようとするとsegmentation faultが起きました。 gdbを使って調べると Starting program: /home/programII/week05/a.out file1 file2 Program received signal SIGSEGV, Segmentation fault. 0x00007ffff7b4ce36 in ?? () from /lib/x86_64-linux-gnu/libc.so.6 というメッセージが返ってきます。 これはライブラリとのリンクが正しく行われていないということでしょうか？ しかし、ポインタの動的確保以外でmalloc関数を使用すると 正常に動作するのでライブラリ自体が無いわけではないようです。 ptr[2]といった風にポインタを参照したいのですが上手くいきません。 よろしくお願いします。
２、続きです。 ちなみに以前に同じ質問を投稿し、回答を頂いてそこを直すと正しく実行できたと勘違いして質問を終わらせてしまいました・・・。 //U2のとき for(L=-A;L<=A;L++) { for(M=-B;M<=B;M++) { for(N=-C;N<=C;N++) { x=(2*L+1)*a*cos(Beta)/2; y=M*b+b/2; z=N*c-((2*L+1)*a*sin(Beta))/2; X=x-Px2; Y=y-Py2; Z=z-Pz2; r=sqrt((X*X)+(Y*Y)+(Z*Z)); if(r<R){ if(L==0&&M==0&&N==0){ Hdx15=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy15=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz15=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==-1&&M==0&&N==0){ Hdx16=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy16=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz16=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==0&&M==0&&N==1){ Hdx17=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy17=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz17=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==-1&&M==0&&N==1){ Hdx18=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy18=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz18=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L=-1&&M==0&&N==-1){ Hdx19=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy19=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz19=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else{ Hdx=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); THDX22=THDX22+Hdx; THDY22=THDY22+Hdy; THDZ22=THDZ22+Hdz; printf("L=%d M=%d N=%d R=%lf\n",L,M,N,r); } } } } } Hdx20=Hdx15+Hdx16+Hdx17+Hdx18+Hdx19; Hdy20=Hdy15+Hdy16+Hdy17+Hdy18+Hdy19; Hdz20=Hdz15+Hdz16+Hdz17+Hdz18+Hdz19; printf("ここまでがlowerのU2の時のL,M,N、それぞれの値\n"); printf("THDX11は%eです。\n",THDX11); printf("THDY11は%eです。\n",THDY11); printf("THDZ11は%eです。\n",THDZ11); printf("THDX12は%eです。\n",THDX12); printf("THDY12は%eです。\n",THDY12); printf("THDZ12は%eです。\n",THDZ12); printf("THDX21は%eです。\n",THDX21); printf("THDY21は%eです。\n",THDY21); printf("THDZ21は%eです。\n",THDZ21); printf("THDX22は%eです。\n",THDX22); printf("THDY22は%eです。\n",THDY22); printf("THDZ22は%eです。\n",THDZ22); printf("\n"); Hdx21=THDX11+THDX12; Hdy21=THDY11+THDY12; Hdz21=THDZ11+THDZ12; Hdx22=THDX21+THDX22; Hdy22=THDY21+THDY22; Hdz22=THDZ21+THDZ22; printf("Hdx21は%eです。\n",Hdx21); printf("Hdy21は%eです。\n",Hdy21); printf("Hdz21は%eです。\n",Hdz21); printf("Hdx22は%eです。\n",Hdx22); printf("Hdy22は%eです。\n",Hdy22); printf("Hdz22は%eです。\n",Hdz22); Hdip1=sqrt((Hdx21*Hdx21)+(Hdy21*Hdy21)+(Hdz21*Hdz21)); Hdip2=sqrt((Hdx22*Hdx22)+(Hdy22*Hdy22)+(Hdz22*Hdz22)); printf("Hdip1は%eです。\n",Hdip1); printf("Hdip2は%eです。\n",Hdip2); upper=Hdip1*gamma; lower=Hdip2*gamma; printf("upperは%eです。\n",upper); printf("lowerは%eです。\n",lower); upper=0; lower=0; Hdip3=sqrt((Hdx4*Hdx4)+(Hdy4*Hdy4)+(Hdz4*Hdz4)+(Hdx10*Hdx10)+(Hdy10*Hdy10)+(Hdz10*Hdz10)); Hdip4=sqrt((Hdx14*Hdx14)+(Hdy14*Hdy14)+(Hdz14*Hdz14)+(Hdx20*Hdx20)+(Hdy20*Hdy20)+(Hdz20*Hdz20)); printf("抜き出した8個の原子の総合の磁場は、upperの方のHdip3は、%lf、\nlowerの方のHdip4は%lfです。\n",Hdip3,Hdip4); printf("これらを、また元の結晶に戻した時、\n"); upper=0;lower=0; Hdip5=sqrt((Hdx21*Hdx21)+(Hdy21*Hdy21)+(Hdz21*Hdz21)+(Hdx4*Hdx4)+(Hdy4*Hdy4)+(Hdz4*Hdz4)+(Hdx10*Hdx10)+(Hdy10*Hdy10)+(Hdz10*Hdz10)); Hdip6=sqrt((Hdx22*Hdx22)+(Hdy22*Hdy22)+(Hdz22*Hdz22)+(Hdx14*Hdx14)+(Hdy14*Hdy14)+(Hdz14*Hdz14)+(Hdx20*Hdx20)+(Hdy20*Hdy20)+(Hdz20*Hdz20)); upper=Hdip5*gamma; lower=Hdip6*gamma; printf("upperは%eです。\n",upper); printf("lowerは%eです。\n",lower); 以上です・・・。
//U2のとき for(L=-A;L<=A;L++) { for(M=-B;M<=B;M++) { for(N=-C;N<=C;N++) { x=(2*L+1)*a*cos(Beta)/2; y=M*b+b/2; z=N*c-((2*L+1)*a*sin(Beta))/2; X=x-Px2; Y=y-Py2; Z=z-Pz2; r=sqrt((X*X)+(Y*Y)+(Z*Z)); if(r<R){ if(L==0&&M==0&&N==0){ Hdx15=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy15=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz15=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==-1&&M==0&&N==0){ Hdx16=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy16=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz16=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==0&&M==0&&N==1){ Hdx17=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy17=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz17=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L==-1&&M==0&&N==1){ Hdx18=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy18=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz18=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else if(L=-1&&M==0&&N==-1){ Hdx19=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy19=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz19=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } else{ Hdx=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); THDX22=THDX22+Hdx; THDY22=THDY22+Hdy; THDZ22=THDZ22+Hdz; printf("L=%d M=%d N=%d R=%lf\n",L,M,N,r); } } } } } Hdx20=Hdx15+Hdx16+Hdx17+Hdx18+Hdx19; Hdy20=Hdy15+Hdy16+Hdy17+Hdy18+Hdy19; Hdz20=Hdz15+Hdz16+Hdz17+Hdz18+Hdz19; printf("ここまでがlowerのU2の時のL,M,N、それぞれの値\n"); printf("THDX11は%eです。\n",THDX11); printf("THDY11は%eです。\n",THDY11); printf("THDZ11は%eです。\n",THDZ11); printf("THDX12は%eです。\n",THDX12); printf("THDY12は%eです。\n",THDY12); printf("THDZ12は%eです。\n",THDZ12); printf("THDX21は%eです。\n",THDX21); printf("THDY21は%eです。\n",THDY21); printf("THDZ21は%eです。\n",THDZ21); printf("THDX22は%eです。\n",THDX22); printf("THDY22は%eです。\n",THDY22); printf("THDZ22は%eです。\n",THDZ22); printf("\n"); Hdx21=THDX11+THDX12; Hdy21=THDY11+THDY12; Hdz21=THDZ11+THDZ12; Hdx22=THDX21+THDX22; Hdy22=THDY21+THDY22; Hdz22=THDZ21+THDZ22; printf("Hdx21は%eです。\n",Hdx21); printf("Hdy21は%eです。\n",Hdy21); printf("Hdz21は%eです。\n",Hdz21); printf("Hdx22は%eです。\n",Hdx22); printf("Hdy22は%eです。\n",Hdy22); printf("Hdz22は%eです。\n",Hdz22); Hdip1=sqrt((Hdx21*Hdx21)+(Hdy21*Hdy21)+(Hdz21*Hdz21)); Hdip2=sqrt((Hdx22*Hdx22)+(Hdy22*Hdy22)+(Hdz22*Hdz22)); printf("Hdip1は%eです。\n",Hdip1); printf("Hdip2は%eです。\n",Hdip2); upper=Hdip1*gamma; lower=Hdip2*gamma; printf("upperは%eです。\n",upper); printf("lowerは%eです。\n",lower); upper=0; lower=0; Hdip3=sqrt((Hdx4*Hdx4)+(Hdy4*Hdy4)+(Hdz4*Hdz4)+(Hdx10*Hdx10)+(Hdy10*Hdy10)+(Hdz10*Hdz10)); Hdip4=sqrt((Hdx14*Hdx14)+(Hdy14*Hdy14)+(Hdz14*Hdz14)+(Hdx20*Hdx20)+(Hdy20*Hdy20)+(Hdz20*Hdz20)); printf("抜き出した8個の原子の総合の磁場は、upperの方のHdip3は、%lf、\nlowerの方のHdip4は%lfです。\n",Hdip3,Hdip4); printf("これらを、また元の結晶に戻した時、\n"); upper=0;lower=0; Hdip5=sqrt((Hdx21*Hdx21)+(Hdy21*Hdy21)+(Hdz21*Hdz21)+(Hdx4*Hdx4)+(Hdy4*Hdy4)+(Hdz4*Hdz4)+(Hdx10*Hdx10)+(Hdy10*Hdy10)+(Hdz10*Hdz10)); Hdip6=sqrt((Hdx22*Hdx22)+(Hdy22*Hdy22)+(Hdz22*Hdz22)+(Hdx14*Hdx14)+(Hdy14*Hdy14)+(Hdz14*Hdz14)+(Hdx20*Hdx20)+(Hdy20*Hdy20)+(Hdz20*Hdz20)); upper=Hdip5*gamma; lower=Hdip6*gamma; printf("upperは%eです。\n",upper); printf("lowerは%eです。\n",lower); 以上です・・・。
http://oshiete.goo.ne.jp/qa/8815474.html 　のプログラムの中に 　return hikisuu1 * hikisuu2;の戻り値が 　printf("modori = %d\n", modori);のmodori に反映されるのはなぜですか！ 　その過程を御説明できる方、御られますか！？ 　 　質問内容に不備がありましたら、ご了承ください。 　 　以上宜しくお願いします。 　
#include <stdio.h> int main() { int modori; modori = kansuu(2, 3); printf("modori = %d\n", modori); return 0; } int kansuu(int hikisuu1, int hikisuu2) { printf("kansuu de hyouji\n"); } 　コンパイラーソフトは 　http://codepad.org/KZDkVV1K 　のネットで実施していまして！ 　これしかないです。 　 　結果は kansuu de hyouji modori = 17 　となりました。 　 　皆様はコンパイラーソフトはOSにインストールしてお使いだと思います。 その場合も結果は同じでしょうか！？ 　もし同じでしたら、 modori = 17になる理由を教えてください。 　以上よろしくお願いします。
本の管理をするアプリを作っている時にまた疑問が出てきました。 public class Book { public string Title { get; set; } public string ISBN { get; set; } public Money Money { get; set; } public int Rate { get; set; } public DateTime BuyDate { get; set; } } 本の管理にレートをつけられるようにしようと思っています。 iTunesの★マークのようなものにしたいので１～５の固定です。 つけていないものもあるので０も存在します。 ここでレートを付けている本を、それぞれのレート別にグループに分けたいと思いました。 そこでレート1～レート5までのグループをどのように管理するのがベストというか、どのように考えればいいのでしょうか。 私が考えたのは、グループ別に処理が分かれるのでクラスを作った方がいいと考えたのです。 とりあえず同じ処理もいくつか発生するので public abstract class AbstractRate { public int Value { get; set; } private static BookCollection _bookCollection; //全ての本が入る public BookCollection BookCollection { get { return _bookCollection; } } } みたいな基底クラスを作り public class Star1 :AbstractRate { private BookCollection _books; } から Star5までの似たようなクラスを作り、それぞれのレートのBookコレクションを持たせる形です。 ただこれだと同じようなクラスが増えるだけでものすごく冗長だと思うのです そこでもう一つ思ったのは public class GroupClass { public string GroupName { get; set; } public BookCollection BookCollection { get; set; } } という形でグループ名と本のリストを入れておく形です。 これだとクラスは分かりやすくていいのですが、毎回処理をさせる際にこの名前のグループならこれみたいな処理が必要になる気がして悩んでいます。 実際どのように考えるのがいいのでしょうか？ 直接的な回答でなくてもいいのですが、考える材料が欲しいです。 よろしくお願いします。
現在、解説書に記載されているコードをＶＣ＋+でコンパイルできるか試しながらＣ＋＋を独習中です。エラーの原因と対応が分からず困っております。どなかたご教示よろしくお願いします。 日付を表示するプログラムで米国表示か英国表示にするか列挙型の宣言と静的メンバーをヘッダーファイルに記載し、フラッグの定義と初期化をするプログラムをコンパイルしました。 ---クラス定義（ファイル名：date.h）--- #include <iostream.h> class date{ ----------------------- enum Lang {USA, UK}; static Lang format; public: ----------------------- }; ---メンバー関数定義（ファイル名：date.cpp）--- #include <string.h> #include <ctype.h> #include <stdlib.h> #include "date.h" ----------------------- Lang date::format = USA; ----------------------- ---------------------------------------- このファイルをコンパイルした結果、下記のエラーメッセージが表示されました。 エラー発生箇所は上記「Lang date::format = USA;」でした --------------------構成: date - Win32 Debug-------------------- コンパイル中... date.cpp date.cpp(17) : error C2501: 'Lang' : 識別名を宣言するのに、型が指定されていません。 date.cpp(17) : error C2239: 無効なトークン 'tag::id' が 'Lang' の宣言の後にあらわれました。 date.cpp(17) : error C2321: 構文エラー : 予期しない 'date::format' です。 cl.exe の実行エラー date.obj - エラー 3、警告 0 ----------------------------------------------------------------------------- エラーの原因と解決方法が分かりません。 よろしくお願いします。
まずはじめに申しますが大変手間をとる回答になるのでそれでも協力してくれる方がいればの質問です・・・。 このプログラムを実行すると、Hdx3no2が宣言なしで使われているとエラーが出るのですが理由がわかりません。どこがおかしいのか教えてもらえると助かります。あまりにも長いので（コンパクトにできていないので）3回の質問に分けてしまいます・・・。そして非常に見にくくて済みません。 #include<stdio.h> #include<math.h> int main(void) { int L,M,N,A,B,C; double U1,U2,x,y,z,X,Y,Z,r,ux1,uy1,uz1,ux2,uy2,uz2,Hdx,Hdy,Hdz; double Hdx1,Hdy1,Hdz1,Hdx2,Hdy2,Hdz2,Hdip1,Hdip2,uB,fai,sita,RAD,a,b,c; double Hdx3,Hdy3,Hdz3,Hdx3no1,Hdy3no1,Hdz3no1,Hdx3no2,Hdy3no2,Hdz3no2; double Hdx4,Hdy4,Hdz4,Hdx4no1,Hdy4no1,Hdz4no1,Hdx4no2,Hdy4no2,Hdz4no2; double Px1,Py1,Pz1,Px2,Py2,Pz2,THDX11,THDY11,THDZ11; double THDX12,THDY12,THDZ12,THDX21,THDY21,THDZ21; double THDX22,THDY22,THDZ22,R,gamma,Beta,CPA,CPB,CPC,upper,lower; uB=9.274; U1=3.41*uB; U2=-U1; RAD=3.14159265358979/180; a=7.256; b=8.575; c=3.544; Beta=7.55*RAD; CPA=0.0604; CPB=0.3; CPC=0.156; //プロトンの位置 Px1=CPA*a*cos(Beta); Py1=CPB*b; Pz1=CPC*c-CPA*a*sin(Beta); Px2=-Px1; Py2=Py1; Pz2=-Pz1; sita=90*RAD; fai=90*RAD; THDX11=0; THDY11=0; THDZ11=0; THDX12=0; THDY12=0; THDZ12=0; THDX21=0; THDY21=0; THDZ21=0; THDX22=0; THDY22=0; THDZ22=0; R=6; gamma=4.25775; A=(R/a)+1; B=(R/b)+1; C=(R/c)+1; ux1=U1*sin(sita)*cos(fai); uy1=U1*sin(sita)*sin(fai); uz1=U1*cos(sita); ux2=U2*sin(sita)*cos(fai); uy2=U2*sin(sita)*sin(fai); uz2=U2*cos(sita); //upper //U1のとき for(L=-A;L<=A;L++) { for(M=-B;M<=B;M++) { for(N=-C;N<=C;N++) { x=L*a*cos(Beta); y=M*b; z=N*c-L*a*sin(Beta); X=x-Px1; Y=y-Py1; Z=z-Pz1; r=sqrt((X*X)+(Y*Y)+(Z*Z)); if(r<R&&L!=0&&M!=0&&N!=-1||L!=0&&M!=0&&N!=0||L!=0&&M!=0&&N!=1){ Hdx=((-ux1/pow(r,3))+3*X*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); Hdy=((-uy1/pow(r,3))+3*Y*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); Hdz=((-uz1/pow(r,3))+3*Z*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); THDX11=THDX11+Hdx; THDY11=THDY11+Hdy; THDZ11=THDZ11+Hdz; printf("L=%d M=%d N=%d R=%lf\nAAA\n",L,M,N,r); } else if(L==0&&M==0&&N==-1||L==0&&M==0&&N==0||L==0&&M==0&&N==1){ Hdx3no1=((-ux1/pow(r,3))+3*X*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); Hdy3no1=((-uy1/pow(r,3))+3*Y*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); Hdz3no1=((-uz1/pow(r,3))+3*Z*(ux1*X+uy1*Y+uz1*Z)/pow(r,5)); } else{ continue; } } } } //U2のとき for(L=-A;L<=A;L++) { for(M=-B;M<=B;M++) { for(N=-C;N<=C;N++) { x=(2*L+1)*a*cos(Beta)/2; y=M*b+b/2; z=N*c-((2*L+1)*a*sin(Beta))/2; X=x-Px1; Y=y-Py1; Z=z-Pz1; r=sqrt((X*X)+(Y*Y)+(Z*Z)); if(r<R&&L!=-1&&M!=0&&N!=-1||L!=-1&&M!=0&&N!=0||L!=-1&&M!=0&&N!=1){ if(L!=0&&M!=0&&N!=-1||L!=0&&M!=0&&N!=0||L!=0&&M!=0&&N!=1){ Hdx=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2+Z)/pow(r,5)); Hdy=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2+Z)/pow(r,5)); Hdz=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2+Z)/pow(r,5)); THDX12=THDX12+Hdx; THDY12=THDY12+Hdy; THDZ12=THDZ12+Hdz; printf("L=%d M=%d N=%d R=%lf\nBBB\n",L,M,N,r); } } else if(L==-1&&M==0&&N==-1||L==-1&&M==0&&N==0||L==-1&&M==0&&N==1){ if(L==0&&M==0&&N==-1||L==0&&M==0&&N==0||L==0&&M==0&&N==1){ Hdx3no2=((-ux2/pow(r,3))+3*X*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdy3no2=((-uy2/pow(r,3))+3*Y*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); Hdz3no2=((-uz2/pow(r,3))+3*Z*(ux2*X+uy2*Y+uz2*Z)/pow(r,5)); } } else{ continue; } } } } これをNo.1として続きのプログラムをNo.2に挙げます。
#include <stdio.h> int kansuu(int hikisuu1, int hikisuu2); int main() { int modori; modori = kansuu(2, 3); printf("modori = %d\n", modori); return 0; } int kansuu(int hikisuu1, int hikisuu2) { printf("kansuu de hyouji\n"); return hikisuu1 * hikisuu2; } 　以上プログラムですが、 結果は以下です。 kansuu de hyouji modori = 6 　素人の目からして！ printf("modori = %d\n", modori);が 　最初にあるので 　以下がコンパイル結果になりそうですが！？ modori = 6 kansuu de hyouji 　この場合なぜ！ kansuu de hyouji 　が最初になるのでしょうか！？ 　 よろしくお願いします。
C#で、例えばForm2をForm1から開き、ある問題があってForm2のボタンを押すとForm2のラベルに正解と表示されます。 その文字が表示されたら数秒後に自動でForm2が閉じられるプログラムを書きたいのですがうまくいきません。 現在、こう書いています。3秒後とします。 using System.Threading;は宣言しています。 private void Form2_FormClosing(object sender, FormClosingEventArgs e) { if(label1.Text=="正解です。") { Thread.Sleep(3000); e.Cancel= false; } こうするといつまでも閉じてくれません。 ボタンクリックプログラムに、if文で、～ならば正解です、～ならば間違いです、などとふり分けている中、正解のところに label1.Text="正解です。"; Thread.Sleep(3000); this.Close(); などとすると、ボタンを押したら、ラベルには何も表示されずに3秒後に閉じます。 どうすればいいでしょうか？
#include <stdio.h> int main() { printf("%d %c\n", 65, 65); return 0; } 　コンパイル後は 65 A 　return 1;も同じでした。 しかし 　return 2;すると 　Exited: ExitFailure 2　　終了しました：出口の失敗2　となります。 　2以上でしたら、出口が塞がるのでろうぐらいしかわかりません！？ 　 　どんなバクなのでしょうか！？ 　よろしくお願いします。
C#を使っているのでC・C++のジャンルでいいのか分からないのですがこちらで質問させて下さい。 現在簡単な本の管理をするアプリを作っています。 プロパティをできるだけ使わずにカプセル化して作っていたのですが、肝心のデータを保存する段階で分からなくなりました。 public class Book { private static int _id_gen; private int _id2; private string _isbn; private string _name; public Book(string isbn, string name) { this._isbn = isbn; this._name = name; } } このようにコンストラクタでデータを渡して get プロパティだけあとで追加するようにしています。 こういうデータを保存する際はまとめて保存するのではなくて List<Book> なんかを foreach で回して1件ずつ保存するといいのでしょうか？ 読み込む際は1件ずつ読み込んでクラスに設定していくというのが標準的な考え方ですか？ 「C# XML 保存」で検索をかけると XmlSerializer でまとめて保存する事例ばかりでちょっと分からなくなってしまいました。 よろしくお願いします。
Ｃ言語を用いてライブラリを作成しています。 ライブラリは機能ごとにファイルを分けています。 今、ライブラリの中でのみ使用するグローバル変数やグローバル関数が必要になりました。 このグローバル変数や関数は複数ファイルで参照するため、static宣言はできません。 しかし、このグローバル変数や関数は公開する必要はありません(ライブラリの中でのみ使用します）。 このようなことをＣ言語で実現するためにはどうしたらよいのでしょうか？ 開発環境は Windows7 ＶｉｓｕａｌＣ＋＋２０１０ です。 ＶｉｓｕａｌＣ＋＋２０１０を使うなら　Ｃ＋＋で書けばいいのではないかといわれそうですが、 Ｃ言語でプログラミングしたいのです。 以下のようなサイトがあったのですが、これを使うしかないでしょうか？ http://0xcc.net/blog/archives/000108.html
fscanfで文字列を読み込み、strtokでカンマ区切りにするという関数を作りたいのですが、 reallocすると先頭から徐々にデータが文字化けしていきます。 まず最初に4つ分のchar*を取ります。 もし、５つ目が見つかったらさらに４つ増やし、９つ目が見つかったらさらに。。。というようになっております。 n個目の判定はcntがn-1で真になり、reallocが成功したら個数を増やすようになってます。 ５つ目が見つかった時点では出力に問題は無いのですが、６個目から侵食が始まっていきます。 原因がどうしても自分では分からなかったので、誰かお願い致します。 words.txtの内容(末尾改行なし) iii,jjj,kkkkkkkkk,l,m,n,ooooo,pppppppp,a,s,d,f,g main.c #include<stdio.h> #include<stdlib.h> #include<string.h> #include"C:\borland\bcc55\Include\malloc.h" int readlinefile(FILE *fp,char **words){ int cnt=0,len; char *line=(char *)malloc(256); char *tmp; if(line==NULL) return 0; if(fscanf(fp,"%s",line)!=EOF){ if((tmp=(char *)realloc(line,sizeof(char)*(strlen(line)+1)))==NULL){//できるだけメモリを節約してみる return 0; }else{ line=tmp; } len=strlen(line); printf("line:%d:%d:%s\n",len,_msize(line),line); if(len>1){//ファイル終端の改行を排除 int i; char *tok=strtok(line,",");//カンマで区切ったアドレスを得る while(tok){ if(cnt==0)printf("tok:1st:%x\n",tok); if(cnt>3&&cnt%4==0){//サイズが足りなくなった時 char **tmp2; if((tmp2=(char **)realloc(words,sizeof(char *)*(4+4*(cnt%4))))==NULL){ printf("words realloc ERROR\n"); break; }else{ printf("realloc\n"); words=tmp2;//reallocを適用 } } words[cnt]=tok; if(cnt){ printf("line(func)"); for(i=0;i<len+1;i++){ printf("%c",words[0][i]); } printf("\n"); } tok=strtok(NULL,","); printf("words[%d]:%x:%s\n",cnt,words[cnt],words[cnt]); printf("\n"); printf("tok:%d回目:%x\n",cnt+1,tok); cnt++; } return cnt;//正常終了した }else{ free(line); } } return 0; } int main(){ FILE *fp=fopen("words.txt","r"); if(fp){ int cnt=1; while(cnt){ int i; char **words=(char **)malloc(sizeof(char *)*4); words[0]=NULL; cnt=readlinefile(fp,words); printf("mainに戻りました\n"); if(cnt)printf("words:%d\n",cnt); for(i=0;i<cnt;i++){ printf("words[%d]:%x:%s\n",i,words[i],words[i]); } free(words[0]); words[0]=NULL; printf("\n"); free(words); } }else{ printf("file open ERROR\n"); } return 0; } 実行結果 なぜかコピペできないので実行するか斧でダウンロードお願いします。 http://www1.axfc.net/u/3352789.txt 全てまとめたもの http://www1.axfc.net/u/3352796.zip
お世話になります。 表題の通り、MP4ファイルに含まれるタグ情報の 『サブタイトル』に当たる部分の取得の方法を教えてください。 http://www.atmarkit.co.jp/fdotnet/dotnettips/591mp3tags/mp3tags.html このサイトを見て、同じやり方でMP4からタイトルまでは取得できましたが、 サブタイトルまではどうすれば良いのか解りません。 ちなみに、必須ではないですが、コメント情報も教えていただければ幸いです。 よろしくお願いいたします。
僕はプログラミング言語の基となっているC言語を勉強しょうと思っています。 が、C++を勉強してもC言語と同じようなことが学べるでしょうか？
プログラミング初心者で、ただいまC#の勉強中です。 bool型（trueまたはfalse）とstring型（関数内で取得した文字列）の値を 配列で関数の戻り値として返したいのですが、どうすれば良いのかわかりません。 true/falseもstringとして呼び出し側で判別するしか方法はないのでしょうか。 アドバイスをお願いいたします。
#include <stdio.h> int kansuu(int hikisuu1, int hikisuu2); int main() { int modori; modori = kansuu(2, 3); printf("modori = %d\n", modori); return 0; } int kansuu(int hikisuu1, int hikisuu2) { printf("kansuu de hyouji\n"); return hikisuu1 * hikisuu2; } 　以上のコンパイルの結果は 　kansuu de hyouji modori = 6 　　ですが！ 　これを 　modori = 6 kansuu de hyouji 　にすることは可能でしょうか！？ 　よろしくお願いします。
C++のifstreamの使い方で分からない所があるので、分かる方御教示ください。 下記は、C++で読み込んだファイルの中身が空だった場合を無理やり例外処理を使って書いてみたのですが、中身が存在する場合、たとえば、 line1 line2 line3 ではline1を無限に繰り返してしまいます。(1)を ifstream instream = inStream(argv[1]); while (instream >> input) にするとうまくいくようなのですが、この違いがよくわかりません。 違いを教えてください。 #include <iostream> #include <string> #include <fstream> using namespace std; ifstream inStream(char *str); int main(int argc, char *argv[]) { if (argc < 2) cout << "ファイル名を指定してください" << endl; else { try { string input; while (inStream(argv[1]) >> input) // (1) cout << input << endl; } catch (int i) { cerr << argv[1] << "を開けません" << endl; } } return 0; } ifstream inStream(char *str) { ifstream inStream(str); if (!inStream) throw 1; return inStream; }
プログラム初心者です。 Windows Form Applicationで、日に日に進めていくタイプの学習システムを作成しています。 メインフォームForm1のボタンを押すと、カレンダーForm2へ行きます。 このカレンダー内の各日付（label）をクリックすると、各問題ページへ行きます。（カレンダーは閉じ、問題ページを開く。） 問題ページには閉じるボタンがあり、閉じる際には、「きちんと解き終えてから終了してください。終了していいですか？」という感じのMessage Boxを表示し、「はい」を押すと終了し、カレンダーへ戻り（問題ページを閉じ、カレンダーを表示）、カレンダーのその日付のFore Colorが変わります。そしてその色が変化した日付をクリックすると、「解答済みです。」とのMessage Boxを表示して二度は行けないようにします。 ここまではうまくいきました。 この繰り返しなのですが、次の日付をクリックし、次の問題を解き、カレンダーを開きなおすと情報が保持されません。 このプログラムをしたいのですが、調べても良く分からずに苦戦しています。 出来る限り簡潔なプログラムで、良いものはありますか？どのようなプログラムでしょうか？ ちなみに、カレンダーを閉じずに問題を表示し、問題を閉じたら色が変わり…の繰り返しならばうまくいくと思いますが、できればカレンダーを閉じたいです。 その方法が難しく、手間がかかるならば（一括ではできず、日付毎にプログラムしなければならなく、かつその文が複雑という場合など。）、閉じない方法で行こうとは思っています。
public static Final int a = 1; というjavaのプログラムをC#で public static const int a = 1; に書き換えたらstaticは無理というエラーがでました。 C#とjavaの比較の説明サイトを２・３見たのですが、よく意味がわかりませんでした。 なぜC#ではstaticにできないのでしょうか？
C言語で、配列を宣言した場合、 char a[] = "hoge"; 変数aは初期化された配列の先頭番地を指しているのですが、この時、 変数aの中身も変数aのアドレス（&a）ともに上記の配列の先頭番地になっているようなのですが、 これによって、配列の変数aは読み取り専用で、書き換えられないということにしていると思っていいのでしょうか？ ちなみに、 char *p = "fuga"; とした場合は、pと&pのアドレスは異なって、pの中身は書き換えられます。
こんにちは。 C言語で以下のようなプログラムを作りたいと考えているのですが、うまく実装できず困っています。 入力ファイルには、【単語（ひらがな）＋Tab＋その読み（音素列）】が書かれているとします。 例： あいうえお（Tab）a i u e o かきくけこ（Tab）ka ki ku ke ko ・・・ （音素は半角空白で分けられているものとします） このファイルを読み込んで、【単語（ひらがな）＋Tab＋単語（カタカナ）＋Tab＋その読み（音素列）】を別のファイルに書き込む　 例： あいうえお（Tab）アイウエオ（Tab）a i u e o かきくけこ（Tab）カキクケコ（Tab）ka ki ku ke ko ・・・ というプログラムを作りたいと考えています。 アルゴリズムとして、 (1) ファイルから1行読み込む (2) Tab文字がくるまでの文字列を配列に保存（例でいう「あいうえお」の部分です） (3) Tab文字の次の文字から行末までの文字列を配列に保存（例でいう「a i u e o」の部分です） (4) (2)の1文字ずつをカタカナに変換（ASCIIコードの変換で可能？） (5) (2)(3)(4)を用いて出力用ファイルに書きこむ という流れを考えたのですが、(2)の部分でまず手こずっています。 #include<stdio.h> main(){ FILE *fin; FILE *fout; char buff[200]; char word[200]; int i=0; /*読み込み用ファイルを開く*/ fin = fopen("input.txt", "r"); if( fin == NULL ){ printf( "File open error\n" ); return; } /*書き込み用ファイルを開く*/ fout = fopen("output.txt", "w"); if( fout == NULL ){ printf( "File open error\n" ); return; } /*1行ずつ読み込む*/ /*読み込める間繰り返す*/ while(fgets(buff,200,fin) != NULL){ /*タブ文字がくるまで拾う*/ while(buff[i] != '\t'){ /*文字列を配列wordに保存*/ word[i] = buff[i]; i++; } /*保存できているかの確認*/ printf("%s",word); fclose(fin); fclose(fout); } 実行後、wordの中身が表示されるのですが、 あいうえお,（文字化け）（文字化け） というように、【,（文字化け）（文字化け）】という謎の文字がついてしまいます。 また、入力ファイルの中身が2行以上でも、 あいうえお,（文字化け）（文字化け）　あいうえお,（文字化け）（文字化け）・・・ というように、1行目の結果しか出てこないです。 どこを直せばいいのでしょうか？ （というかそもそもCよりPerlとかで作ったほうがもっと楽なのかもしれないですが・・・） 教えて頂けると助かります。よろしくお願いします。
http://oshiete.goo.ne.jp/qa/8798932.html　の 　の中に int kansuu(int hikisuu); ←関数に引数を追加 　がありますが！ 　”関数に引数を追加”の説明で、”関数”とは！intのことを言っているのか、それとも kansuuを言っているのかが分かりません？ 　 　よろしくお願いします。
こんばんは。 STLにto_string関数を見つけました。 変数の型を見るとlong doubleもサポートしているようなので値を入れてみたところfloat値を文字列に変換したものしか得られませんでした。 どのようにすればlong doubleを文字列として取得できるのでしょうか? 環境はVisualStudio2013です。
#include <stdio.h> int kansuu(int hikisuu); int main() { int modori; modori = kansuu(2); printf("modori = %d\n", modori); return 0; } int kansuu(int hikisuu) { printf("kansuu de hyouji\n"); return hikisuu * 2; } 　以上のプログラムは参考書の内容ですが、コンパイルした結果が、 kansuu de hyouji modori = 4 　です。 二行目の 　　int kansuu(int hikisuu);がなくても、結果は同じでした。 　参考書の説明では 　「ここでは、関数kansuuの定義とプロトタイプ宣言に 、引数を追加しました。 　引数の名前はhikisuuとして、int型の値を記憶できるようにしました。 　int kansuu(int hikisuu);　←関数に引数を追加」 　以上、 　なぜ！参考書はint kansuu(int hikisuu);があるのかがわかりません！？ 　よろしくお願いします。 　
C言語でソケット通信をするプログラムの見本は、大体がサーバのプログラム内でサーバとクライアントのファイルディスクリプタを、クライアントのプログラム内でクライアントのファイルディスクリプタをcloseしてから終了しています。 でも、プログラムを終了させる時にopenしているファイルディスクリプタは自動的にcloseされるのだから、わざわざ明示的にcloseする必要がないと思います。 「明示的にcloseするのがマナーだから」という理由しか、調べても出てきませんでした。 明示的に全てのファイルディスクリプタをcloseする理由をご存知の方、教えてください。
ライントレースのタッチセンサー1つを使ってON/OFFができるようにしたいのですが 下記のソースだとライントレースをしていて、黒いラインの上にいるときにしかON/OFFできません。 これを白い部分（ラインから外れたところ）でもスイッチがきくようにするにはどのようにすればいいでしょうか？ /* ライトセンサーの判定値 */ #define kuro 10 /* Touch Sensor control */ /* タッチセンサーの状態を判断 戻り値 0:タッチセンサーが押されていない 1:タッチセンサーが押されている */ int GetTouch(unsigned char ch) { if (pAnalog->Pin6[ch][pAnalog->Actual[ch]] > 1000) { return 1; } else { return 0; } } int migi(unsigned char ch)/*右まわり*/ { MotorPower(CH_C, -20);/* 出力ポートCのパワーを-20％(逆回転)に変更 */ MotorPower(CH_B, 40);/* 出力ポートBのパワーを10％(逆回転)に変更 */ return 0; } int hidari(unsigned char ch)/*左まわり*/ { MotorPower(CH_C, 40);/* 出力ポートCのパワーを10％(逆回転)に変更 */ MotorPower(CH_B, -20);/* 出力ポートBのパワーを-20％(逆回転)に変更 */ return 1; } int mae(unsigned char ch)/*前進*/ { MotorPower(CH_C,45 );/* 出力ポートCのパワーを10％(逆回転)に変更 */ MotorPower(CH_B,40 );/* 出力ポートBのパワーを-20％(逆回転)に変更 */ return 1; } /* Light Sensor control */ /* ライトセンサーの値を取得 */ unsigned char GetSensor(unsigned char ch) { return((unsigned char)pUart->Raw[ch][pUart->Actual[ch]][0]); } int main(void) { int R = 0; MotorReset(CH_B|CH_C);/* モーターの状態をリセット */ MotorStart(CH_B|CH_C);/* モーター起動 */ while(1) {/* 永久ループ */ if(GetTouch(CH_2) == 1){ while(GetTouch(CH_2) == 0); MotorPower(CH_B|CH_C, 0);/*出力ポートB,Cのパワーを0にする*/ while(GetTouch(CH_2) == 1);/* はなされるまで待つ */ while(GetTouch(CH_2) == 0);/*押されるまで待つ*/ MotorPower(CH_B|CH_C, 40);/*出力ポートB,Cのパワーを50、50にする*/ while(GetTouch(CH_2) == 1); } clock_t start,end; if (GetSensor(CH_3) > kuro ){/* 入力ポート3のライトセンサーが設定値を超えている場合…*/ start = clock();/*時間測定スタート（ここから）*/ if( R == 1 ){ migi(CH_B|CH_C);/*右回り*/ }else{ hidari(CH_B|CH_C);/*左回り*/ }//elseのカッコ }//ifのカッコ while(GetSensor(CH_3) > kuro){/* 入力ポート3のライトセンサーが設定値を超えている場合…*/ end = clock();/*時間測定終了（ここまで）*/ if(((double)(end - start)/CLOCKS_PER_SEC)>0.2){ if( R == 1 ){ hidari(CH_B|CH_C);/*左回り*/ R = 0; while(GetSensor(CH_3) > kuro);/* 入力ポート3ライトセンサーが設定値を超えている場合は待つ*/ }else{ migi(CH_B|CH_C);/*右回り*/ R = 1; while(GetSensor(CH_3) > kuro);/* 入力ポート3ライトセンサーが設定値を超えている場合は待つ*/ }//elseのカッコ }//ifのカッコ }//whileのカッコ mae(CH_B|CH_C);/*前進する*/ }//whileのカッコ }//mainのカッコ
C#で作成した、CSVをFTPでウェブサーバにアップロードするプログラムがあるのですが、 運用と共にCSVファイルのサイズと数が増えパフォーマンスが悪くなってきたので、 CSVをZIPで圧縮することにしました。 C:\data\read.csv を読み込んで同じ場所に write.zip として出力するという処理を、 System.IO.Compression 系の ZipArchive を使って、 　　using (var zipStream = File.Create(@"C:\data\write.zip")) { 　　　　using (var archive = new ZipArchive(zipStream, ZipArchiveMode.Create)) { 　　　　　　var entry = archive.CreateEntry("read.csv"); 　　　　　　using (var sourceStream = File.OpenRead(@"C:\data\read.csv")) { 　　　　　　　　using (var entryStream = entry.Open()) { 　　　　　　　　　　sourceStream.CopyTo(entryStream); 　　　　　　　　} 　　　　　　} 　　　　} 　　} のようにしてみたところ、C:\data\write.zip は作成されるのですが、 これを解凍すると write\read.csv となってしまいます。 （write フォルダができて、その下に元のCSVができる。） 解凍した際にフォルダを含まないように （フォルダを含んだ圧縮ファイルにならないように） 圧縮することはできませんでしょうか？ よろしくお願いします。
#include<stdio.h> int i=3; int foo(){ i++; return(i); } int goo(int i){ i=foo(); return(i); } main(){ printf("%d\n",goo(1)); } このままこのプログラムを入力すると main(){　　のところに　 型指定子がありません - int と仮定しました。メモ: C++ は int を既定値としてサポートしていません と出るのですが、どうやったら上手く出来るのか分かる方いましたら宜しくお願いします。 それと、加えまして 上のプログラムの中で 関数foo()と関数goo()内の変数iの有効範囲は どこからどこまでなのでしょうか。 質問２つになってしまいましたが、片方でもわかる方宜しくお願いいますm(__)m
プログラミングについておききしたいのですが、 ライントレースで左右のカーブを曲がる際に 変数を使って、「さっきは右に曲がったので次は右から曲がる」や 「さっきは左に曲がったから左から曲がる」といったプログラムは どのようにつくったらいいのでしょうか？ まだ初心者なので変数をうまく使えなくて悩んでいます。 よろしくお願いします。 今のところ下記のような感じにできているのですが 修正点や加えた方がいい点、省略できる点はありますでしょうか？ よろしくお願いします。 mainの上は省略させて頂きました。 int main(void) { 　int R = 0; while(1) { 　if(GetTouch(CH_2) == 1){//タッチスイッチでのON/OFFスイッチです 　while(GetTouch(CH_2) == 0); 　MotorPower(CH_B|CH_C, 0); 　while(GetTouch(CH_2) == 1); 　while(GetTouch(CH_2) == 0); 　MotorPower(CH_B|CH_C, 40); 　while(GetTouch(CH_2) == 1); }else{　　//ここからライントレースの内容です 　clock_t start,end; 　clock_t start2,end2; if (GetSensor(CH_3) > kuro && R == 0) { 　start = clock(); 　migi(CH_B|CH_C); 　while(GetSensor(CH_3) > kuro){ 　end = clock(); 　start2 = clock(); if(((double)(end - start)/CLOCKS_PER_SEC)>0.2){ 　hidari(CH_B|CH_C); 　while(GetSensor(CH_3) > kuro); 　end2 = clock(); 　MotorPower(CH_B|CH_C,40); 　R = 1; 　break; } while( R == 1 ){ if(GetSensor(CH_3) > kuro){ hidari(CH_B|CH_C); while(GetSensor(CH_3) > kuro); MotorPower(CH_B|CH_C,40); R = 0; break; }else { if(((double)(end2 - start2)/CLOCKS_PER_SEC)>0.2){ migi(CH_B|CH_C); while(GetSensor(CH_3) > kuro); MotorPower(CH_B|CH_C,40); }//ifのカッコ }//whileのカッコ }//elseのカッコ }//whileのカッコ }//ifのカッコ }//elseのカッコ }//whileのカッコ }//mainのカッコ
プログラミング言語C,C++の数値計算に関する質問です． 整数データ変数同士のみの計算結果は小数点以下は切り捨てられますよね． もし実数型で計結果を得たいときは，int変数を(double)や(float)でキャストしてあげなければならないことは知っています． ここで，仮引数リストにdouble型変数が設定されている関数の引数にint型変数を与えた時，関数の呼び出し時にキャストしなくても自動でキャストされるのでしょうか． 以下のサンプルコードを作成し，実行してみた結果を次に示します． ---サンプル--- #include <iostream> using namespace std; void printDouble(double val, double val2) { cout << "(double)val = " << val / val2 << endl; } int main(void) { for (int i = 1; i < 5; i++) { cout << i / (i * 2) << endl; printDouble(i,i*2); } } -----実行結果---- 0 (double)val = 0.5 0 (double)val = 0.5 0 (double)val = 0.5 0 (double)val = 0.5 ------------------------- 関数の外での計算は整数に丸められてしまうので i / ( i * 2 ) 計算結果はゼロに，関数の中では与えられた i はdouble型として扱われるので小数点以下の値も残っているということですよね． この場合，printDouble関数へ整数を与えるときには printDouble( (double)i , (double)( i * 2 ) ); といったようにわざわざキャストしなくても自動で仮引数の型でキャストされて関数が呼び出されると理解してもよいのでしょうか． 実行結果から明らかだろ，思われてしまうかもしれませんが，何かの参考書に記述されているのを見たり，人からそう教わったわけではなく，また関数のオーバーロードのこともありますので，質問させて頂きました．よろしくお願いいたします．
min =a[0] for(i=1;i<n;i++) if(a[i]<min) min= a[i]; このソースプログラムをフローチャートにしたいんですがどうなりますか？
僕は1年間ぐらいC++を勉強してきて、一応基本はできるつもりなのですが、来年プログラマーとして、就職するので、また,C++の基本を復習するべきでしょうか？ それとも、応用を勉強していったほうがいいのでしょうか？ C++の応用のサイトを探しているのですがどれがためになるのかあまりわかりません。 就職先の会社は、組み込み系のソフトを開発している所です。 C++の応用を教えてくれるおすすめのサイトを教えてください。
Ｃ言語のソースコードをPickit3を使い書き込むと、表示されるエラーの意味をを何方か教えて下さいませんか、また出来ましたらその原因と解決策も教えて頂けましたら有難いです。 最近始めたばかりの素人です。 下記の二つのエラーです。 　　1. 「　Failed to Program devise　」 　　2.　「　unable to connect the targetdevisc Failed to Devise ID 」 環境は、windows8.1 MPLAB X ID XC8 PICkit-3 PIC12f683 です。 　　　　　Power を選択して、「　power target circuti from PICkit3 」にはチェックを入れてあります。 参考書のゴードを書き写しPICに書き込んでいます。一度で書き込みが成功するのは5割程度です。 頻繁にエラーが発生します。MPLAB　を起動し直したり　Pickit3の接続をやり直したり、すると成功します。 ※書き込む前のコンパイルは成功しています。
#include <stdio.h> int kansuu(int hikisuu1, int hikisuu0); int main() { int modori; modori = kansuu(2, 3); printf("modori = %d\n", modori); return 0; } int kansuu(int hikisuu1, int hikisuu2) { printf("kansuu de hyouji\n"); return hikisuu1 * hikisuu2; } 以上でが、コンパイルすると 　kansuu de hyouji modori = 6 　となり成り立ちますが！ 　int kansuu(int hikisuu0, int hikisuu1); 　としても成り立ちます。 int kansuu(int hikisuu1, int hikisuu1); 　にすると以下のエラーが出ます。 Line 2: error: redefinition of parameter 'hikisuu1' Line 2: error: previous definition of 'hikisuu1' was here 　 　なぜerroｒとなるのでしょうか 　よろしくお願いします。
要素数がnである配列aの要素の合計を求めるアルゴリズムのループ端によるフローチャートを完成せよ(後判定繰返し) sum =a[0] i=1; do{sum=sum+a[i]; i++; }while i<n; a[0] → sum 1 → i 後判定繰返し | □→sum; i+1 → i | □ 後判定繰返し □の中を埋めるんですが教えてください
お世話になります。 最近c++始めました。 stringの使い方がよくわかりません。 以下のstringの使い方が問題ないか確認頂けますか。 スマホで書くため、文法が合ってないと思いますが、stringの使い方だけ確認させてください。 引数にstringで囲って渡すのは実装として普通行いますか。 やってはいけないですか。 是非ご教示ください。 #define STR1 "mojiretu" main() if(check(string(STR1))) ｛ ｝ bool check(string str) ｛ ｝
ウィンドウプロシージャ関数を以下の様に配列で定義したいのですが、コンパイルエラーとなってしまいます。この問題の解決方法をご存知の方がおりましたらご教示ください。 LRESULT CALLBACK WndProcA(…) { return DefWindowProc (…) ; } LRESULT CALLBACK WndProcB(…) { return DefWindowProc (…) ; } LRESULT CALLBACK WndProcC(…) { return DefWindowProc (…) ; } int WINAPI WinMain(…){ static WNDPROC (*finc[])() = { (WNDPROC)WndProcA, (WNDPROC)WndProcB, (WNDPROC)WndProcC };
えっと、前回もSortのプログラムについて、質問させていただいたのですが、このプログラムでは、二つのファイルを使ってソートしてるのですが、一つのファイルだけを使って、それに上書きするためにはどうするればいいでしょうか？ 下に、ソースを貼っておきます。 #include <iostream> #include <fstream> #include <list> #include <string> using namespace std; int main() { char Str[255]; list<string> str; int count = 0; ifstream in("ttest", ios::binary | ios::in); if (!in){ cout << "入力ファイルが読み込めない" << endl; exit(1); } ofstream out("out", ios::binary | ios::out); if (!out){ cout << "出力ファイルが読み込めない" << endl; exit(1); } while (!in.eof()){ //!!!! in.getline(Str,255); str.push_back(Str); count++; } str.sort(); list<string>::iterator p; p = str.begin(); while(p!=str.end()){ out << *p << endl; p++; } in.close(); out.close(); getchar(); return 0; } よろしくお願いします。
VC++ 2010でソフトを作成しています。 そこでラジオボタンを使用して、項目を選択するように作成しているのですが、 最初にソフトを開いた時に、どこかがすでに選択されているようにする方法がわかりません。 教えて下さい。 　現在はアプリをたちあげるとラジオボタンにどれも選択されていません。
シリアル通信　大きいサイズの受信処理で質問があります OS：LINUX 開発環境　QT５．３ 今　相手側機器から10秒ごとに190011Byteのデータくるようなしようとなっています そこで質問ですが 受信側ではどのような処理を組めば10秒ごとに来るデータをすべて受信できるのか よろしくお願いします open関数やread関数などを使用しています ボーレート値は230400bpsです 送受信バッファは1024byteとなっています
visual studio2013を使っています。 ネットで調べているうちに、msvc12という表記とvisual studio 2013という表記の両方が出てくるので 混乱してきました。 素朴な疑問なのですが、 msvc12=visual studio2013なのでしょうか？ 12というのは2012の事かと思っていたのですが、違うのでしょうか？ 基礎的な？質問かもしれませんが、どなたかお答え頂けると非常にすっきりします。 助けてください。
VSC++でDLLのプラグインを作成しました。 このプラグインをモーションビルダーで使用します。 自分の開発していたPCでは問題なく起動し、動作しています。 しかし、VS環境のないPCで使用しようとしたところ次のようなエラーが出て読み込まれませんでした。 ・msvcr120d.dllがない ・msvcp120d.dllがない これに対応するにはどうしたら良いかわかりません。 プログラムのほうで何かをして対応できますか？ 使用するPC側にインストール等が必要になりますか？
お世話になっております。 ＯｐｅｎＣＶのエラーが解決せず困っています。 グレースケール画像170×170を 11×11枠のウィンドウで画像処理をして行きたいのですが 変数　x　の2回目のループでエラーが発生してしまいます。 「型 'System.Runtime.InteropServices.SEHException' のハンドルされていない例外が sample.exe で発生しました 追加情報: 外部コンポーネントが例外をスローしました。」 ROIの入れ物　dst_img をリセットしてみたり あれこれやってみたのですがどうもうまくいきません。 2回目でコケるというのも情けなく。 どこを修正すればいいか、ぜひアドバイスいただけたら助かります。 よろしくお願い致します。 dst_img = cvCreateImage(cvSize(11,11), IPL_DEPTH_8U, 1); int x, y, i; i = 1; for (y = 0; y < src_img_gray-> height; y = y +11*(i-1)+1) // y 座標を 11ピクセルずつ進める { for (x = 0; x < src_img_gray->width; x = x + 11*(i-1)+1) // x 座標を 11ピクセルずつ進める { dst_img = cvCreateImage(cvSize(12, 12), IPL_DEPTH_8U, 1); cvSetImageROI(dst_img, cvRect(y, x, 11, 11)); //出力先指定 　 　　　　　　　　　　　↓xの２ループ目で、ここでエラーが発生します。 out_img = cvCloneImage(dst_img); cvReleaseImage(&dst_img); i = i + 1; } } cvDestroyWindow("ROI");
自分で作成したプログラムなのですが、ソートしたあと、出力ファイルに書き込みたいのですが、書き込めません。 どこが、悪いのかわからないので教えてください。 ところどころに、出力がありますが、それはトレースしたやつなので、それはほっといてくださって構いません。 下にプログラムを載せます。 よろしくお願いします。 #include <iostream> #include <fstream> #include <list> #include <string> using namespace std; int main() { char Str[255]; list<string> str; ifstream in("ttest", ios::binary | ios::in); if (!in){ cout << "入力ファイルが読み込めない" << endl; exit(1); } ofstream out("out", ios::binary | ios::out); if (!out){ cout << "出力ファイルが読み込めない" << endl; exit(1); } while (!in.eof()){ //!!!! in.getline(Str,255); str.push_back(Str); } str.sort(); list<string>::iterator p; p = str.begin(); while (!in.eof()){ cout << *p; out << *p++; } in.close(); out.close(); getchar(); return 0; }
Ｃ言語の勉強をしている初心者です。 まだまだ始めたばかりでよく分かっていない状態です。 再帰的な関数が便利そうな事が書かれているのをよく目にしますが、何が便利でどう作ればいいのか分かりません。 分かりやすく教えていただけませんか。
QT グループボックスについて質問がございます 枠線を表示したのですがわからないためよろしくお願いします もし表示できない場合、ほかに枠線ありのグループボックスの表示の行い方をご存じでしたら よろしくお願いします。 環境 Qt 5.3.2 OS:Linux ちなみにQt Designerで作成していて、今回の問題が発生したためお願いします
初期動作確認時にiOS Simulatorの画面が黒くなってしまいます。Errorは(1)unable to boot the ios simulator (2)unable to run app in simulator と出ます。 OS X 10.9.5 Xcode 6.0.1 この件に関して調べてやってみた事は下記です。 ・xcodeのメニューから Product > Clean , Product > Bulid ・Open Xcode 6 beta Go to the menu Xcode > Open Developer Tool > iOS Simulator Even if an error dialog shows up, you still would have access to the iOS Simulator's menu Select Hardware > Device > Manage Devices Click on the little + sign at the bottom Add (if missing) all the devices that you want, or delete and recreate the ones malfunctioning. If anyone of the simulator is not working then right click on it and delete it and then re-create it again 何故動かないのでしょうか・・・ iOS SimulatorでiOS8.0から HardWare > Device > iOS7.1 を選択すると、黒い画面にアイコンが表示されますが・・・ どなたか知恵をお借りさせて頂きたいと切実に思います。 よろしくお願いします。
いまさら、のしつこいような質問で゛申し訳ありません。 今だによくわかっていないので、教えてください。 今、64bitのwindowsのwowで動いている32bitアプリを純粋に!? 64bit上で動かすにはどうしたらよいか、、、 コンパイラーを64bit版にする程度しか、わかりません。 ソースコード的にどれ（データ型？、関数？）をどのように直せばいいのか、 探すのは得意なほうだと思っているのですが、なかなか見つかりません。 下記の情報はあってるでしょうか？ int CString time_t などが変更必要？という情報は見つけましたが、（あってますか？） int　→　long? 、 printf()では　%d →　%ld?　 CString　→　リコンパイルだけでよい? time_t　→　使ってますがソースコード的にどう変更したらよい？ 他にもいろいろあると思うのですが 対象のアプリがかなり旧いので（VisualStudio6.0 c++）、よけい探せないのかも知れません。 VisualStudioも64bit対応用に新しく買ってもらわないといけないと思うのですが はたして使いこなせるか。（これは別問題ですね） 修正規模を出せと言われてるのですが、 どう返事をしたら良いものか、 どうかアドバイスをお願いいたします。
linux上のgccを用いて計算処理をさせるつもりです。 １．下記の動作はうまく行きました。（フォルダ名を一部伏字にしています）。 sprintf(input_file,"./w****/o*****/%d.txt",i); sprintf(output_file,"./testout/%d.txt",i); input_fileを入力し、計算処理し、output_fileに出力する。 計算しやすいようにファイル名は自然数を使います。 2. ただし、下記の動作はうまく行かないです。 sprintf(input_file,"./w****/o*****/live/%d.txt",i); sprintf(output_file,"./testout/%d.txt",i); PCの動作が中断します。 input_fileの階層が一段増えたせいなのかもしれません。 どなたか解決法を教えてください。
（１）（２）（３）（４）（５）（６）・・・・ と数字があり　これを１００回繰り返すとします。 さらにそれらを、１と２、３と４というように ペアを作って行きます。 [（１）（２）]　[（３）（４）]・・・・ さらにその各数字から返り値が受けれるとして ペアのどちらかがFALSEの場合は排除します。 [（１）TRUE（２）TRUE）]　 [（３）FALSE（４）TRUE] [（５）TRUE（６）TRUE] ↓ [（１）TRUE（２）TRUE）]　 [（５）TRUE（６）TRUE）]　 これをC言語系のプログラム的に書くとしたら どうなるでしょうか。
VisualStudio2013 でC#を使って開発を行っています。 クラスのコピーについて質問させてください。 　　　　public class Config 　　　　{ 　　　　　　public int H; 　　　　　　public int V; 　　　　　　public object Clone() 　　　　　　{ 　　　　　　　　return MemberwiseClone(); 　　　　　　} 　　　　} 　　　　public class Test 　　　　{ 　　　　　　void Hoge() 　　　　　　{ 　　　　　　　　Config org = new Config(); 　　　　　　　　org.H = 10; 　　　　　　　　org.V = 20; 　　　　　　　　 　　　　　　　　Config copy; 　　　　　　　　copy = (Config)org.Clone(); 　　　　　　} 　　　　} 　　　　 このように記述した際にcopy とorgが別インスタンス?(アドレス?)を指していることは理解できています。 この場合、Clone()を読んだ際にnewされるイメージですが、 先にnewしたインスタンスに値だけを渡す方法はありますでしょうか？ 　　　　　　　　Config copy = new Config(); 　　　　　　　　// copy = org; // orgの中の値だけをcopyへ渡したい class Config に 　　　　　　public void Copy(Config cfg) 　　　　　　{ 　　　　　　　　cfg.H = this.H; 　　　　　　　　cfg.V = this.V; 　　　　　　} と記述して、Clone()の代わりにすれば実現できるかなと思うのですが、実際は複雑なクラスの為うまいやり方がないかと思いました。 間違いやアドバイス等ありましたらなんでも良いのでお願いします。 よろしくお願いします。
「Windows Embedde CE 6.0 R2のアプリでダイアログ表示でメモリリークする」 http://social.msdn.microsoft.com/Forums/ja-JP/007b07a9-c5b3-48ed-95f3-a934b91defcb/windows-embedde-ce-60-r2?forum=wpappsja 上記マイクロソフト運営のフォーラムで議論されている現象が 正に発生している者からの質問です。 ただし、厳密には私の実行環境は「Windows CE 5.0」です。 当質問の質問者様が自己解決した方法に従い AfxGetApp()->OnIdle(0); while( AfxGetApp()->OnIdle(1)); を随時実行するようにしたのですが、残念ながら効果がなく、 質問者様と同様にメモリが4KByte毎に減っています。 そこで、回答者様のアドバイスに従い CWnd::GetDlgItem() を用いている箇所を廃止しようと考えているのですが、 恥ずかしながら代替案が見つかりません。 具体的には CWnd::GetDlgItem() を用いて取得したポインタを取得して GetDC SetFont SetWindowPos といった関数を実行しています。 CWnd::GetDlgItem()の代替となる手法があればご教示頂きたいと思います。 その他「全面回収すべきだろう」などといったコメントでも歓迎です。
現在開発環境QT5.3を使用しシリアル通信のプログラムを組んでいるんですが 以下のエラーが発生し、調査を行っても不明なため質問させていただきました OS：WindowsXP 開発環境：QT 目的：RS422通信 まずシリアル通信ポートがパソコンに標準でついていないため、インターフェースから PCIタイプのシリアル通信ボードを購入し、取り付けました メーカの自己診断、メーカの送受信は確認し文字の送受信を確認しました。 デバイスマネージャで確認し、"COM3"と"COM4"であることを確認しました。 そこでQTでプログラムを組んでいくとCreateFile関数でエラーが発生することを確認しました GetLastError関数の戻り値を確認すると0を返すことを確認しました。 以下が今回記述したプログラムのソースコードとなります。 #include <windows.h> #inlclude <stdio.h> #include <stdlib.h> #include <string.h> void MainWindow::Serial_open() { HANDLE hPort; SetLastError(NO_ERROR); hPort = CreateFile((LPWSTR)"COM3",GENERIC_WRITE | GENERIC_READ,0,NULL,OPEN_EXISTING,FILE_ATTRIBUTE_NORMAL,NULL); if(hPort==INVALID_HANDLE_VALUE) { DWORD dw = GetLastError(); //ここで戻り値0がくる。 } } 以上よろしくお願いします
先ほども質問をさせていただいた中１男子の母です。 最近、息子が Visual C++ 2010も始めたのですが、 わかりにくいので参考書がほしいそうです。 こちらのほうもおすすめの参考書はありますでしょうか。
関数のプロトタイプ宣言の文法は、次のようになります。　 　型　関数名（引数）； 　関数定義から処理部分を取り除き、ひとつのステートメントとして完結するように、文末に； を付けてたものになります。 　基本的に関数を呼び出すための形式を宣言するためのものですから、型、関数名、引数は 関数定義と同じになります。プロトタイプ宣言は、対象となる関数を呼び出す前に行う必要があります。 　 　 以上は参考書の説明ですが！「関数定義から”処理部分”を取り除き」とあります。 　その中の”処理部分”とは何を指すのでしょうか！？ 　宜しくお願いします。 　
最近プログラムを学んでいる初心者の者です。 私は床井研究室の”GLUTによる「手抜き」OpenGL入門”というサイトを使い学んでいるのですが、最初の段階でつまずいてしまいました。 最初のウィンドウを開く段階で #include <GL/glut.h> void display(void) { } int main(int argc, char *argv[]) { glutInit(&argc, argv); glutCreateWindow(argv[0]); glutDisplayFunc(display); glutMainLoop(); return 0; } とすると書いてあるのですが、 最初の#includeのところがペーストしてもエラーが出ます。 あと他のサイトを見ると#includeが複数書かれているようです。 何か解決する方法はありますでしょうか。 ちなみに 私が使っているのはwindows7です。 どうかお願いします。
趣味でプログラムを勉強しております。 とある書籍にてリスト構造を辿るソースが以下の様になっていました。 struct List{ 　省略 　struct List *next; }; struct List *p; struct List *header; /* ここでリスト構造作成 */ /* リスト構造を辿る */ for(p = header; p; p=p->next) リストの最終要素のnextはNULLを指しています。 私の環境ではNULLは0(番地？)を指していたので for文のループ継続条件として上記の書き方で動作しました。 質問なのですが、他の環境でもこの書き方で正常に動作するのでしょうか？ つまりNULLは必ず0(番地？)を指していることが保証されているのでしょうか。 それとも以下の様に書いた方が良いのでしょうか？ for(p = header; p != NULL; p=p->next) よろしければ、ご教示いただけますと幸いです。
今使ったのはMicrosoft Visual Studio 2010のアプリ 以下のプログラムはダイアログボックス表示で0から9のボタン入れでます、普通の電卓作りたいです、計算のプログラムわからないので、どうすればいいですか？ #include <windows.h> #include "resource.h" #include <tchar.h> // プロトタイプ宣言 BOOL CALLBACK DlgWndProc ( HWND , UINT , WPARAM , LPARAM ) ; void sub( int no , HWND hWnd ) ; static int cnt ; int a , b ; static int c ; // エントリポイント int APIENTRY WinMain ( HINSTANCE hInstance , HINSTANCE hPrevInstance , LPSTR lpCmdLine , int nCmdShow ) { DialogBox(hInstance , MAKEINTRESOURCE(IDD_DIALOG1) , NULL , (DLGPROC) DlgWndProc ) ; return 0 ; } /* ------ ダイアログボックスウインドウプロシージャ ----- */ BOOL CALLBACK DlgWndProc ( HWND hWnd , UINT message , WPARAM wParam , LPARAM lParam ) { TCHAR s[80] ; switch( message ) { case WM_INITDIALOG : cnt = 0 ; return TRUE ; case WM_COMMAND : switch ( LOWORD(wParam) ) { case IDC_1 : sub ( 1 , hWnd ) ; return TRUE ; case IDC_2 : sub ( 2 , hWnd ) ; return TRUE ; case IDC_3 : sub ( 3 , hWnd ) ; return TRUE ; case IDC_4 : sub ( 4 , hWnd ) ; return TRUE ; case IDC_5 : sub ( 5 , hWnd ) ; return TRUE ; case IDC_6 : sub ( 6 , hWnd ) ; return TRUE ; case IDC_7 : sub ( 7 , hWnd ) ; return TRUE ; case IDC_8 : sub ( 8 , hWnd ) ; return TRUE ; case IDC_9 : sub ( 9 , hWnd ) ; return TRUE ; case IDC_0 : sub ( 0 , hWnd ) ; return TRUE ; case IDC_CLOSE : EndDialog( hWnd , 0 ) ; return TRUE ; default : return FALSE ; } default : return FALSE ; } } /* ------------------------------------- */ /*表示 */ /* ------------------------------------- */ void sub( int no , HWND hWnd ) { TCHAR s[20] ; cnt *= 10 ; cnt += no ; wsprintf( s , TEXT("%d") , cnt ) ; SetWindowText( GetDlgItem(hWnd , IDC_EDIT1) , s ) ; }
IPv6対応でinet_ptonを利用したのですが、下記ビルド時にエラーが発生します。 error C4013: 'inet_pton' undefined; assuming extern returning int 調べた結果下記のヘッダファイルとライブラリーを読みこめばいいという 記載を見かけて、追加したのですが、それでも同様のエラーが発生します。 (下記に関するエラーはなかったので、"ws2_32.lib" に対してはリンクが通っていると思います。) #include <Ws2tcpip.h> #pragma comment( lib, "ws2_32.lib" ) ご教示のほどよろしくおねがいします。 環境: Windows7 64bit WDK7.1
表題の通りです。 UTF-32の改行コードってなんなんでしょうか。 UTF-16の場合「0x0d0x000x0a0x00」 UTF-8の場合「0x0d0x0a」 ですよね？ UTF-32の場合「0x0d0x000x0a0x000x000x00」？ お分かりの方教えてください。m()m
cmdで使用を想定したソフトがあるのですが、 それをC Sharpで使用は可能でしょうか？ また、それらを使用してのパイプ処理もあるので、 C Sharpでｃｍｄと同じようにパイプ処理ができるかも気になります。 よろしくお願いします。
お世話になります。 初歩的な質問でスミマセンが visual studio 2010でプロジェクトのProductVersionはどこで変更できるのか教えていただけないでしょうか。 プロジェクトのプロパティを何度も見直しているのですが、見つかりません。
visual stdio 2013 デスクトップ版のものを使い、下に書くプログラムを作ったのですが、 visual stdio 2013では、ファイルが開けませんとなり、途中で、終了してしまうのですが、mingwでは、ちゃんとファイルが開けて、プログラムが、最後まで動作するのですが、なぜでしょうか? 原因を詳しく教えてください。また、改善方法も教えてください。 プログラム #include <iostream> #include <fstream> #include <ctime> #include <cstdlib> #include <list> #include <string> using namespace std; int main() { srand((unsigned)time(NULL)); list<string> str; char sstr[255]; int count = 0; int i; ifstream in("ttest", ios::in | ios::binary); if (!in){ cout << "入力ファイルが開けません\n"; getchar(); return 1; } while (!in.eof()){ in.getline(sstr, 255); str.push_back(sstr); count++; } i = rand() % count ; list<string>::iterator p; p = str.begin(); for (int j = 2; j <= i; j++)p++; cout << *p; cout << endl; getchar(); return 0; }
閲覧ありがとうございます。 C言語についての質問です。 nと、2つのn×n行列の各成分をキーボードから入力し、 その和を計算するプログラムを作ろうとして i,j,と行列二つの配列(a[n][n]とb[n][n])をintで定義した後、 printf("行列aの成分を入力してください。\n"); for(i=0; i<=n-1; n++) {for(j=0; j<=n-1; j++) { scanf("%d",&a[i][j]); } } printf("行列bの成分を入力してください。\n"); for(i=0; i<=n-1; n++) {for(j=0; j<=n-1; j++) { scanf("%d",&b[i][j]); } } というプログラムを書いてn=3としたのですが、 「行列aの成分を入力してください」と表示されて 例えば「1 2 3 4 5 6 7 8 9」と入力してEnterキーを押しても 「行列bの成分を入力してください」という文が表示されません。 C言語を学び始めてまもないので、 まだ基本的なところが理解できていないかもしれません。 何が原因だかわかる方、解答頂けると嬉しいです。
参考書をみてC言語でコードを書写しました。コンパイルしエラーを修正していって最後に残ったエラーが次のものです. :0: error:undefined symbol: とあります。 この意味は何を意味していますか、また処理はどのようにすれば解決できますか、何方か教えて頂けませんか。 環境は、Windows8.1 ・ MPLAB X IDE ・ XC8 ・ PIC1２Ｆ６８３　・ＰＩＣkit-3　です。 　「自分なりに考えましたが、０行目、シンボルに問題があるのかな？なんて思いますがぜんぜん手がでません。」
C言語でのマイコン開発環境に付属しているヘッダーファイルにはレジスタを共用体と構造体でアクセスできるようにしてあります。 アドレスを割り付ける部分の記述は一行ですが、意味を考えた時に構文が複雑すぎて躓いてしまいました。 #define PD (*(volatile struct st_pd *)0xFFFF83A0) /* PD Address*/ 後ろの"*"はst_pdのポインタ型だとして前の"*"はどういう効果になっているのでしょうか？ また、複数行に分解して同じ効果を書くこと（例えば変数unsigned long valにアドレス0xFFFF83A0を割り付け）は出来るのでしょうか？ 理解を助けるためにお願いします。
　文字列をポインタを使って扱うとき、例えば、初期化は次のように行えますよね。 #include <stdlib.h> char *s; s = (char *)malloc(1000); （これに続いてscanf("%s", s）;など） 　これと同様にして、二次元の配列を、ポインタのポインタを使って表したいとき、 char **s; と宣言したものを、malloc()関数を使って初期化することはできるのでしょうか。よろしくお願いします。
QT5.3.2 複数のダイアログ表示について質問がります まず自分の現在の環境は、 OSがLinuxのDebian 開発環境:QT5.3.2 で開発しています。最近仕事で始めるようになり ちょっと大きな壁に行き詰っていたので質問いたしました ・QT Disignerで複数のフォームを作成いたしました。仮にメインのフォームをA、サブ１のフォーム」 　をB、サブ２のフォームをCとおきます メインのフォームの上半分を何もボタンなどおいておらず隙間を開けています そこで質問ですが、そこにフォームBやフォームCを表示・非表示したいと考えていますが どのようにおこなったらよいのかわかりませんよろしくお願いします ちなみに、VS2010　C++　MFCではフレームを置き、そこでダイアログの入れ替えを行っていた記憶がありますが、今回はどのようにしたらメインのフォームの上半分にほかで作成したフォームを表示するのかわかりません。 以上よろしくお願いします。 　
フォームアプリを作成しており、実装に関して不明点があるため質問させて頂きます。 やりたいこととしては、Formでないファイル(クラス)でFormのコンポーネントを 操作したいことです。 具体的に、重たい処理を別スレッドで処理させて、処理中の経過をFormの プログレスバーに表示することです。 重たい処理は別ファイル(クラス)で行います。 以下に大まかなコードを記載します。 ----------------------------------------------------- ---- Form.h ---- #include "Main.h" namespace XXX { public ref class Form1 : public System::Windows::Forms::Form { 　Main^ mMain; 　 　// ボタン押下 　private: System::Void btn_Click(System::Object^ sender, System::EventArgs^ e) { 　　backgroundWorker1->RunWorkerAsync(); 　} 　// ワーカ 　private: System::Void backgroundWorker1_DoWork(System::Object^ sender, System::ComponentModel::DoWorkEventArgs^ e) { 　　mMain->func(); 　 　} }; } ---- Main.c ---- Main::func() { 　// 処理をしつつプログレスバーのValueを更新 } ----------------------------------------------------- 重たい処理をForm内で処理するのであればデリゲートを使用すれば出来そうです。 上記のようなケースでも適用できますか？ また、別の方法があれば教えてください。
お世話になります visual studio 2010で教えていただきたいのですが 前任者から引き継いだ段階で、既に未使用のDLLがあり、 これを削除したいのですが、方法を教えていただけないでしょうか。 下記２か所で表示されるXXX.dllを削除したいのです (1)プロジェクトのプロパティ⇒構成プロパティ⇒C++⇒コマンドライン 「/FU"C:\・・・\XXX.dll"」 ※クリックでカーソルは表示＆移動できるのですが、削除＆編集ができません。 　　ここは、表示だけで、どこかに編集するところが有るのでしょうか？ (2)ソリューションエクスフローラ⇒Setup⇒見つかった依存関係 「XXX.dll」 ※右クリックでメニューが表示されますが、「削除」の項目が無く、現在は「除外」を選択しています。
C言語でISOイメージファイルを作成（書き込み）したいと思うのですが、参考になるソース又はライブラリ（DLL）はないでしょか？ 解凍はuniso.dllというものがあったのですが、その逆をしたいと思っています。 よろしくお願いします。 環境：Windows7
お世話になります。 C#にて、付箋紙の様な簡易メモ帳を作ろうとしています。 フォーム上にテキストボックスを配置し、テキストを入力後、 そのフォームが非アクティブになった時、つまり、デスクトップや 他のウインドウに切り替わった瞬間に(フレームの色が変わった時) 自動保存させたいと思うのですが、なかなかうまくいきません。 方法をお教えください。 尚、現在はLeaveイベントで取得しようとしてみましたが、 フォーム内では発生しますが、違うウインドウに切り替えただけだと 発生しません。 以上、よろしくお願いいたします。
STL (Standard Template Library)の日本語の説明においてよく - コンテナ - イテレータ - アルゴリズム があるとの説明があります。 (例えば http://homepage2.nifty.com/well/STL.html#ALGORITHM ) 洋書のSTLの本を読むと"generic algorithm"という用語が出てきました。 日本語説明の「アルゴリズム」と洋書の"generic algorithm"とは同義なのでしょうか? あるいは、アルゴリズムの中の細分類としてgeneric algorithmがあるのでしょうか? 細分類としてある場合は、generic algorithm以外にどういうalgorithmがあるのかを知りたいと思います。
C# を使用しています。 たとえば { 　string str; 　MessageBox.Show(obj.GetType().Name); } これだと[string]が表示されます。 次に { 　List<int> ilist = new List<int>(); MessageBox.Show(obj.GetType().Name); } これだと[List`1]が表示されます。 これだけでもListってことだけはわかるのですが 最後に { 　List<int> ilist = new List<int>(); 　List<string> slist = new List<string>(); 　MessageBox.Show(ilist.GetType().Name);　　//→[int] 　MessageBox.Show(slist.GetType().Name);　　//→[string] } この場合に [string],[int]と表示させるにはどうすれば よいのでしょうか？
お世話になっております。王次郎です。 さて、今回の質問は、 windows7で、ネットワークへの接続と切断を簡単に切り替えたく、 コマンドか、C++関数での 方法を探しています。 （詳細） 当方、パソコンでローカルな作業をする際に、インタネットにつながっていると 不都合な場合がございます。ただし、普段はネットワークに接続して メール送受信やインタネット接続を行う必要があります。 という訳で、ネットワーク接続のオン・オフを簡単に行いたいと考えてます。 例えば、コマンドプロンプトのコマンドを使って、batファイルにしておく事を考えてます。 もしくは、C++も使えるので、C++関数で簡単にネットワーク接続状態を変えられる関数が あるとうれしいです。 よろしくお願いします。
粗末な質問タイトルで申し訳ありません。 Visual C++2010で、includeを書かずにclass宣言を行おうとすると「Error:PCH警告」が発生します。 この理由をご教授ください。 IntelliSense: PCH 警告: 適切なヘッダー停止位置が見つかりません。 というエラーメッセージが表示されるのですが、これはプロトタイプ宣言がないときに発生する警告らしいですね。私が書こうとしているソースコードを次に示します。 -----main.cpp---- class TestClass {}; int main(void) { return (0); } ----------------- このソースで、"class"の部分に赤波線が引かれて先述のエラーメッセージが表示されます。 このソースの先頭に#include<iostream>なり#include<stdlib.h>なり何かインクルードを記述すると警告はなくなります。 しかしクラスはその枠のみですし、ライブラリ関数も何も使用していないのでとくに必要なインクルードファイルも何もないと思うのですが、どうしてこのようなエラーが発生するのでしょうか。 あと、蛇足になりますが、本来はクラス宣言部分を別のヘッダーファイルに分けたいのです。 クラス宣言部分を別のヘッダーに分離してヘッダーの先頭に #pragma once を記述するか、分離したヘッダをmain.cpp内でインクルードしてもエラーは解消されます。 （何からもインクルードされなかったらエラーになる） もう何が何やらさっぱりわからないです＞＜
私、Microsoft Visual C++2010 Express を使用し勉強しているビギナーです。 文字数に制約があるとおもいますので、要点だけ記します。 コマンドプロンプトを操作する過程で、「〇〇〇は内部コマンド、操作可能なプログラム又はバッチファイルに認識されていません」メッセージがあり、各サイトを検索したところ、「環境変数 Path」を追記設定しなければならないという事が解りましたが、初めてなものですから、どの様に追記するのかが解りません、具体的にご教授頂ければと思い投稿しました。 ディレクトリの過程は、C:\User\YUZO>Documents>Visual Studio 2010> Projects>Sample>Sample>となっていまして最後のSample>の中に、System1.cppというファイルを作成しています。同様にSampleとは別のプロジェクトに、C:\User\YUZO>---中略---Projects>Test>Test>の中に、Main1.cppというファイルを作成しており、両方共、上記のメッセージが表示されます。 「環境設定」を開くとデフォルトでPathは、全部表示させたところ、次の様になっていました。「Microsoft SQL Server\100\Tool\Binn;C:\Program Files\Microsoft SQL Server\100\DTS\Binn\」ここに私の場合どの様に追記すれば良いのか、具体的に教えて下さい。説明に不備があるとは思いますが宜しくお願い致します。 OS---Windows7
　EnumWindows( EnumWndProc,(LPARAM) NULL); この記述の行で下記のエラーが出ます。 宣言は　BOOL CALLBACK EnumWndProc(HWND hWnd, LPARAM lParam);　としてあります。 error C2664: 'EnumWindows' : 1 番目の引数を 'int (struct HWND__ *,long)' から 'int (__stdcall *)(struct HWND__ *,long)' に変換できません。 (新しい機能 ; ヘルプを参照) スコープ内でこの名前を持つ関数でターゲット型に一致するものはありません。 キャストすればよいのかと思い下行のようにしました。 　EnumWindows((__stdcall *) EnumWndProc,(LPARAM) this); そうすると次のエラーになります。 error C2059: 構文エラー : '__stdcall' このエラーを回避するにはどうしたらよろしいのでしょうか。 皆様ののお知恵を拝借させてください。 よろしくお願いいたします。
関数オブジェクトとvector<double>のデータ点セット(x,y)を与えたら、 与えた関数オブジェクトの関数に従って最小二乗法を実行してくれるような Linuxで使えるC++のフリーライブラリはないでしょうか。Cでもいいです。
C＃にてフォームアプリを作成しています。 そこでツリービューに表示されたノードを右クリックしたときにコンテキストメニューが表示される ように下記のように記述しました。表示されたノードの上で右クリックすると「Export」、「Import」 というメニューが表示されます。 しかし、イベントハンドラの書き方がよくわかりません。 「Export」又は「Import」がクリックされたというイベントはどう検出すればよいでしょうか。 // ノード右クリック時の動作 private void treeView1_MouseDown(object sender, MouseEventArgs e) { // 右クリックでもノードを選択させる if (e.Button == MouseButtons.Right) { // ノードの選択 treeView1.SelectedNode = treeView1.GetNodeAt(e.X, e.Y); // コンテクストメニューの作成 ContextMenuStrip contextMenu = new ContextMenuStrip(); ToolStripMenuItem openLabel = new ToolStripMenuItem(); openLabel.Text = "Export"; ToolStripMenuItem deleteLabel = new ToolStripMenuItem(); deleteLabel.Text = "Import"; contextMenu.Items.Add(openLabel); contextMenu.Items.Add(deleteLabel); // ツリービューにコンテキストメニューを追加 treeView1.ContextMenuStrip = contextMenu; } }
VC++2010でwindowsアプリケーション(CLI)を作成しています。 その中で1000次元の整数ベクトルのパワーを求めるために概略次のような計算をしています。 int v[1000]; //v[0]～v[999]に整数値を代入後 long long int power = 0; for(int i = 0; i < 1000; i++){ power += v[i] * v[i]; } この計算を数万回繰り返す必要があるため、是非高速化を図りたいのですが、CPUのベクトル計算機能等を利用して高速化することができるでしょうか？
#include <stdio.h> #include <string.h> int main() { int suuretsu[10]; int *p; for ( p = suuretsu; *p != 0; p++ ){ printf("p=%p *p=%d\n", p, *p); } } 　以上のプログラムで！ 　「配列変数」が”どこ”に当たるのか 　？いまいちピンとこないです！。 　参考書にも「配列変数」の解説がありません！ 　ググッたら・違ったプログラムでの解説はあり、 　なんとなく分かりはしました。 　　しかし！プログラムが変わるとニュアンスの違いで！ 　また違った関係があるみたいでいまいち分かりません-- 　 　ここでいう、「配列変数」はどこに当たりますか！？ 　宜しくお願いします。 　
VisualStudio2013 でC#を使って開発を行っています。 プロジェクトのアセンブリバージョン、ファイルバージョンの書き換えについて質問させてください。 一つのソリューションの中にいくつかのプロジェクトがあり、 そのバージョンを一つ一つ変更するのが手間なのでバージョンだけを書いたプロジェクトを作り それを各プロジェクトから参照出来ないかと考えました。 VersionLibというプロジェクトを作成しその中に下記のものを作成しました。 /// <summary> /// ヴァージョン管理用クラス /// </summary> public class version { // ヴァージョン情報 public const string A_Lib_Ver = "0.1.0.0"; public const string B_Lib_Ver = "0.1.0.0"; public const string C_Lib_Ver = "0.1.0.0"; public const string TestPrj = "0.1.0.0"; public const string verson_Ver= "0.1.0.0"; } 各プロジェクトのAssemblyInfo.cs の中で [assembly: AssemblyVersion(version.A_Lib_Ver)] [assembly: AssemblyFileVersion(version.A_Lib_Ver)] のような形で記述しました。 ソリューションの構成は TestPrjというプロジェクトがA_Lib、B_Lib、C_Libという3つのプロジェクトを参照しています。 上記の1+3のプロジェクトはVersionLibプロジェクトを参照しています。 A_Lib、B_Lib、C_Lib及び、VersionLibプロジェクトのビルドは通るのですが、TestPrjのビルドが通らず 「エラー16ファイル "C:\\TestPrj\Version\bin\Debug\Version.dll" を "bin\Debug\Version.dll" にコピーできません。別のプロセスで使用されているため、プロセスはファイル 'bin\Debug\Version.dll' にアクセスできません。」 と表示されエラーになってしまいます。 ビルドの順番を変えてみたりしましたが変化はありませんでした。 また一度VisualStudioを閉じて再度ソリューションを開くと添付の画像のエラーがでました。 この現象の解決方法がありましたら教えていただきたいです。 また、別の方法でバージョンをまとめて変更できる方法がありましたらそちらでも結構なので教えていただけたら嬉しいです。 宜しくお願い致します。
VC++にて、button１をクリックしたら、textBox1に入力された数字の文字列(10進数)を数値に変換して、x等の変数に１６進数で格納したく。 下の　{ }　の部分にどのように書けばいいのでしょうか？　 初心者につき、できるだけ噛み砕いて、説明を加えて、回答お願いします。 また、textBox1に数字以外が入力されたら、エラー検出が可能であれば、その方法も教えて下さい。 private: System::Void button1_Click(System::Object^ sender, System::EventArgs^ e) { }
linux（ubuntu)の上でｇｃｃを使っています。 powの関数がおかしいです。 pow(10,-1)を計算させると正しく1e-1が出力されます。 #include <math.h> #include <stdio.h> int main(void){ double x = -1; printf("%f",pow(10,x)); return 0; } 上記のプログラムを走らせると、 In function "main"; *****.c:(.text+0x2d):undefined reference to 'pow' collect2:　ldはステータス１で終了しました。 というエラーメッセージがでます。 なぜかpow関数の中に変数を入れるとプログラムが動きません。
あるdatファイルに時間と振幅のデータが入っているんですが振幅のデータのみを2乗してから２乗したものに1/2乗し正のものだけから振幅の最大値を求め、振幅の最大値の２割に達した時間を出力したいのですが、どのようにすればよいか分かりません。 サンプルプログラムを載せますのでおねがいします。 ちなみにdatファイルには 時間　振幅 時間　振幅 … となっています。 #include <stdio.h> int main(void) { const char * fname = "C2.dat"; char line[BUFSIZ]; double amp, time,arrival, max=0,max20; FILE *fp = fopen(fname, "r"); while (fgets(line, BUFSIZ, fp)) { sscanf(line, "%lf%lf", &time, &amp); if (amp > max) { max = amp; } } fclose(fp); printf("max: %.7lf\n", max); fp =fopen(fname,"r"); while (fgets(line, BUFSIZ, fp)){ sscanf(line, "%lf%lf" , &time, &amp); if(amp > max*0.2){ arrival = time; break; } } fclose(fp); printf("arrival:%.16lf\n",arrival); return 0; }
c言語についての質問です。あるdatファイルに振幅と時間のデータが保存されています。 このdatファイルを読み込み振幅の最大値を求めてから振幅の２割の値を求めます。 そこから再度読み込み振幅の２割を超える時間まで読み込み越えた際の時間を出力したいのですが上手くいきません。途中がけのプログラムをのせるのでお願いします。 datファイルには 時間 振幅 時間 振幅 … のようになっています。 #include <stdio.h> #include <math.h> int main(void) { const char * fname = "C1rbc1(50,0)sq,almi00001.dat"; char line[BUFSIZ]; double amp, time,arrival, max=0,max20; FILE *fp = fopen(fname, "r"); while (fgets(line, BUFSIZ, fp)) { sscanf(line, "%lf%lf", &time, &amp); if (amp > max) { max = amp; max20=max*0.2; } } fclose(fp); printf("max: %.7lf\n", max); printf("0,2*max:%.7lf\n",max20); int main(void) { FILE *fp =fopen(fname,"r"); while (fgets(line, BUFSIZ, fp)){ sscanf(line,"%lf%lf",&time,&amp); if(amp>max20){ arrival=time; break; } } fclose(fp); printf("arrival:%.7lf\n",arrival); return 0; } }
プログラミング初心者です。 C言語の入門書はとりあえず勉強しました、現在はC++をさわっています。 数値が入っている配列 image[180][180] の値を使ってバイナリ形式の画像を作りたい と考えています。調べてみると下のような書き方をしています ofstream ofs("out.bin", ios::binary); ofs.write(reinterpret_cast<char *>(&a), sizeof(a)); この書き方をすると1ピクセルの値が書き込めるのでしょうか？それぞれの数値の間には ”,”のようなものを入れなくていいのでしょうか？改行はどうすればいいのでしょうか？ ヘッダー部分が必要なのでしょうか？ 一番簡単に配列の数字からバイナリ形式の画像を作る方法を教えていただきたいです。 宜しくお願いします。
エディタ:Notepad++ notepad++のNppExecというプラグインを使い、いろいろなサイトとファイルを参考に以下のコマンドを記述しました。 NPP_SAVE CD $(CURRENT_DIRECTORY) C:\borland\bcc55\Bin\bcc32.exe -I -L "$(FILE_NAME)" Console画面には、 Current directory: C:\[フォルダ名] Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland [ファイル名].c: Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland ================ READY ================ と表示されました。　私には何をやっている文章なのかよくわからないのですが、 .cのファイルはちゃんと保存され、.exe .tds .obj　のファイルができているので、コンパイルは成功していると思います。 そこで、 コンパイルしたhogehoge.exeなどをnotepad++上で実行させるためには、どのようなコマンドを記述すればいいのでしょうか？ コマンドプロンプトをにbcc32などと記述してコンパイルするのは、面倒に感じるのでどうしてもNotepad上でexeを実行させたいのです。 他のテキストエディタを使う、というのは考えていません。 当方、プログラミング自体、C言語でやっとfor文を覚えたばかりの初心者なので、できるだけわかりやすい言葉で解答をいただけると幸いです。お願いします。
プログラミング初心者です 自然数の四則演算のプログラムを作ったところ コンパイル時にはエラーは起こりませんでしたが実行時にエラーが起こり、動作が停止してしまいました。 自分で原因が特定できなかったのでこちらを頼らせてもらうことにしました。 ご教授お願いします。 <環境> Windows 7 Home Premium 64-bit Visual Studio 2013 #include<stdio.h> #include<ctype.h> #include<stdlib.h> int main( void ) { char str[2][128]={{0}}; int i,j,err=0,cont=0,wari=0; double c,d,dans; long a,b,lans; puts("自然数の四則演算('+''-''*''/')を計算"); //被加数,被減数,被乗数,被除数と演算の判定 i=0; while((str[0][i]=getchar())!='\n'){ if(str[0][0]=='+' || str[0][0]=='*' || str[0][0]=='/' || str[0][0]=='-'){ err=1; } if(str[0][i]=='+' || str[0][i]=='*' || str[0][i]=='/' || str[0][i]=='-'){ cont=1; //2つ目の数字を読み込むか否かの判定 break; }else if(isdigit(str[0][i])==0){ err=1; //数字と演算方法以外の入力はエラー } i++; } //加数,減数,乗数,除数の判定 if(cont==1 && err!=1){ j=0; while(str[1][j]!='\n'){ if(isdigit(str[0][i])==0){ err=1; //数字以外の入力があればエラー } j++; } str[1][j]='\0'; if(err==1){ printf("エラー入力"); return 0; } switch(str[0][i]){ case '+': str[0][i]='\0'; a=atol(str[0]); b=atol(str[1]); lans=a+b; break; case '-': str[0][i]='\0'; a=atol(str[0]); b=atol(str[1]); lans=a-b; break; case '*': str[0][i]='\0'; a=atol(str[0]); b=atol(str[1]); lans=a*b; break; case '/': str[0][i]='\0'; c=atol(str[0]); d=atol(str[1]); dans=(double)c/d; wari=1; //割り算の判定 break; default: break; } } if(err==0){ if(wari==0){ printf("計算結果:%ld\n",lans); }else if(wari==1){ printf("計算結果:%f\n",dans); } }else{ printf("エラー入力です\n"); } return 0; }
C言語を勉強するにあたり何か一つソフトを作りたいと思います。 ちょうどネットワークの勉強もしたいと思っていますのでそっち系のソフトを作りたいのですが、どういうソフトを作ればいいのか分かりません。 中級者レベルで作れるもので構わないのでちょうどいい例があれば教えていただけると嬉しいです。
C言語での質問です。 引数を取るような main 関数は int main( int argc, char *argv[]){～} とされていますが、argvの指す文字列を変更する、というのはいくら何でもまずいので、 int main( int argc, const char *argv[]){～} あるいは int main( int argc, const char const * const * argv){～} の方がいいのではないでしょうか？ 何故、constを付けない形が出回っているのでしょうか？
カンバンによるリーン開発って何ですか？ カンバンもリーン開発も聞いたことがありません。
こんにちは。 VisualStudio2013のMSDN付きを買いたいのですが、普通にAmazonで売っていますがそれを買ってくればよろしいのでしょうか？ http://www.amazon.co.jp/dp/B00GBK7R3G/ MSDNを利用したい場合は何か必要な手続きはあるのでしょうか？
番号のついたデータ群を処理するつもりです。 例えば、１から１００００まで欠損が存在しなければ for文で処理できます。 ただし、番号の欠損があればそこで止まってしまいます。 番号の欠損があっても処理ができるようにしたいです。 そこで、あまり使いたくないのですがgotoの使用を検討し、 下記のプログラムを作成しました。 動作は単に1.txt から5.txtまでの入力ファイルを開いて、 標準出力に入力ファイル名を出力して、閉じるだけです。 あえて4.txtは除いてあります。 １、２、３、５となり、４が欠損しています。 gotoで4をスキップしたいのですが、うまくいきません。 どなたかやりかたを教えてください。 もし、gotoを使わずにスキップできるのであれば その手法も教えてください。 program #include <stdio.h> #include <stdlib.h> #include <math.h> int main(void){ FILE *fi,*fo; int i; for( i = 1; i <= 5; i++){ char input_file[32]; sprintf(input_file,"./testin/%d.txt",i); if((fi = fopen(input_file,"r")) == NULL){ puts("Error:cannot open input file \n"); goto label2; } printf("input_file=%s\n", input_file); label2: fclose(fi); } return 0; } inputfile ./testin/1.txt ./testin/2.txt ./testin/3.txt ./testin/5.txt ./testin/4.txtは存在しない stdoutput input_file=./testin/1.txt input_file=./testin/2.txt input_file=./testin/3.txt Error:cannot open input file 以上
TreeViewでクリックしたノードの位置が親ノード(＋の位置）かそれとも配下の子ノード なのか判定することはできますでしょうか。
関数の呼び出し元の後続処理へ行かない方法を探しています。 void 関数1() { 　　　while(true) 　　　{ 　　　　　　if(○○)　break; 　　　}　 } void 関数2() { 　　　関数1(); 　　　***後続処理*** }
【環境】 VisualStadio2008 Active Reports 3.0 【やりたいこと】 フォーム1で入力した値をレポートに渡し、Form2のViewerで表示（尚、DBは使用しない） 【現状】 ・Form1、レポートにそれぞれラベル2個、テキストボックス2個配置 ・Form1にレポート呼び出し用のボタンを配置 ・ボタンを押すと、Form2のViewerにレポートが表示される(ただし、値は渡されていない) 肝心の入力値をレポートに渡すためには、Scriptになにか記述しないといけないのですが、それが分かりません。助けて下さい。
こんにちわ。 LinkedListとListの違いについて教えていただきますようお願いいたします。 Linkを使用した下記プログラムをLinkedListに書き換えるにはどのようにしたらよいのでしょうか。 単純にLinkをLinkedListに置き換えても出来なかったので教えていただければと思います。 namespace ConsoleApplication1 { public class Values { public int ID; public string Value; } class Program { static void Main(string[] args) { List<Values> list01 = new List<Values>{ new Values{ID=1,Value="あいうえお"}, new Values{ID=2,Value="かきくけこ"} }; } } }
初めまして。C#でどういても分からないことがあって質問させていただきました。 現在、VisualStadio2008でForm1で入力した値を、ボタンを押すことでActiveReport3.0に渡し、 Form2のViewerにセットしようと考えているところです。 public Form1() { InitializeComponent(); } private void print_Click(object sender, EventArgs e) { NewActiveReport1 report = new NewActiveReport1(); report.Run(); Form2 form2 = new Form2(); form2.setDocument(report.Document); form2.Show(); } private void Form1_Load(object sender, EventArgs e) { } public Form2() { InitializeComponent(); } public void setDocument(DataDynamics.ActiveReports.Document.Document doc) { this.viewer1.Document = doc; } private void viewer1_Load(object sender, EventArgs e) { } public void ActiveReport_DataInitialize() { this.Fields.Add("1lbl"); this.Fields.Add("2lbl"); this.Fields.Add("txt1"); this.Fields.Add("txt2"); } public bool ActiveReport_FetchData(object sender, DataDynamics.ActiveReports.ActiveReport. FetchEventArgs eArgs) { try { m_reader.Read(); Fields["1lbl"].Value = m_reader["lbl1"].ToString(); Fields["2lbl"].Value = m_reader["lbl2"].ToString(); Fields["txt1"].Value = m_reader["txt1"].ToString(); Fields["txt2"].Value = m_reader["txt2"].ToString(); eArgs.EOF = false; } catch { eArgs.EOF = true; } return eof; } これをデバッグして、ボタンを押すと強制終了して、[ report.Run(); ]に 「Report Script Compile Error on line 15 Error = 型または名前空間名 'ActiveReport' は 名前空間 'DataDynamics.ActiveReports' に存在しません。アセンブリ参照が不足しています。」 と、表示されてしまいます。どうしたらよいでしょうか？ タイトルの通り、DB接続は行いません。また、Form1にはlabel2個、TextBoxが2個セットしてあります。
はじめまして、nathan3と申します。 昔、さらっとC言語を学んでいたので、仕事場でも活用できればと思い、勉強しなおしています。 以下のプログラムですが、コンパイルはするものの、実行がなされません。 sprintfをつかってファイルを作り、fprintfで読み込み、countで繰り返し別名のファイルを読み込み・作成し…といったプログラムを書いているつもりです。 調べながら書いた稚拙なプログラムですが、ここがちがう！というところをお教えいただけると大変助かります。 #include <stdio.h> int main(void){ FILE *fp,*fo; char *fname1; char *fname2; char s[100],t[100]; int ret,count; for(count = 0 ; count < 3 ; count++) { sprintf(fname1, "sankasha%d.txt", count); fp = fopen(fname1, "r"); if (fp == NULL){ printf("%s can't open a file\n", fname1); return -1; } sprintf(fname2, "matome%d.txt", count); fo = fopen(fname2,"w"); if (fo == NULL){ printf("%s can't open a file\n", fname2); return -1; } printf("--fscanf---"); while( (ret = fscanf(fp,"%[^,],%s", s, t)) != EOF ){ fprintf(fo,"%s ", t); } } fclose(fo); fclose(fp); return 0; } 何度見直しても間違いが見つからず困窮しております。 どうぞ、みなさまのお力をお貸しください！ よろしくお願いいたします。
http://densan-labs.net/tech/qt/chapter1.html ここのサイトを拝見させてもらい、ここを参考にし勉強しようと思ったのですが、Qt Creatorでどのようにプロジェクトを設定すればいいかわかりません。 Qt5.3.0バージョンを使わせてもらっているのですが、勉強しようとしても、プロジェクトの設定がわからないので全然進みません。 できれば、詳しく教えてください。 お願いします。
VC++2010をダウンロードして、プログラムを作って、ビルドしようとするのですが エラーでビルドしません。使用前になにか設定等あるのでしょうか？教えて下さい。 (1)簡単なボタンとラベルで、ボタンを押したら、文字がLabelに表示するもビルドしません。 (2)OSはWindows7 VC++2010でビルドせず。 (3)別なPCで　Windows XPとVC++2010では問題なく、ビルド、動作します。 (4)Windows8とVC++2010でも問題ありません。 (5)VC++2010のソースはvc-webの同じものでダウンロードして、PCにインストールしています。 以上、よろしくお願いします。
お世話になります visual studio 2010 C++/CLIで開発しております。 Textboxにスクロールバーを表示したいのですが 以下の設定をしても表示されませんでした。 ScrollBarsをBothにセット ※本当は水平のみなのでHorizontalで良いはずなのですが WordWrapをFalseにセット 他に何を設定すれば、表示されるようになりますでしょうか。 念のためプロパティの画像を張り付けますので、 おかしいところをご指摘いただけないでしょうか。
LINUX上のCからgnuplotを用い、適当なデータを作成し、グラフを1枚作成することに成功しました。今後はループ処理によって、データ名とグラフ名を替えながら大量のデータ処理をするつもりです。　gnuplotに送りこむデータ名の変更の仕方、グラフ名の変更の仕方を教えてください。 'out.data','out.png'を書き換える方法です。例えば’out1.data'から'out1000.data'。'out1.png'から'out1000data'のようにできれば、１０００個のデータを処理し1000枚のグラフを作成できます。 下記に適当なグラフを出力するプログラム例を示します。 #include <stdio.h> #include <stdlib.h> #include <math.h> int main(void){ FILE *data, *gp char *data_file; int i; double x,y; //make data file data_file="out.data"; data = fopen(data_file,"w"); for(i=0;i<=5;i++){ x=i; x=i*i; fprintf(data,"%f\t%f\n",x,y); } fclose(data); //make graph gp=popen("gnuplot -persist","w"); fprintf(gp,"set terminal png\n"); fprintf(gp,"set xrange [0:5]\n"); fprintf(gp,"set yrange [0:50]\n") fprintf(gp,"set output 'out.png'\n"); fprintf(gp,"plot \"%s\"with lines linetype 1 \n", data_file); pclose(gp); return(gp); return 0; }
C言語について質問です。 整数を入力させ、その入力された整数に’１’が含まれているかどうかを調べるプログラムを作りたいのですが、うまくできません。 文字列操作を使えばよいのですかね？ 可能であればプログラムを書いていただきたいです。
お世話になります。 以前も同じ質問をしたのですが、教えていただいた方法で解決しませんでしたので、 再度質問させていただきます。 【環境】 visual studio 2010 C++/CLI 【事象】 ・デザイナーの読込エラーが発生 ※添付画像 【補足】 ・ソースの変更を行わなくても、プロジェクトの読込で発生しております。 ・一度発生すると、VSの再起動＆プロジェクトの再読み込を繰り返すことで、正常にデザインが表示されます。 ・Foem内のコントロールの増加に伴い、頻度が上がってきております、 最近は、一回で起動できなく、３～１０回の再起動でやっとデザインが表示されます。 もし、2010固有の物でしたら、2005と2012も所有しておりますので、そちらへの変更も可能です。
来年、就職を控えていて、そのために簡単なものでもいいので、ゲーム以外のソフトを開発し、練習をしたいのですが、おすすめのサイトを教えてください。 例えば、検索するプログラムなど、本格的なソフトができるようなものがいいです。 お願いします。
凸型の多角形が作れるような座標があります。 それぞれの座標を P(0),P(1)・・・P(n) とします。今それぞれの座標はバラバラで P(0)→P(1)→P(2)→・・・→P(n)→P(0) と結んでも凸型の多角形になりません。 これを凸型の多角形が作れるように時計回りか反時計回りに並び替えるプログラムは どのように書いたらいいでしょうか？
VS２０１０ Express VC++にてWindows Applicationを作成しております。 Form1のイベント（今回の場合はドラッグ＆ドロップ）でスタートし、実行中の処理に対して、別のイベント（ボタンクリック等）によって処理内容を中途変更したいのですが、方法が分かりません。 具体的方法をご教示いただくか、又は参照先をお教えいただけないでしょうか。 宜しお願い致します。
お世話になります VB6のFrameコントロールの様に、フレームの枠にタイトルを付けたいのですが。 VC(visual studio 2010)の場合どのコントロールを使えばよろしいのでしょうか？ Panelかな？と思い配置したのですが、Caption(VB6)に該当するTextが無いようなのですが。
私の希望する作業は下記の通りです。 （１）linux上のCにより、時間変動データを取り込み、加工する。 （２）Cからgnuplotを制御し、加工後のデータをグラフ化する。 （３）グラフのデータを保存する。 Cを実行することにより、データ加工、グラフ化・保存を一気に実行したいのです。 （１）のデータの加工についてはできています。
以下のような機能を持つＡＰＩがあると耳にしたことがあります 色々と調べましたが見付けられません もしご存じであればお教え願います 探しているＡＰＩの名前を仮に APIxxx とします BOOL APIxxx(hdc, int Xpoint, int Ypoint); hdc はプリンターのディバイスコンテキスト Xpoint、Ypoint は　(0, 0)を原点とするプリンタ印刷領域の座標です まず印刷領域に textout(hdc,～) Rectangle(hdc,～) などのＡＰＩを使用して印刷イメージを組立てます この後、今の主題である APIxxxを発すると　(0, 0)～(Xpoint, Ypoint)の四角形以外の印刷データは無視され、Endpage APIを出して印刷開始しても実際に印刷されるのは(0, 0)～(Xpoint, Ypoint)の四角形範囲だけとなる 四角形以外の残りの部分は白紙状態で印刷されます このような機能を持つAPIxxxを探しています うろ覚えであるので説明に誤りがある可能性が相当あります 類似のＡＰＩでも結構です 似たような機能のＡＰＩをご存知でしたら教えてください 補足】この APIxxxは Excelの印刷範囲を指定操作　印刷するセルを選択　⇒　ページレイアウト　⇒　印刷範囲　⇒　印刷範囲の設定 で印刷セルの範囲を指定する時にも使用されているとも聞いたことがあるような気がします
APIデザインに関する本を読んでいる時に「プレースホルダー」というものが出てきました。 コードの記載において簡略表記する方法と思われます。 C++にもプレースホルダーというのはあるのでしょうか？また、一般的に使われているものなのでしょうか?
C++独習者(全くのビギナーです)です。 ロベールのC++入門講座(初版第３刷)の中の以下のコードについて質問さて下さい。(著者入院中のため「マイコミ」からの回答は頂けていません) P896 に以下のコードと実行結果が記載されています。 ExternC1.cpp #include <iostream> using namespace std; extern “C” int StrCount(const char* str, char ch); int main(){ cout << StrCount(“HogeHoge”, ‘H’) << endl; } （実行結果） 2 となっていますが、このまま実行すると 1>Sample.obj : error LNK2019: 未解決の外部シンボル _StrCount が関数 _main で参照され　　　　　　　　ました。 1>C:\Users\YUZO\documents\visualstudio2010\Projects\Sample\Debug\Sample.exe : 　　　　　　　　　fatal error LNK1120: 外部参照 1 が未解決です。 とのエラーメッセージで、実行できません。 P897 に、ヘッダーファイルが必要との記述が記載されているのですが、具体的にどのように、ヘッダーファイルを記述すれば良いのか、判読出来ません。 どなたか具体的にご教授頂ければ幸いです。 ◎PC--- Windows7 Home Premium ◎使用ソフト--- Microsoft Visual C++2010 Express 以上宜しくお願い致します。
Visualstudio 2013 を使用して C# で開発を行っています。 Socket Classを使用してデータの送受信をするプログラムを作成しているのですが、 非同期でデータを受信する際に取りこぼしなくデータを受信させる方法で悩んでいます。 現在行っているのは、 　socket.BeginReceiveでデータ受信時のコールバック関数を登録し受信開始。 　データ受信時のコールバック関数の中で 　len = socket.EndReceive(ar); 　byte[] rcvBuff = (byte[])ar.AsyncState; 　でデータとサイズを取得 　再度socket.BeginReceiveで受信開始。 としています。 悩んでいるのは EndReceive から、二回目のBeginReceiveまでの間に送られたデータを取りこぼしてしまうのではないかということです。 認識として間違っていたら指摘頂きたいです。 また、別の方法で非同期で取りこぼしなく受信できるやり方が有りましたらヒントでもよいので教えていただけたらと思います。 よろしくお願いします。
お世話になります visual studioのtextboxで教えていただきたい事があるのですが。 textboxを90度回転して、縦長に配置したいのですが、 どの様にすれば回転できますでしょうか？ ※文字も縦書きではなく、90度回転した表示にしたいのです。
Visual　StudioにてWindowsフォームアプリを作成しています。 ログイン画面がありそこで使用したユーザーIDを別の画面で表示させたいというとき どうすればよいのでしょうか。 インターネットを検索しているとフォーム情報を次の遷移先の画面のフォームクラスに渡す というような処理をやっていたのですがこの方法だと画面数が多いと大変だと思います。 セッションのようなどの画面からもアクセスできるような仕組みはWindowsフォームアプリには 用意されているのでしょうか。一般的にはどのようにやるものなのでしょうか。
Google Apps Scriptの勉強をしようと思い立ち入門書のサンプルコードを見ながら構文を入力しているのですが、 下記の構文を保存しようとすると、“ステートメントの前に ; がありません。（行 2、ファイル「コード」）”というエラー表示が出てしまいます。 サンプルとは一字一句間違いないのですが何が悪いのでしょうか？ どなたかお教えいただけないでしょうか。当方javaの知識はほとんど有りません。 function 条件分岐３() { ver myTime = new Date().getHours(); if (myTime < 12) Browser.msgBox("おはよう"); } こちらになります。よろしくお願いいたします。
お世話になります。 C#2005で開発をしております。 サーバOSとクライアントOS（Windows7とWindowsServer2008R2）で挙動が違うロジックが存在し、 サーバOSとクライアントOSの判別をしたく考えております。 そこでですが、上記の判別の方法があればご教示いただけますでしょうか。 Windows7とWindowsServer2008R2の判別でも構いません。 恐れ入りますが、御回答いただければ幸いに存じます。 以上宜しくお願い申し上げます。
お世話になります Visual Studio 2010で開発しているのですが、プロジェクトの読込時に最近下記事象が発生しております。 解決策等ございましたらご教授願います。 ※調べた範囲、ネットで情報を得られませんでした。 【事象１】 「データが失なわれる可能性を防ぐため、デザイナーの読み込み前に以下のエラーを解決する必要があります。」 「×種類 'System.Exception'の例外がスロープされました。」 ・正常起動時と、メッセージ発生時で、ソースの変更等は無くても発生 ・再度VS起動＆読込で解消 ・メッセージ発生時、ビルドは正常終了します ・エラーメッセージには該当行が無く、クリックしても該当行にはジャンプしません 　　　※実行中に同様のエラーが発生する報告は見たのですが、私の場合、プロジェクトの読込時に発生しております。 【事象２】 「ソリューションを準備しています」 もしかして、単純にソース量が増えたからなのかもしれませんが・・・ ・元々出ていなかった ・だんだん表示される頻度が上がってきた（気が付いた時は毎回ではなかった） ・現在は必ず表示され、表示される時間が伸びてきた
VC++でプログラムをしているEXEを起動した際に シリアル通信のReadFile関数やスレッド処理などのAPI関数を用いた処理で WindowsOSのエディションやPC性能、.Net FrameWorkのバージョンが異なる事で 不具合が発生する事は考えられますか？
C++言語を使っています。 C++言語でNULLポインタを表す場合、0やNULLを使用しますが、 「NULLは単なるマクロなので本来は0を使わなければだめ」という話を聞きました。 つまり、 int *p = 0; が本当の正しいNULLポインタであり、 int *p = NULL; は推奨されていない（？）NULLポインタというようです。 今まであまり疑うことなく、NULLポインタを表すのにNULLを使用していましたが、 上記の内容は本当でしょうか。
C++のプログラマです。 以下のコードを通すとdataが配列として配置されます。 Object data; excute(out data); excuteメソッドの引数定義はVARIANT *　です。 ここで質問です。 １）C++の概念ではこのような使い方は考えられないのですが、 　　C#ではあたりまえでしょうか？ ２）この場合、配列数と配列の要素を取出す方法を教えてくれませんか？ 以上、宜しくお願い致します。
　今行っている研究で、発熱体から出た熱が空間をどのように移動していくのかという研究をしているのですが、この度C言語を使って数値計算し、熱の移動のシミュレーションをすることになりました。 　 　そこで、何らかの参考書を探しているのですが、FortranやJAVAを使った参考書ばかりで、C言語を使った参考書が見つかりません。 　どなたか、C言語を使って行う熱移動のシミュレーションの参考書をご存じないでしょうか。回答よろしくお願いします。
C でデータに const 属性をつけて、初期値を設定して定義すると、初期値は ROMにテーブルが作られますがデータ自体は RAM領域に配置されます。 RAMの節約のため、ROM領域にデータを配置する方法はないのでしょうか。
visual studio 2013 VC++を使用していますが、WINDOWSの関数に渡すためにCString からLPCTSTRに変換する必要があります。実際にどのようにするのかわかりません。 例えば、以下のサンプルは他の質問コーナーの回答をアレンジしたものです CString str = _T("ABC"); int siz = str.GetLength()+1; LPCTSTR pszFName = new TCHAR[siz]; _tcscpy_s( pszFName, siz, str ); で変換するのですが LPCTSTRからwchar_t*へ変換できませんとエラーがでます _tcscpy_s()は使用できないのでしょうか
【VC++　exeからはdatファイルが開けるのに、VSのF5で実行した際には開けません。】 　今日は、質問させていただきます。どうぞよろしくお願いいたします。 　環境：VS2010 ProのVC++、Win7 でございます。 　下のコードで、VSからF5（「Debug」と「Win32」選択）で実行すると Debugフォルダ内の「test.dat」が開けないエラーが出て悩んでおりましたが、 その際にDebugフォルダ内に作られたexeァイルから実行すると「test.dat」ファイルが何故か開けております。 　fstream fs("test.dat", ios_base::in); string line; stringstream ss; if (!fs.is_open()) { cerr << "File open error" << endl; } 　test.datはDebugフォルダ内に入れております。試しにslnファイルがある階層にも入れてみましたが、F5実行の際は開けませんでした。 　ファイル名「test.dat」は間違っておりません。Windowsで拡張子を非表示にするようなこともしておりません。 　英語サイトなどをずっと検索しておりましたが、いずれも上記のような事で解決しており、参考になる情報を見つける事ができませんでした。。。 　どうにかしてF5実行時に開けるようにしたいのですが、行き詰まっております。 もし何かお気づきになられる方がいらっしゃいましたら、是非アドバイスいただけないでしょうか。 もしお詳しい方がいらっしゃいましたら何卒、よろしくお願いいたします。
https://swdlp.apple.com/iframes/81/ja_jp/81_ja_jp.html をブラウザで表示するとき、 https://a248.e.akamai.net/7/248/51/20120910/swdlp.apple.com/IframesJS/iframe_V_1.js によって binaryUrl= document.getElementById(elementId+":binaryUrl").value; によって、変数「binaryUrl」に「https://secure-appldnld.apple.com/QuickTime/091-8571.20140218.8MjJw/QuickTimeInstaller.exe」が入るのですが、 cf.)http://rigaya34589.blog135.fc2.com/blog-entry-502.html#comment2354 この実行結果をC/C++に読み込んで、例えば #include <stdio.h> int main(void){ char *binaryUrl; //ここでiframe_V_1.js の変数「binaryUrl」を読み込みたい printf("%s",binaryUrl); return 0; } みたいなことは可能ですか？
現在、Windowsアプリ(ストアアプリではありません)の開発を行っています。 ぶるっトゥース(PTM-ICN)と接続し、着信を偽装して振動させたいと 考えています。 Bluetoothによる接続までは出来たのですが、 着信の偽装が出来ずに困っています。 どうにかして着信を偽装したいのですが、 どなたか良い知恵をおかしいただけないでしょうか。 言語はC#、OSはWindows8.1です。
普段アドビ社のIllustratorなどを使った仕事をしていますが、 パソコンのシステムに関してはまったく素人です。 iPhoneアプリを作りたいと思い、手持ちのMacBook Airに 外部モニタを接続し、Xcodeをダウンロードして 小中学生の自由研究用のiPhoneアプリをつくろう！みたいな本を片手に 簡単なアプリ作成に取り組んでますが、アプリは仮にできたとしても 言語の写経に終始しそうな内容で身につかないような気がしています。 色々調べて、Objective-CはC言語の一種なので まずはC言語を勉強する必要があると考えています。 よく「知識ゼロから出来る」みたいなウリ文句の本もありますが それはムリだと判断しました。 取り敢えずは図書館で「やさしいC 第４版／高橋 麻奈(著)」を借りる予定ですが C言語は完全な文系の私でも独学で学べるものなのでしょうか？ 少し調べたのですが文字の羅列を理解しなければいけないようで、 学生時代も数学や科学は「超」がつくほど苦手だった私なので不安です。 また、iPhoneアプリだけではなくゆくゆくはAndroidアプリも開発したいですが Macを持っていてXcodeがAppStoreで簡単にダウンロードできるので 取り敢えず着手した感じですが、上記の夏休みの自由研究レベルでも コードが違っているらしくその間違い箇所が分からずに頓挫しています。 アプリそのもののイメージ（画面デザイン、遷移など）は ざっくりとですが、こういうのが作りたいというのはあります。 アドバイスの程どうぞよろしくお願いします。
WPF始めたばかりの初心者です。MFCやC#+Formでは開発をしてきました。 WPFを使って以下のようなソフトを作っていますがなかなかうまくいきません。 1.一番下には大きなBitmapを読み込んで表示 2.その上に直線や円を使った図形を重ね合わせる 1.は一度読見込めば、そのまま変えずに使用しますが、2はいろいろな計算結果でその都度変更したいと思っています。 できれば、1,2別々の仮想Windowのようなものを作り描画しておいて、表示で重ね合わせられないかと思っていますが、WPFではどのように実現すればよいのかよくわかりません。 MFCであればすぐに方法は浮かぶのですが、WPFとなるとなかなかうまくできません。 WPFでは、どのような方針で作っていくのがいいのでしょうか? 基本方針を教えていただけませんか?
自社で作成した特定の印刷プログラム（４ケあります）とＷｏｒｄ全部の印刷ドキュメントには取扱注意を要する情報が印刷されています これらの特定印刷プログラムやＷｏｒｄで印刷したドキュメントの取扱注意を促すため、用紙全体を薄い黄色に印刷しています まるで用紙全体に黄色いカバーを掛けたように見えますので、充分な注意喚起が出来ます 黄色いカバーをする方法は以下のように単純です 印刷開始のトリガーになるAPIであるEndPageにＡＰＩフックを仕掛けます 【ＡＰＩフックは　ADVANCED WINDOWS 著者 Jeffrey Ricther　発刊元 Microsoft社　を参考にさせて頂きました】 EndPageをフックしたらプログラムが自社開発した特定印刷プログラム、またはＷｏｒｄ文書であるか否かを判定します これにはGetModuleFileNameWを呼出し、戻り値の内容を調べます　リスト(1)を箇所です ４ケの特定印刷プログラム、Ｗｏｒｄ文書である際には次の処理（薄い黄色でカバー）に流し、他の場合にはいきなり(3)の本物のEndPageに移します 薄い黄色でカバーする方法は、まずプリンターと同じメモリーＤＣを作ります そのメモリーＤＣ全体を黄色に塗り潰します メモリーＤＣに作った黄色イメージを１０％の透明度でプリンタ領域に上書きします すると実際に印刷された用紙は取扱注意を促す黄色になります 具体的なフックプロセスの主要部分は次の通りです 【実際にはもっとゴチャゴチャしていますが、話を単純化するため枝葉をカットしてあります】 int WINAPI Hook_EndPage(HDC hdc) { (1)GetModuleFileNameWでプログラム名を調べ、特定の印刷プログラム・Ｗｏｒｄ文書であれば次の処理をする もし異なればイキナリ(3)へ飛ばします int Xsize = GetDeviceCaps(hdc, HORZRES); //プリンタの領域サイズを調べる int Ysize = GetDeviceCaps(hdc, VERTRES); hdcMemDC = CreateCompatibleDC(hdc); //プリンタと同じメモリーＤＣを作る HBITMAP hDrawBmp = CreateCompatibleBitmap(hdc,Xsize,Ysize); //調べたプリンタサイズと同 一のビットマップを作る SelectObject (hdcMemDC, hDrawBmp); //ビットマップをメモリーＤＣに結び付ける HPEN NEWPEN,OLDPEN; NEWPEN = CreatePen(PS_DASH, 2, RGB(255,255,000)); //黄色ペンを作る OLDPEN = (HPEN)SelectObject(hdcMemDC,NEWPEN); //作った黄色ペンをメモリーＤＣに結び付ける HBRUSH NEWBRUSH,OLDBRUSH; NEWBRUSH = CreateSolidBrush(RGB(255,255,000)); //黄色のブラシを作る OLDBRUSH = (HBRUSH)SelectObject(hdcMemDC,NEWBRUSH); //作った黄色ブラシをメモリーＤＣに結び付ける Rectangle(hdcMemDC,0,0,Xsize,Ysize); //黄色ペン、ブラシでメモリーＤＣ全体を真黄色にする SelectObject(hdcMemDC,OLDPEN); //ペンとブラシを元に戻す SelectObject(hdcMemDC,OLDBRUSH); ここを(2)とします（後で説明します） 　 //メモリーＤＣに作成した黄色イメージ全体を10%の透明度でプリンタ領域に上書きする BLENDFUNCTION blendFunction; ::memset (&blendFunction, 0, sizeof(blendFunction)); //ゼロクリア 　 blendFunction.BlendOp = AC_SRC_OVER; 　 blendFunction.BlendFlags = 0; blendFunction.SourceConstantAlpha = 256/10;　　←　１０％の透明度を指定 　 blendFunction.AlphaFormat = 0; 　 bool rtn = AlphaBlend(hdc, 0, 0, Xsize, Ysize, hdcMemDC, 0, 0, Xsize, Ysize, blendFunction); 　 //オリジナルEndPageを呼び出す 　 int nResult = ((PFNENDPAGE)(PROC) g_EndPage)(hdc);　　　(3) 　 return nResult; } このEndPageフックを仕掛けるとC#、C++で作った自社の特定印刷プログラムと全てのＷｏｒｄ文書は意図した通り黄色いカバーが掛って印刷されます ところが今回、Ｅｘｃｅｌ文書も黄色いカバーを掛けることになりました (1)の箇所でExcelも選別してやればＯＫになるだろうと安易に考えていましたが、実際にテストしてみると次のような現象が発生してＮＧなのです Ｅｘｃｅｌ文書は従前のごとく印刷されます（黄色いカバーが掛っていません） 次に１０％の透明度で印刷された黄色い用紙が出てきます すなわちプリンタ領域に出力されたＥｘｃｅｌ文書とメモリーＤＣの黄色いイメージが重ならず別々に印刷されてしまいます このとき印刷中のExcel画面には 　　現在１/１ページを印刷中です　　　⇒　添付画像を参照ください と表示されますので、Excel自体は１ページの文書を印刷しているつもりなのでしょう Ｅｘｃｅｌ文書の後に黄色いカバーがくっついていると思っているのでしょう なぜAlphBlend APIはメモリーＤＣイメージをＥｘｃｅｌプリンター領域に重ねてくれないのでしょうか？ まるでExcelが自分の出力領域にロックを掛けているような印象です 念の為、(2)に SetTextAlign (hdc, 0);　　　//テキスト配置オプションではカレントポジションを使用しない MoveToEx(hdc, 0, 0, NULL);　　//カレントポジションをゼロに戻す の２ラインを入れて、印刷カレントポジションを原点に戻しても結果は同一でした 質問】 １．　なぜＥｘｃｅｌ文書だけ黄色いカバーが重ならないのでしょうか？ ２．　Excelの印刷範囲指定操作 　　　印刷するセルを選択　⇒　ページレイアウト　⇒　印刷範囲　⇒　印刷範囲の設定 が関係しているのではないかとの参考意見を同僚がくれました では上記の操作はどのようなＡＰＩを出しているのでしょうか？ もしそのＡＰＩが分かればフックして調べてみたいと思います このＥｘｃｅｌ文書に黄色いカバーを掛けることで相当な時間を費やしてしまいました でも手掛かりが全くなく困っております どんなヒントでも結構です、ぜひ教えてください、お願い申し上げます
お世話になります visual studio 2010のワーニングに関して教えてください。 選択されたコード ページのプロパティ 'Dependencies' に無効な言語の文字が含まれています。コード ページの文字を使用して、もう一度やり直してください。 メッセージをクリックして表示されるプロパティの'Dependencies'は編集ができないのですが、どの様に修正すればワーニングが無くなりますでしょうか。 ※'Dependencies'の編集ウインドウは表示されますが、そのウインドウ内で編集ができません
#include <stdio.h> #include <string.h> int main() { int hensuu = 0; int *p; p = &hensuu; printf("p=%p &hensuu=%p\n", p, &hensuu); printf("*p=%d\n", *p); *p = 100; printf("*p=%d\n", *p); printf("hensuu=%d\n", hensuu); } 　以下、出力結果です。 　 　p=0xff930a1c &hensuu=0xff930a1c *p=0 *p=100 hensuu=100 　以上が結果ですが！ 　　*p=100　は*p = 100;で終わっていますが！出力結果として文字が出てきたいるのはなぜですか！ 　宜しくお願いします。
http://social.msdn.microsoft.com/Forums/vstudio/ja-JP/b9cba313-4434-4153-a6ba-63d3b498914f?forum=csharpgeneralja を参考に、 開発中のツールに using System.Reflection; using System.Resources; と private void Form1_Load(object sender, EventArgs e) { Assembly asm = Assembly.GetExecutingAssembly(); //ResourceManagerオブジェクトの作成(リソースResource1を追加してある） ResourceManager rm = new ResourceManager( asm.GetName().Name + "a", asm); // リソースよりIcon1.icoを取得する Icon icon1 = (Icon)rm.GetObject("Icon1"); Cursor cur = new Cursor(icon1.Handle); this.Cursor = cur; } を追加しました。 リソースにはjpegで書いた画像aを追加しました。 すると、 Icon icon1 = (Icon)rm.GetObject("Icon1"); の "Icon1"の部分で、 指定されたカルチャまたはニュートラル カルチャに対して適切なリソースが見つかりませんでした。 "スーパーカーリングおひとりさまデッキブラシ.resources" が適切に埋め込まれたか、実行時にアセンブリ "スーパーカーリングおひとりさま" にリンクされたか、または必要なサテライト アセンブリが読み込まれて完全に署名されていることを確認してください。 というエラーメッセージが出ます。 そもそも、参考URLのページの質問者が、リソースにどのように画像を登録していたのかが不明です。 詳しくわかる方よろしくおねがいします。
僕が作ったプログラムで、これはバブルソートなのかわからないので教えてください。 また、ほかのソートの仕方も教えてください。 よろしくお願いします。 汎用関数を使っているのでわかりにくいかもしれないですがお願いします。 #include <iostream> using namespace std; template <class X>void Sort(X *data, int size) { X temp; for (int i = 0; i < size; i++){ for (int j = i + 1; j < size; j++){ if (data[i]>data[j]){ temp = data[i]; data[i] = data[j]; data[j] = temp; } } } } int main() { int i[10]{1, 4, 3, 5, 2, 10, 2, 7, 6, 8}; char c[10]{'c', 'b', 'z', 'a', 'x', 'y', 'j', 'n', 'm', 'r'}; Sort(c, 10); Sort(i, 10); for (int j = 0; j < 10; j++){ cout << i[j] << ' '; } cout << endl; for (int j = 0; j < 10; j++){ cout << c[j] << ' '; } cout << endl; getchar(); return 0; }
別のイベントからクリックイベントを発生させるのに Button1.PerformClick(); は、うまくいくのですが、 これがピクチャーボックスになったとき pictureBox1.PerformClick(); 下記のエラーが出てしまいます。 ピクチャーボックスのボタンクリックイベントを発生させる方法はないでしょうか？ 'System.Windows.Forms.PictureBox' に 'PerformClick' の定義が含まれておらず、型 'System.Windows.Forms.PictureBox' の最初の引数を受け付ける拡張メソッドが見つかりませんでした。using ディレクティブまたはアセンブリ参照が不足しています。
　次の問題に対して、以下のソースを考案し、実行したところ、以下のようになりました。 【問】 ◆◆◆◆◆ 　与えられた10進数の整数Nを2進数に変換したときの1の個数を答えよ。 　整数の10進数を2進数に変換するには、変換したい10進数を商が0になるまで2で割り続け、求めた余りの部分を逆順に並べる。 例) 13が入力として与えられた場合、以下のように2で割り続け2進数を求める。 13 / 2 = 6 ・・・余り 1 6 / 2 = 3 ・・・余り 0 3 / 2 = 1 ・・・余り 1 1 / 2 = 0 ・・・余り 1 　求められたそれぞれの余りを逆順に並べたものが2進数への変換結果となる。 　よって入力が13ならば2進数への変換結果は 1101 になり、1は3個あるので出力は3になる。 [入力例1] 13 [出力例1] 3 [入力例2] 45 [出力例2] 4 ◆◆◆◆◆ （自分の解答、□はタブ） ◆◆◆◆◆ #include <stdio.h> #include <stdlib.h> /* EXIT_SUCCESS */ int main(void) { □int n, bit, s; □scanf("%d", &n); □ □bit = n % 2; □n /= 2; □s = 0; □while(n) { □□if (bit) □□□s++; □bit = n % 2; □n /= 2; □} □printf("%d", s); □return EXIT_SUCCESS; } ◆◆◆◆◆ （実行結果1） ◆◆◆◆◆ [入力] 13 [出力] 2 ◆◆◆◆◆ （実行結果2） ◆◆◆◆◆ [入力] 45 [出力] 3 ◆◆◆◆◆ となり、正解となりません。 　自分の考えとしては、入力された数値を変数nに収め、これをどんどん2で割っていき、そのときの余り(0か1)を変数bitに収めていき、nが0になるまで処理を繰り返し、bitが0でないとき、変数s(初期値0)に1ずつ加算していき、最後にsを出力する、という方針です。 　初期値の設定辺りが間違っているのだと思いますが、これ以上いくら考えても正解が得られません。どこがどう間違っているのでしょうか。どなたかご教授頂きたく、お願い致します。
C#でポインタに挑戦したいのですが、 コンパイル時に　/unsafeオプションをつけろと言われます。 visual studio　コンパイル　オプション や /unsafeオプション でググってみたのですが、具体的に書かれているサイトがみつかりませんでした。 csc /unsafe in.cs をどこかにかけと書いてあるのですが、 どこに書けばいいか全くわかりません。ネームスペース内やクラス内などいろいろ試しましたがことごとくだめです。
PCとXbeeに接続したマイコン間との通信の例はあるのですが、Xbeeとマイコンを接続した回路を二セット用意し、その２つの回路間での通信の例が見つかりません。 マイコンとマイコン間でXBEEを用いて通信する方法または、それを行っているサイトを教えて下さい。
Viual Studio 2013を使ってＣ＋＋のコードを書いています。 以下のコードで、new-deleteの クラス生成をスマートポインタで置き換えたいのですが、 うまくいきません。具体的には/* not smart */の部分を スマートポインタで置き換えたいが、C2059のエラーが出てきて コンパイルできないのが理解できていません。 どなたかわかる方教えていただければ幸いです。 よろしくお願いします。 // ----コードは以下---- #include <memory> #include <iostream> class Hoge { public: Hoge(){ std::cout << "constructed!" << std::endl; }; ~Hoge(){ std::cout << "destructed!" << std::endl; }; private: }; class Hogehoge { public: Hogehoge(){}; ~Hogehoge(){ delete test; /* not smart */}; private: // error C2059 w/ VS2013 // std::unique_ptr<Hoge> test(new Hoge); Hoge* test = new Hoge; /* not smart */ }; void main() { Hogehoge foo; }
整数型行２列２の２次元配列の[1][０]は、ポインタでは３になるとおもっているのですが、ちがったでしょうか？ 下記のソースでエラーが出ていて困っています。 void main() { int array[2][2] = { { 9, 9 }, { 9, 9 } }; int num=2, j,i; *(array + 3) = 0; for (i = 0; i < num; i++) { for (j = 0; j < num; j++) { printf("%d", array[i][j]); } puts(""); } } ９９ ０９ と表示させたいのですが、どこに間違いがあるのでしょうか？
Ｃ++の構造体で困っています 印刷領域のカレントポジションを原点に戻すとともに、それ以前のカレントポジションを知ろうと思い以下のようなプログラムを書きました typedef struct { 　　　　　　int x; 　　　　　　int y; }POINT ; POINT MyPoint; MyPoint.x = 9999; MyPoint.y = 9999; bool rtn = MoveToEx(hdc, 0, 0, MyPoint);　　・・・・・(1) MyPoint.xとMyPoint.y には9999ではなく、現在のカレントポジションが入るという単純なものです ところが(1)のMyPointで以下のような文法エラーが発生します ERROR "POINT"から"LPPOINT"への適切な変換関数が存在しません 色々調べましたらＣ＋＋のコンパイラの設定に関連するエラーらしいです この辺りのことは不勉強で困っております どのように対処すれば良いかご指導願います
ＶＳでデバックする際にC++はprintfなどで出力時に変数の情報の確認などができます。 ＤＬＬ出力の際は出力した.dllファイルをソフトの場所においてデバッグの確認を取るたのでその場で実行されずprintfなどで変数の情報の確認を取ることができません。 実行時にアプリケーションを自動で立ち上げてデバッグを来ない情報をウィンドウの出力の場所に書き出す方法があったと思うのですがどうにも方法が見つかりません。 出力する.dllファイルの出力先の指定は行いました。 立ち上げるアプリケーション（.exe）の指定をする場所とその他まだ設定しなければならない事があれば教えてください。
お世話になります visual studio 2010 で突然添付画像のエラーが出てくるようになってしまいました。 原因を探る為に、過去の正常なプロジェクトを実行しても同じメッセージが出てしまいます。 ネットで検索して、同じ様な事象を見つけたのですが、 app.configなるファイルが見つかりませんでした。 http://nky-tech-sdt.blogspot.jp/2010/02/net-framework-40.html どの様な対処をすればよいのか教えていただけないでしょうか。
お世話になります visual studio 2010 c++/cliのプロジェクトで Opengl+jpeglibで画像を表示しようとしているのですが このエラーが出てしまい、ビルドが通りません 何が悪いのか教えていただけないでしょうか error C3867: 'プロジェクト名::display': 関数呼び出しには引数リストがありません。メンバーへのポインターを作成するために '&プロジェクト名::display' を使用してください ここを参考に作成しております http://www21.atwiki.jp/opengl/pages/68.html ここを参考に以下の様にしたのですが 今度はC2275,C2227エラーになってしまいダメでした http://forum.programuj.com/viewtopic.php?t=5410&sid=97e82ad2762362899fad2dd331532bc7 glutDisplayFunc(&display); glutDisplayFunc(&プロジェクト名::display); glutDisplayFunc(&this->display); C2275,C2227
しょーもない質問すみません。 Ｃ＋＋を独学中のプログラミング自体初学者です。 今読んでる教科書に、malloc関数の説明として、 指定された大きさの領域をヒープに割り当て、その領域の先頭のポインタを返す関数であるとあり、 例には、 .... int *x; x=(int *)malloc(sizeof(int)); *x=100; ..... などとあるのですが、malloc関数の前の（int *）は xはあくまで変数、malloc関数で帰ってくるのはpointerなので、 *でポインタから変数にした上で、その変数の型をintに強制的にしているという理解で合っているでしょうか？？ どうも*がついている分、xはポインタのような気もして、混乱しています。
C#でWebページのテキストボックスに文字を入力しようと 試みましたが、どうしてもこのページだけできません。 このページです。 https://account.edit.yahoo.co.jp/registration?.intl=jp&.done=http%3a//promo.mail.yahoo.co.jp&.src=ym ヤフーメールの新規登録画面なんですが、最初の 「Yahoo! JAPAN ID」から躓いてます。 コードは以下のように書きました。 HtmlElementCollection all = WebBrowser1.Document.All; HtmlElementCollection forms = all.GetElementsByName("u"); forms[0].InnerText = TextBox1.Text; 2行目最後の「u」は「Yahoo! JAPAN ID」のnameなので 間違いはないと思うのですが・・・ ちなみに上記のコードで他のサービスでは普通に入力できます。 色々と試しましたが失敗続きで途方に暮れてます。 妙な質問ですが、よろしくお願い致します。
C言語のプログラミング歴1年くらいの者です。 LinuxのGCCを使ってプログラミングをやっている中で、オブジェクトファイルというものを知ったのですが、オブジェクトファイルってなんのためにあるんですか？ ネットで調べたり友達にきいたりして、「それ単体では動作はしないが、プログラムファイルとリンクさせてコンパイルすることで動作するもの」みたいなことまでは分かっています。 ただいまいちなぜオブジェクトファイルにする必要があるとかがわかりません。 どなたか教えてください。
ちょっと長いですが、ある部分の動作がわかりません そこを詳しく教えてください。 void queue::store(int i)の//リスト末尾に置くっていうところからで なぜ、if(tail)tail->next=item; tail=item; こう書くのかわからないです。 tail->next=itemの次にtail=itemを実行すると、tail->nextの内容も変わるのでは?と思っているのですがどうなっているのかわからないのでお願いします。 説明が下手ですがすみませんが教えてください。 //仮想関数の実例 #include <iostream> #include <cstdlib> #include <cctype> using namespace std; class list{ public: list *head;//リスト先頭へのポインタ list *tail;//リスと末尾へのポインタ list *next;//次項目へのポインタ int num;//格納される値 list(){ head=tail=next=NULL; } virtual void store(int i)=0; virtual int retrieve()=0; }; //キュー型リストの作成 class queue:public list{ public: void store(int i); int retrieve(); }; void queue::store(int i) { list *item; item=new queue; if(!item){ cout << "メモリ割り当てエラー" << endl; exit(1); } item->num=i; //リスト末尾に置く if(tail)tail->next=item; tail=item; item->next=NULL; if(!head)head=tail; } int queue::retrieve() { int i; list *p; if(!head){ cout << "リストは空です" << endl; return 0; } //リスト先頭から取り除く i=head->num; p=head; head=head->next; delete p; return i; } //スタック型リストの作成 class stack:public list{ public: void store(int i); int retrieve(); }; void stack::store(int i) { list *item; item=new stack; if(!item){ cout << "メモリ割り当てエラー" << endl; exit(1); } item->num=i; //スタックのような操作になるよう、リスト最前部におく if(head)item->next=head; head=item; if(!tail)tail=head; } int stack::retrieve() { int i; list *p; if(!head){ cout << "リストは空です" << endl; return 0; } //リスト先頭から取り除く i=head->num; p=head; head=head->next; delete p; return i; } class sorted:public list{ public: void store(int i); int retrieve(); }; void sorted::store(int i) { list *item; list *p,*p2; item=new sorted; if(!item){ cout << "メモリ割り当てエラー" << endl; exit(1); } item->num=i; //次項目のおき場所を見つける p=head; p2=NULL; while(p){//中へ if(p->num>i){ item->next=p; if(p2)p2->next=item;//先頭要素ではない if(p==head)head=item;//新しい先頭要素 break; } p2=p; p=p->next; } if(!p){//終わりへ if(tail)tail->next=item; tail=item; item->next=NULL; } if(!head)//先頭要素 head=item; } int sorted::retrieve() { int i; list *p; if(!head){ cout << "リストは空です" << endl; return 0; } //リスト先頭から取り除く i=head->num; p=head; head=head->next; delete p; return i; } int main() { list *p; //キューのデモ queue q_ob; p=&q_ob;//キューをさす p->store(1); p->store(2); p->store(3); cout << "キュー:"; cout << p->retrieve(); cout << p->retrieve(); cout << p->retrieve(); cout << endl; //スタックのデモ stack s_ob; p=&s_ob;//スタックをさす p->store(1); p->store(2); p->store(3); cout << "スタック:"; cout << p->retrieve(); cout << p->retrieve(); cout << p->retrieve(); cout << endl; //ソート済みリストのデモ sorted sorted_ob; p=&sorted_ob; p->store(4); p->store(1); p->store(3); p->store(9); p->store(5); cout << "ソ\ート:"; cout << p->retrieve(); cout << p->retrieve(); cout << p->retrieve(); cout << p->retrieve(); cout << p->retrieve(); cout << endl; return 0; }
MFCのC++/CLI へIntPtrのデータを受け渡せません。。。 コードは以下になります。 ------------------------------ C# System.IntPtr hBitmap; p.GetBitmapHandle((void*)hBitmap);//CLI側のメソッド ------------------------------ C++/CLI (MFC) void GetBitmapHandle( void* hBitmap ){ hBitmap = m_hBitmap; } HBITMAP m_hBitmap; ------------------------------ 非常に困ってます。助けてください！
質問は2つあります。 (1) scanf関数を使って、 時給: と表示されたところに一文字打ち込み、数字以外ならばもう一度 時給： と表示されるプログラムを作りたいです。 以下のプログラムなら、 isdigit関数は数字を渡せば0以外の数を返す（真）から、 while文の条件式（偽）のようにすれば、 ・数字を一文字うちこめばwhile文の条件式にあてはまらない、すなわち下のプログラムではisdigit(payment)　!= 0 となり、return 0; が実行され、プログラムが終わる ・数字以外を一文字打ち込めばwhile文の条件式が真となり、printf関数とscanf関数が実行されて入力待ち状態になる と思ったのですが、どうやら違うようです。実際には ・数字一文字打てばまた入力待ちになる ・数字以外を一文字打てば永遠にprintf関数とscanf関数が実行される のはなぜでしょうか。 #include <stdio.h> #include <ctype.h> int main(void){ int payment; do{ printf("時給[円]:"); scanf("%d",&payment); } while (isdigit(payment) ==0) ; return 0; } （2） 実際には、一文字の制限なく、数字以外の何かを入力したら、再び入力待ちになるプログラムを作りたいのですが、これはどうしたらいいのでしょうか。 つまり 時給： のところに数字以外ならまた 時給： となるようにしたいのです。お願いします。
C#のピクチャボックスにC++/CLIのHBITMAPを貼り付けたいです。 方法を教えてくれませんか？ 今、考えている方法は以下ですが、中々難しいです。 １．C#側　BitmapからIntPtr型で hDC を取得 　→　C++/CLIに渡せない ２．C++/CLIでhDCにHBITMAPを貼り付け 　→IntPtr型を定義できない・・・。 以上、宜しくお願い致します。
三角形を判定するプログラムを作ったのですが直角三角形ができるはずがないのに直角三角形の判定が出てしまいます。簡単なことなのかもしれませんが自分ではわからなくなってしまったのでご指摘してもらいたいです。 #include<stdio.h> void tri(int x,int y,int z) { if((x*x==y*y+z*z)||(y*y==x*x+z*z)||(z*z==x*x+y*y)) { printf("これは直角三角形です。"); printf("これは三角形です。"); }else if((x+y>=z)||(x+z>=y)||(y+z>=x)) { printf("これは三角形ではありません。"); }else{ printf("これは三角形です。"); } } int main(void) { int e1,e2,e3; printf("３辺を入力してください"); scanf("%f,%f,%f",&e1,&e2,&e3); tri(e1,e2,e3); return(0); }
String^ Text = gcnew String( "文字列" ); で以下のエラーがでます。 \Window1.xaml.cs(31,34): エラー CS1002: ; が必要です。 何がいけないか教えて頂けませんか？
　型　　　　大きさ　　　　　記憶出来る範囲 　char　　　１バイト　　　１文字-128～127 　何で文字は”数字”ではないの・記憶できる範囲で！-128から始まっているのですか！！？？ 文字のマイナス -　の範囲はどんな概念なのでしょうか！？ 　宜しくお願いします。
お世話になります jpegsr9a.zipをダウンロードして ↓のサイトを参考にlibjpeg.libを作ろうとしたのですが http://oshiro.bpe.es.osaka-u.ac.jp/people/staff/imura/products/JpegFileIO ６のライブラリを作成方法が理解できませんでした １．CLIなのでこの二つでよろしいでしょうか ■ マルチスレッド DLL: /Ox /Ob2 /Oi /Ot /Oy /arch:SSE2 /MD ■ マルチスレッド デバッグ DLL: /MDd ※　VCのプロジェクトのプロパティ、コード生成では MDとMDdを指定してます ２．１５行目の変更方法は？ オリジナル CFLAGS= $(cflags) $(cdebug) $(cvars) -I. これにオプションを追加する記載はこの様に２行になると、２行目しか認識されませんよね？ どの様に記載するのか教えていただけないでしょうか？ CFLAGS= $(cflags) $(cdebug) $(cvars) -I. DLL: /Ox /Ob2 /Oi /Ot /Oy /arch:SSE2 /MD CFLAGS= $(cflags) $(cdebug) $(cvars) -I. DLL: /MDd ３．「release用の場合は nodebug=1 オプションを末尾に付ける」とは以下の様にするのでしょうか？ nmake -f makefile.vc clean nmake -f makefile.vc nodebug=1 ※release用を別メイクするのなら、２．のオプションはデバッグとリリースで別々に作成して実行するのでしょうか？
お世話になります。 C#2005で開発をしております。 質問内容を以下に記述致します。 FormA及びFormBがあり以下の処理を実行します。 (1)FormAからFormBをShowdialogで呼び出す (2)FormBにて任意の処理を実行する (3)FormAがFormBを閉じ、戻り値を受け取る ここで(3)の時に戻り値をDialogResult以外の戻り値で取得したいのですが、 方法はございますでしょうか。 可能であればint型数値で戻り値を設定したいと考えております。 お手数ですがご教示いただければ幸いに存じます。 以上宜しくお願い申し上げます。
マイコン：R8C(R5F21226) 開発環境：HEW(Windows7) マイコン開発初心者です。 恐れ入りますが、ご教授頂きたく質問させて頂きます。 とあるプログラムを組んでいるのですが、 下記ビルドエラーが発生し、原因がわからず困っています。 『L2321 (E) Section "vector" overlaps section "program"』 文面から見るに、「ベクタ領域のアドレうがROM領域に重複している」 ということで宜しいのでしょうか？ 各領域のアドレス値、並びベクタ領域も変更していません。 ※全て初期値のままです。 お手数ですが、このエラーが発生する主な原因を 教えて頂けないでしょうか？
関数を作る際 func(int p[][]) →コンパイルエラー func(int *p[]) →コンパイルOK になるのは何故ですか？ 同じことを言っているように思うのですが？
　Visual Studioコマンドプロンプト(2010)で、分割コンパイルを試みています。自分で調べて、次のことまでは分かりました。 ソースファイル “1.c” “2.c” “3.c” がある。それぞれ、リンクはせずにコンパイルだけ行うには、 “cl /c 1.c”で、“1.obj”が生成する。 “cl /c 2.c”で、“2.obj”が生成する。 “cl /c 3.c”で、“3.obj”が生成する。 これらを、次のようにリンクすると、 “link 1.obj 2.obj 3.obj” ↓ “1.exe” が生成する。 　この最後のリンクのところで、“1.exe”でも“2.exe”でも“3.exe”でもない別のファイル名（“program.exe”など）に、実行ファイルを指定したいのですが、 “link /?” を見てみると、どのオプションを指定すればいいか分かりません。どなたか、ご教授ください。お願い致します。
今まで主にMFCを用いたコーディングをしていたのですが GUIをMFCからC#に移行する作業を検討しています。 そこでCoreとなるソースはC++にしておきたいので 「MFC ダイアログベース」 から　「C++　DLL」に移植を考えてます。 その為、今テストとしていくつかのソースコードをDLL化してみましたが MFCのAPIによるエラーが非常に多く作業量が膨らむばかりです。 ここで質問ですが、このような作業は将来的にメリットを生み出す事かどうか 個人差があるかとおもいますが皆様からのご意見頂けないでしょうか？ 私の方で気づいたメリットは以下の点だけで、作業に価値があるか少しずつ疑問になってます・・・。 ・WPFなどを使える事からGUI周りのレベルが上がる ・今後、C#による需要が多くなると見込んでいるため。 作業量が多く挫折しそうです。。。
お盆休みを利用してC言語の勉強をしようと思っています。 さわり程度にはわかるのですが、ポインタなどを本気で理解してみようと思っています。 PCにvisual studio2013が入っているので、2013のC++のプロジェクトを使って勉強していこうと思っているのですが、下記のように入力すると、scanfでエラーが出てしまいます。 #include "stdafx.h" #include <stdio.h> void main() { int n; scanf("%d",&n); } C++ではC言語の文法は全て使えると聞いていたのですが、ある程度例外もあるということなのでしょうか？それともなにか原因があるのでしょうか？
Cドライブに VS_EXPBSLN_x64_jpn というのが2つあるのですが、これは何でしょうか？ 削除しても大丈夫ですか？
お世話になります。 xcode5 Objective-Cで作成しております。 現在、Labelに文字を表示しているのですが、 ”明日は、<u>天気</u>です。” という文字列を入れたら、天気の所に 下線が引かれて表示させたいのですが、 HTML的な文章を読み込んで表示してくれる 関数はないでしょうか？ ない場合は、<u></u>を手動で下線状態に変えたいので 下線を表示する構文を教えてもらえないでしょうか？ 何卒よろしくお願いいたします。
お世話になります。 xcode5 objective-cで作成しております。 StoryBoard を選択して、画面(View)の上にコンポーネントを たくさん並べているのですが、画面スクロールが必要な ほどコンポーネントを置きたいと思い、ScrollViewを置き、 その上にコンポーネントを並べているのですが、 StoryBoardの画面(View)の大きさを広げることができないので View以上のコントロールを置くことができません。 どのようにすれば、StoryBoardの画面(View)の大きさを 広げることができるのでしょうか？ コードで、コントロールを作成すのではなく、 画面の大きさを広げる方法を教えて頂きたいので よろしくお願いします。
お世話になります VC 2010 C++/CLIで作成されている、既存プロジェクトに以下のグラフィック機能を追加したいのですが、 色々試しては挫折してます。 実現可能なライブラリを教えていただけないでしょうか。 【補足】 ・既存プロジェクトはそれなりに大きなものなので、既存部の書き換えは考えておりません ・既存プロジェクトはPictureBoxで出来る範囲の色々な描画を行っているので、ここはそのまま残す予定 【追加機能】※　以下は新規に子フォームを作成して、独立した機能として追加予定 １． 異なるサイズの画像(写真)を重ねて描画する（これは、単純なので標準の機能を始め全てで出来ます。） ２． 上面の画像を半透明にして、背景の写真を透過 (上面画像の背景を透過するのではなく、上面画像の全体を透過） ３． 上面の画像をマウスに追従して移動 ４． 上面の画像の４点を個別にマウス指定で変形 ５． １～４で出来上がった画像の合成＆出力 【試したもの】（理解ミスが有るかもしれません） ※事前検討で実現困難なライブラリも小細工できないかと、念のためそれぞれ試しております。 １． 標準の機能 ・アドバイスをいただき、透過はできたのですが、４の変形ができない (画像データを変形毎に計算して求めるのは非現実的なので適用していません・・変形後も移動が有る為) ２． OpenCV ・透過処理がアルファブレンドなので、３の処理が遅い (理想はOpenGLの様にＺバッファを使用して、背景が透過するもの・・・背景を意識しない処理のみで済むもの) ・透過処理がアルファブレンドなので、同サイズの画像か背景を上面と重なる部分を検出して切り出す必要がある (上面の画像の変形を考えると、背景を上面に合わせて切り出すのは困難) ・４が矩形しか対応していないので、ひし形までしか変形できない (視点の変更で形状こそ求めているものに近くなるが、今回の用途ではユーザーに単純操作で変形させてあげる必要がある) ３．OpenGL ・画像単体での読み書きができない （テクスチャマッピング機能を用いるか他のライブラリを併用する必要がある） ・平面ポリゴンを定義して、テクスチャマッピングをした場合、４の変形時にマッピング画像が追従するようにする必要がある ４．DXLib ・追加機能に対応する機能を持ってはいるが、そもそもCLIに対応していない ５．GDI+ ・CLI対応のサンプルが見つからない？ (CLI以外のサンプルは多々見かけるのですが、ウインドウのハンドルやポインタの使い方が異なり、苦戦中） ・そもそも、説明しているサイトが少ない (私のような素人がみるとどれがGDI+の記述でどれが標準の機能なのか判らないものばかり 　せめてGDI+のＸＸＸを使用すると以下のソースになるみたいな説明がされているサイトがが有れば教えてください) ６．Direct2D ※まだ検証してません
お世話になります。 C#(.net)で、スタートメニューから開ける『ミュージック』や 『ビデオ』といった、いわゆる特殊ディレクトリと呼ばれるものですが、 取得するのは、System.Environment.GetFolderPath(Environment.SpecialFolder.Personal) (これはドキュメントですが)等でできますが、 特殊ディレクトリをコードで変更することは可能でしょうか。 方法がありましたら、教えてください。 よろしくお願いいたします。
お世話になります。 以下の２点の解決方法を教えていただけないでしょうか 複数のスクロールバーを配置した際に、 起動直後のどのスクロールバーにもフォーカスがされていない状態で、 キーボードの矢印キーを押下すると、 先頭のスクロールバーが変化してしまいます。 フォーカスされている時は矢印キーで変化してもよいのですが、 フォーカスされていない時に変化しない様にするには、 どの様にすればよいのか教えていただけないでしょうか？ もう一つ スクロールバー以外の処をクリックしたら フォーカスを外したいのですが、 どの様にすればフォーカスが外れるのでしょうか？ 【開発環境】 visual studio 2010 c++/CLI
Visual Studio Express 2012 for Desktop C# で プログラミングを学習していますが、 ウェブページからコピペしてきた多くのソースコードが (using からソースのままなのに)ビルドできません。 おそらくソースコードがASPなどを 用いているから？だと思うのですが、 プロジェクト→新しいデータソースの追加→オブジェクト からSystem_Windows_Formsを参照しようとしても ".NETアセンブリへの参照を追加してください"と メッセージが出て追加できません。 そこで質問ですが、.NETアセンブリは どうやって、どのファイル？を参照に追加すればいいのでしょうか。 プログラミングについて疎く、 文章があってるかどうか わかりませんが、よろしくお願いします。
Visual C++2013を使用しています。 現在、vectorを下記の位置に定義しています。 public ref class MainForm : public System::Windows::Forms::Form { MainForm(void) { 略1 } 略2 private: void 関数1(引数1) { vector<vector<double>> array_csv(要素数1, vector<double>(要素数2)); } } このvectorを他のクラスと共用して扱いたいのですが、 どう定義したらいいか分かりません。 やってみたこと 略1や略2のところへ以下のように定義してみましたが、関数1内からvectorへアクセスすると、 型が違うため、アクセスできません。 vector<vector<double>> array_csv(int, vector<double>()); 定義する場所か定義の方法がおかしいのでしょうか？ ご教授願います。
#include <stdio.h> int main() { int syori_kaisuu = 0; int kaisuu = 5; printf("kaisuu >"); fflush(stdout); scanf("%d", &kaisuu); while(syori_kaisuu < kaisuu){ printf("KURIKAESHI %d\n", syori_kaisuu); syori_kaisuu = syori_kaisuu + 1; } return 0; } http://codepad.org/ ・・で以上、コンパイルすると 　以下が実行結果となります。 kaisuu >KURIKAESHI 0 KURIKAESHI 1 KURIKAESHI 2 KURIKAESHI 3 KURIKAESHI 4 　それで 　実行結果の 　kaisuu >KURIKAESHI 0のKURIKAESHI 0って何でしょうか！？ 　 　何でプログラム上”KURIKAESHI 0”が現るのですか！？ 　 　いきさつが分かりません！？ 　宜しくお願いします。
コンピュータは"数字"か「文字」かどうやって!判断しているのですか？ C言語でしたら 　kakaku=1+2/*右側が自動的に3と計算されるのはなぜ・文字と数字の認識はどうやって行っているのですか*/ あくまでの私の憶測ですが！？ コンパイラソフトなどをセットアップすると！数字は文字とは違う位置決めをする”数字”としての働きをするように！あらかじめプログラムされているから、数字としての機能する！？だとは思うのですが？ ”本当”はどうなんでしょうか？ 　宜しくお願いします。
プログラミングについて教えてください プログラムは ピラミッドの図形をユーザーが指定した数字で正三角形の ピラミッドの段数を指定できるプログラムです 例えば「５」と打てば ********* ■ ********■■■ ******■■■■■ ****■■■■■■■ **■■■■■■■■■ このような感じに表示されます *の部分は空白です #include<stdio.h> int main (void) { int num,i,j,h; printf("ピラミッドの高さを入力してください : "); scanf("%d" ,&num); for(i=1; i<=num; i++){ for(j=num; j>=i+1; j--){ printf("　",j); } for(h=1; h<=j; h++){ printf("■"); } printf("\n"); } return 0; } ここまで出来ています、詰まっているのでご教授ください よろしくお願いします
以下の問題について質問です。 次のプログラムを実行すると、画面にどのように表示されるかを書け。 #include <stdio.h> int main(void){ int s=2, t=3, u=7; int *q=&s, *p=&t, *h; u-=*q; *q=*p; *p=u+1; h=p; p=q; q=h; *p+=*q; printf("%d %d %d\n",s,t,u); return 0; } これで、9行目までにq=3,p=6,u=5になって、10～12行目でqとpの値を交換してるから、実行結果は 6 9 5 になるかと思ったのですが、実際に動かしてみると 9 6 5 と表示されました。 どこで間違えているのかが分からないので、上から順にどういう処理が行われているのかを書いていただけるとありがたいです。
void Charcter_Access::Charcter_Move(void){ int i; double radian; int Tx,Ty; for(i=0;i<CNUM;i++){ if(Ch[i].NowNode != Ch[i].GoalNode){//まだゴールに到達していない if( Ch[i].root.empty() ){//ルートがまだ決まってない時,ルートを格納 Node.Node_dijkstra(Ch[i].NowNode,Ch[i].GoalNode,&Ch[i].root); Ch[i].RnodeNum=Ch[i].root.size(); } Tx=Node.ReNode_x(Ch[i].RnodeNum); Ty=Node.ReNode_y(Ch[i].RnodeNum); //目標まで移動した時 if( ( sqrt((Tx-Ch[i].x)*(Tx-Ch[i].x)+(Ty-Ch[i].y)*(Ty-Ch[i].y))) < 1.0){ Ch[i].NowNode= Ch[i].root.at(Ch[i].RnodeNum); Ch[i].RnodeNum--; Ch[i].x=Tx; Ch[i].y=Ty; } radian = atan2( (double)Ty-Ch[i].y , (double)Tx-Ch[i].x ); Ch[i].x=cos(radian)*Ch[i].speed; Ch[i].y=sin(radian)*Ch[i].speed; } Tx=Ty=radian=0; } } rootは目標地点へのルートをvector <int>型でルートとなるノードの番号を格納しています。 今は現在地が0番目のノードで目標地点は4番めのノードなっています。 root は[4 , 3 , 2]となっています。現在地の次のノードから目標ノードまでを格納しています。 このプログラムを起動した所全部のキャラクターが左上に集まってしまい、思ったようなプログラムにはなりませんでした。 そこで質問なのですが目標地点へ向かうアルゴリズムは 角度=atan2(目標y-キャラy,目標x-キャラx) キャラx=cos(角度)*移動速度 キャラx=sin(角度)*移動速度 であってますか？ もしあっているならばなにが原因で左上に集まるのでしょうか？
Microsoft Visual Studio Express 2013 for Windows Desktopを使用するため http://www.microsoft.com/ja-jp/download/details.aspx?id=40787 上記からダウンロードし、起動させると 「このライセンスの有効期限が切れています。」 と表示され、操作することができません。 更新されたライセンスの有無を確認をクリックすると ダウンロードしたライセンスは不十分です。 と表示されます。 どうすれば使用することができるのでしょうか？ よろしくお願いいたします。
プログラミング 実数 合計値 ３つの実数を読み込んで合計を表示するというプログラムのソースについてなんですが #include <stdio.h> int main(void) { double na, nb, nc; puts("３つの実数を入力してください。"); printf("実数:"); scanf("%5.lf", &na); printf("実数:"); scanf("%5.lf", &nb); printf("実数:"); scanf("%5.lf", &nc); printf("合計は%5.lfです。\n", (double)(na ＋ nb ＋ nc); return (0); } でコンパイルしてみたんですが、構文エラーでreturnの前の行で')'が';'の前にありません というのが出てきてコンパイルできないのですが、これはどこが間違ってるんでしょうか？
visualc++2008について。 Form2^ form12 = gcnew Form2(); form12->Show(); の記述で子ウィンドウを表示させるところまでできたのですが、その子ウィンドウでキッチンタイマーの動作をさせようと考えています。がTimer_tickが動作しません。 ShowではなくRunじゃないかとかいろいろ考えてやってみたのですが、ことごとくエラーでした。 Timerの動作部分TickにはTimer_tickを紐付けしてあります。 Timer動作もTureで、記述コードもとりあえず this->label１->Text = DateTime::Now.ToString("HH:mm:ss"); でまず、動作しているかの確認を行っています。 わかる方ご教授お願いします。
自分は、VC++2005,　MFC,　OSはWindows7,　を使ってソフトを作っていますが、 ダブルクリックすると、自動的に解凍されるファイルが次のようにすると作れるらしいのですが、 これは、Borland　のコンパイラでないと作れないものなのでしょうか？ それとも、VC++2005　でも作れるのでしょうか？ また、これがフォルダの暗号化の中の話しなので、 暗号化したファイルにこのような機能を付けても無意味な気がしています。 ファイル暗号化の中で、この機能は役立ちますか？ アドバイスお願いいたします。 参考コード： //自分自身の実行ファイルを開く try{ fsExe = new TFileStream(Application->ExeName, fmOpenRead | fmShareDenyWrite); } catch(...){ //'実行可能形式出力
プログラミング初心者です。 初歩的な質問ですがよろしくお願いいたします。 現在C言語入門書を読んでいるのですが、「キーワード」と言うのが理解出来ません。 また当該入門書ではキーワードについて 「キーワードとは C 言語が仕様レベルで予約済みの名前のことで、前回のプログラムで紹介した return などはキーワードに属します。」と記載されていいますが理解出来ません。 初心者ですので、例え話なども用い解説してくれれば幸いです。 よろしくお願いいたします。
VisualStudio2013をダウンロードしようと思ったのですが、 下記の２つしかなくx86と書かれており、32ビット用ではないかと思うのですが、 自分のPCは64bitマシンなので、動くかどうか不安です。 初歩的な質問ですいませんが、どなたか解る方がいれば教えていただきたいです。 ---------------------------------------------------------------------------- ダウンロードできるvisual studio ・Visual Studio Ultimate 2013 with Update 2 (x86) - Web Installer (Japanese) 　EXE Japanese リリース日: 2014/5/12 ・Visual Studio Ultimate 2013 (x86) - Web Installer (Japanese) 　EXE Japanese リリース日: 2013/11/19 ---------------------------------------------------------------------------- 自分のPC 　OS:Windows 8.1 CPU:Intel Core i7-4700MQ 64bitオペレーティングシステム 　x64ベースプロセッサ
Win32のプログラムをx64に移行する仕事を頼まれました。 プラットフォームをx64に移してビルドを行ったところ、 インラインアセンブラを使用していた以下のコードでエラーが発生しました。 ～前略～ __asm { mov eax, 0; /* EAXに0を入れる */ cpuid; /* CPUID実行 */ mov dword ptr [vender_sig + 0], ebx; /* 最初の4文字 */ mov dword ptr [vender_sig + 4], edx; /* 次の4文字 */ mov dword ptr [vender_sig + 8], ecx; /* 最後の4文字 */ mov byte ptr [vender_sig + 12], 0; /* ラストに \0 */ } ～中略～ __asm { mov eax, 1; /* EAXに1を入れる */ cpuid; /* CPUID実行 */ mov dword ptr [prosessor_sig], eax; /* プロセッサシグネチャ */ mov dword ptr [function_flag], ebx; /* ファンクションフラグ */ mov dword ptr [feature_flag2], ecx; /* Featureフラグ */ mov dword ptr [feature_flag1], edx; /* Featureフラグ */ } ～中略～ __asm { mov eax, 1; cpuid; /* CPUID実行 */ mov dword ptr [t], eax; /* top */ mov eax, 3; cpuid; /* CPUID実行 */ mov dword ptr [m], edx; /* middle */ mov dword ptr [b], ecx; /* bottom */ } ～後略～ x64ではインラインアセンブラが使用できないということはわかったのですが、 これをどう直していいかがわかりません。 アドバイスよろしくお願い致します。
今までプログラム内で、設定データを格納するためのメモリの宣言としてenv_tという構造体を使って env_t *m_pEnv; この宣言を行っていたのですが、プログラム途中でenv_tの構造体に＋30バイト程度追加しなければならない箇所が出たため新たにenv_02_tという構造体を作成しました。 その構造体を使わなくてはならない分岐に来たら delete m_pEnv; として、 m_pEnv = new env_02_t; と行ったところ、次のようなエラーが発生しました。 [BCC32 Error] uMain.cpp(2801): E2034 Cannot convert '_KUMA_ENV_02_ *' to '_KUMA_ENV_ *' てっきりこれで構造体をenv_tからenv_02_tに切り替えることが可能と思い込んでいたのですが、切り替えるにはどうしたらよいのかどうぞ、ご教示頂きますようお願い致します。
