お尋ねします。 2016/01/04, 11, 101 2016/01/05, 12, 102 2016/01/06, 13, 103 と表示させようと思い下記を作ってみましたが、どうしても 2016/01/04, 2016/01/05, 2016/01/04, 11, 12, 13, 101, 102, 103 となってしまいます。（出力の順番と改行の問題）どのようにすればよいでしょうか？ [0..2].each do |i| puts [stock.dates[i], stock.num1[i], stock.num2[i]].join(", ") end よろしくお願いします。
MacBookAir OS X El Capitan ver 10.11.5 にてruby 2.3.1p112を使用しています。 print (“hello”)　とだけ書いたtest.rbというファイルを ターミナルで ruby test.rb と打ち込んで作動させたのですが、 test.rb:1:in `<main>': undefined local variable or method `“hello”' for main:Object (NameError) と表示されてしまいます。 本当に初期の初期の段階で、プログラムも本当に単純なのに、なぜ作動しないかがわかりません。 どなたか、考えられる原因をご指摘いただけると幸いです。
Rubyのデプロイがうまくいきません。 http://techacademy.jp/magazine/4630 を参考に手順を踏んでいるのですが、 source ~/.zshrc を入力しても -bash: /Users/ユーザー名/.zshrc: No such file or directory と帰ってきてしまいます。 そこで、その手順を無視して、Ruby 2.3.1をインストールして rbenv global 2.3.1 を入力し、 ruby -v で確認したのですが、 ruby 2.0.0p648 (2015-12-16 revision 53162) [universal.x86_64-darwin15] と返ってきて反映されませんでした。 Ruby 2.3.0で同様の操作をしても結果は同じで。 インストールしたRubyをなんとか反映させたいのですが、何か対処法はないものでしょうか？ お答えいただけると嬉しいです。
rubyのコードを書いていた時の疑問です。 以下のコードを見てみると、呼ばれているメソッドがおかしくなっているところがあるように見えます。 a = "hoge" module Mage def to_s :fuga end end a.extend(Mage) a.to_s # => :fuga a.singleton_class.ancestors # => [#<Class:#<String:0x007fdeea15c4a0>>, Mage, String, Comparable, Object, Kernel, BasicObject] 上のコードはObext#extendでto_sメソッドの挙動を上書きされていますが 継承をたどっていくと、Stringクラスのto_sメソッドではなくMageモジュールのto_sメソッドの方が、深いところに挿入されています。 継承関係と、実際に呼ばれるメソッドに齟齬があるように見えるのですが、これはどういう原因で起こるのでしょうか？
ちょっと興味が湧いたので質問をさせてください。 皆さんの案件で、railsプロジェクトをやっていた場合、booleanの型のカラム名の命名規約はどうしていらっしゃるでしょうか？ 私の属しているプロジェクトでは、元々がPHPでできていたプロダクトだったので、その時の規約であった カラム名の末尾に「_flg」をつけているものはbooleanに従って開発をしていました。 ここの規約自体の批判は置いておいていただいて、仮に新規でプロジェクトを立ち上げる場合は、どの様な命名規約にするでしょうか？ ログイン周りの自動生成をしてくれるgemのdeviceだとpublicedなど、過去分詞でカラム名を生成しています。 railsチュートリアルなどでは「single_issue」等で名詞のカラム名を、ままで使っています。 （これはこれでrailsチュートリアルがおかしい気がしますが） この規約だと、"公開されている記事一覧を取得する"とかの場合にscopeとして、Article.publicedとつけたい場合に、これと名前が衝突して混同する、トイうデメリットがありますし、名詞をままで付けると、そもそもこのカラムがbooleanであるニュアンスが消えてしまいます。 結局なところ、支配的な命名規約はまだ出来ていない、今のところはある程度好み ということなのかなと思っています。 そうであれば、各々の案件での命名規約を知りたくなったので質問をさせていただきました。 どうか、宜しくお願い致します。
Ruby on Rails で ログイン認証でdevise を使用していますが、困った問題が起こっています。 未ログイン状態でログイン画面を別タブで２画面 開いていたとします。 まず片側の画面からあるIDでログインしたとします。 この状態で、もう片方の別タブの画面から別IDでログインすると、そのままログイン状態になるのですが、ログインIDが最初にログインしたIDにのままになっています。このシステムはある会社で使用されているのですが、その会社ではパソコンが複数人で使いまわされているため、ログアウトし忘れてセッションが切れる前に別の人がログインした場合、最初にログインした人のIDで操作ができてしまうことになり、非常にまずいのです。 Devise::SessionsController をカスタマイズすれば、対応できるかと思いましたが、そもそもログイン状態から再ログインした場合、処理が飛んでこないようです。ログイン状態で再ログインした場合、セッションを強制的に切断したいのですが、これをするためにはどのようにすればよいか、教えていただけると助かります。よろしくお願いします。
バッチファイルの中でruby に渡す引数の文字列の中のワイルドカードをエスケープするにはどうしたらいいでしょうか。例えば、 for %%I in (aa* b?b) do ruby hoge.rb %%I のような感じです。括弧内のそれぞれを、一つの文字列として渡したいのです。 Windows7 32 bit版または64bit版です。
お世話になります。 企業向けではなく、個人的にRubyをやりたいのですが、 環境設定が上手くできず、調べたところ下記ページが出てまいりました。 「若手エンジニア／初心者のためのRuby 2.1入門（1）」 http://www.atmarkit.co.jp/ait/articles/1402/27/news042.html この記事の中では、Windowsでは茨の道を進むことになるため、 MacかLinuxにするよう強く推奨されています。 私の環境はWindows7ですが、本当なのでしょうか？ 宜しくお願い致します。
ホームにhello_world.rbを作りました。 class HelloController < Controller def start puts "Hello, World!" end end と書きました。trema run hello_trema.rbとやると、大量のエラーがでました… /var/lib/gems/2.2.0/gems/trema-0.8.4/lib/trema/command.rb:40:in `load': cannot load such file -- hello_trema.rb (LoadError) from /var/lib/gems/2.2.0/gems/trema-0.8.4/lib/trema/command.rb:40:in `run' from /var/lib/gems/2.2.0/gems/trema-0.8.4/bin/trema:54:in `block (2 levels) in <module:App>' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/command_support.rb:126:in `call' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/command_support.rb:126:in `execute' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/app_support.rb:296:in `block in call_command' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/app_support.rb:309:in `call' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/app_support.rb:309:in `call_command' from /var/lib/gems/2.2.0/gems/gli-2.13.4/lib/gli/app_support.rb:83:in `run' from /var/lib/gems/2.2.0/gems/trema-0.8.4/bin/trema:260:in `<module:App>' from /var/lib/gems/2.2.0/gems/trema-0.8.4/bin/trema:14:in `<module:Trema>' from /var/lib/gems/2.2.0/gems/trema-0.8.4/bin/trema:12:in `<top (required)>' from /usr/local/bin/trema:23:in `load' from /usr/local/bin/trema:23:in `<main>' ruby -vと打つとruby 2.2.3p173、trema -vと打つとVERSION 0.8.4と出てきます。どうすればよいでしょうか?よろしくお願いします。(Ubuntu14.04)
次の環境でrubyにseleniumをインストールしてFirefoxの自動操作を行っています。 　OS：　Windows10 　ブラウザ：　Firefox 42 　ruby : 2.1.7 Firefoxの代わりに、Firefox Portable （バージョンはできれば42。それ以外でも可)を操作したいのですが、どのようにrubyに記述すればよいでしょうか。 Firefoxのアドオンを利用したいので、毎回同じプロファイルを使用するため、いまのところ次のように記載しています。 ============================================== require 'selenium-webdriver' default_profile = Selenium::WebDriver::Firefox::Profile.from_name "default" default_profile.native_events = true driver = Selenium::WebDriver.for(:firefox, :profile => default_profile) driver.get "http://www.yahoo.co.jp/" ============================================== これに何か情報を書き加えれば、Firefox Portableを起動できると考えているのですが、ちょっとわからないので、教えてください。
オープンクラスで再定義時に別で定義されたメソッドの呼び出しについてです。 ある編集不可能なクラス Hoge の fuga メソッドの戻り値によって、新たなメソッド piyo を定義したいと考え、次のコードを試してみました。 irb(main):001:0> class Hoge irb(main):002:1> def fuga irb(main):003:2> 1 irb(main):004:2> end irb(main):005:1> end => :fuga irb(main):006:0> irb(main):007:0* class Hoge irb(main):008:1> if self.fuga == 1 irb(main):009:2> def piyo irb(main):010:3> puts "foobarbaz" irb(main):011:3> end irb(main):012:2> end irb(main):013:1> end NoMethodError: undefined method `fuga' for Hoge:Class from (irb):8:in `<class:Hoge>' from (irb):7 from /usr/bin/irb:11:in `<main>' この目的の場合、8～12行目はどのような記述をすれば良いのでしょうか。 なお、Hoge のインスタンス作成後に特異メソッドとして piyo を追加のが都合上、難しい状態です。 バージョンは ruby 2.1.5p273 です。 よろしくお願いします。
チュートリアルの３章を勉強中なのですが（http://railstutorial.jp/chapters/static_pages?version=4.2#sec-generated_static_pages） リスト3-4で $ rails generate controller StaticPages home help このコマンドをしてから$ rails server -b $IP -p $PORTを入力すると => Booting WEBrick => Rails 4.2.4 application starting in development on http://0.0.0.0:8080 => Run `rails server -h` for more startup options => Ctrl-C to shutdown server [2015-11-11 09:39:15] INFO WEBrick 1.3.1 [2015-11-11 09:39:15] INFO ruby 2.2.1 (2015-02-26) [x86_64-linux] Exiting /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:206:in `bind': Address already in use - bind(2) for 0.0.0.0:8080 (Errno::EADDRINUSE) from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:206:in `listen' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:461:in `block in tcp_server_sockets' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:232:in `each' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:232:in `foreach' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/socket.rb:459:in `tcp_server_sockets' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/utils.rb:70:in `create_listeners' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/server.rb:133:in `listen' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/server.rb:114:in `initialize' from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:45:in `initialize' from /usr/local/rvm/gems/ruby-2.2.1/gems/rack-1.6.4/lib/rack/handler/webrick.rb:31:in `new' from /usr/local/rvm/gems/ruby-2.2.1/gems/rack-1.6.4/lib/rack/handler/webrick.rb:31:in `run' from /usr/local/rvm/gems/ruby-2.2.1/gems/rack-1.6.4/lib/rack/server.rb:286:in `start' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/server.rb:80:in `start' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:80:in `block in server' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:75:in `tap' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:75:in `server' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:39:in `run_command!' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands.rb:17:in `<top (required)>' from /home/ubuntu/workspace/sample_app/bin/rails:8:in `require' from /home/ubuntu/workspace/sample_app/bin/rails:8:in `<top (required)>' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/client/rails.rb:27:in `load' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/client/rails.rb:27:in `call' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/client/command.rb:7:in `call' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/client.rb:26:in `run' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/bin/spring:48:in `<top (required)>' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/binstub.rb:11:in `load' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.1.3/lib/spring/binstub.rb:11:in `<top (required)>' from /home/ubuntu/workspace/sample_app/bin/spring:13:in `require' from /home/ubuntu/workspace/sample_app/bin/spring:13:in `<top (required)>' from bin/rails:3:in `load' from bin/rails:3:in `<main>' となってしまいますがこれってエラーですよね？ ビューも開けないのですが、どなたか教えていただきたいです もしかしたら上のコマンド関係ないのかもしれないです。 よろしくお願いします。
ruby on rails tutorial（http://railstutorial.jp/chapters/beginning?version=4.2#cha-beginning）をクラウド９で勉強し始めましたが、rails s -p /PORT -b /IPでサーバーを起動させようとすると、 /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/server.rb:12:in `parse!': invalid argument: -p /PORT (OptionParser::InvalidArgument) from /usr/local/rvm/gems/ruby-2.2.1/gems/rack-1.6.4/lib/rack/server.rb:315:in `parse_options' from /usr/local/rvm/gems/ruby-2.2.1/gems/rack-1.6.4/lib/rack/server.rb:190:in `options' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/server.rb:71:in `set_environment' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/server.rb:55:in `initialize' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:75:in `new' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:75:in `server' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands/commands_tasks.rb:39:in `run_command!' from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/commands.rb:17:in `<top (required)>' from /home/ubuntu/workspace/hello_app/bin/rails:8:in `require' from /home/ubuntu/workspace/hello_app/bin/rails:8:in `<top (required)>' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/client/rails.rb:28:in `load' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/client/rails.rb:28:in `call' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/client/command.rb:7:in `call' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/client.rb:28:in `run' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/bin/spring:49:in `<top (required)>' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/binstub.rb:11:in `load' from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/binstub.rb:11:in `<top (required)>' from /home/ubuntu/workspace/hello_app/bin/spring:13:in `require' from /home/ubuntu/workspace/hello_app/bin/spring:13:in `<top (required)>' from bin/rails:3:in `load' from bin/rails:3:in `<main>' このようなエラーがでてしまうのですが、どなたか解決方法を教えていただけないでしょうか？ プログラミング超初心者で、自分では解決できそうにありません。 よろしくお願いします。
CookpadさんのHPがRubyでできているとお聞きしました。 こういったサイトを作るには、やはりRubyを知っておくと良いのでしょうか？ CookpadさんのHPではないのですが、食べログみたいなサイトを作りたいと思っているのですが、Ruby on Railsでできるのでしょうか？ Rubyは入門書を読んだ状態で、Ruby on Railsは、学んだことがないのですが、オススメの本とかありますでしょうか？ 詳しい方いらっしゃいましたら、教えてください。 よろしくお願い致します。
Rubyを勉強するために、Atomというソフトをインストールしたのですが、AtomでRuby on Railsを使うことってできるのでしょうか？ 何か設定を変えないとできないのでしょうか？ 設定を変える必要があるのであれば、変え方も教えてください。 詳しい方いらっしゃいましたら、よろしくお願い致します。
Rails4でブラウザを閉じた時に一部のセッション変数をクリアしたいのですが どのような記述をして良いのかわかりません。 どなたか、お詳しい方がいらっしゃいましたら、ご教授願います。
rails4で1:多関連のモデルに対して 指定した子を持たない親の検索はどうしたら良いでしょうか？ 含まない子の条件は複数指定できるようにしたいです 現状は下記のように実装しているのですが スマートな方法があれば教えてください ----- excludes = [ '除外1', '除外2',... ] ret = Parent.all for exclude in excludes do 　ret = ret - Parent.joins(:children).where('children.value = ?', exclude) 　ids = ret.map{ |p| p.id }.uniq 　ret = where(id: ids) end return ret -----
Rubyの勉強を始めたのですが、エディタはどれが良いのでしょうか？ Vimをインストールして使ってみたのですが、うまく使えません。 初心者にも使いやすく、日本語対応しているエディタがありましたら、教えてください。 よろしくお願い致します。
Railsのフォームにプルダウンメニューを配置して、選択されるとjavascriptでアラートを 表示したいのですが、うまく動作してくれません。 どなたか、お詳しい方がいらっしゃいましたら、ご教授願います。 form.html.erb ------------------------------------------------------------------------------------------------------ <%= javascript_tag do %> $(function(){ //コースを選択する $("#course_id").change(function(){ window.alert("test!!"); }); }); <% end %> <%= form_for ・・・・・ <%= form.select :course_id, @courses %> <% end %> ------------------------------------------------------------------------------------------------------ 【環境】 Ruby 2.2.2 Rails 4.0.13 以上、宜しくお願いします。
RailsにてActiveDirectoryへの認証をしようとしています。 net-ldapのgemを使用しています。 conn.bindでTrueが返ってくるので接続は出来ていると思いますが、 そこから、ユーザID、パスワードを検索することができません。 どなたか、詳しい方がいらっしゃいましたら、ご教授願います。 conn = Net::LDAP.new :host => SERVER, :port => PORT if conn.bind ここでユーザID、パスワードを検索して、合致すれば認証OKとしたい end 【環境】 Ruby 2.2.2 Rails 4.0.13 net-ldap (0.11) 以上、宜しくお願いします。
Rubyをvimで書いたので、実行しようとしたのですが、実行できないです。何がダメなのでしょうか？ 手順としては、 vimで　puts("Hello World!")と書きました。 w hello_ruby.rbと書いて保存しました。 コマンドプロンプトを開いて、hello_ruby.rbと入れて、Enterを押したのですが、 ’hello_ruby.rb’は、内部コマンドまたは外部コマンド、操作可能なプログラムまたはバッチ ファイルとして認識されていません。 と出ます。 コマンドプロンプトで、ruby -v と入れると、Rubyのバージョンは出てきます。 何がいけないのでしょうか？修正の仕方を教えてください。 詳しい方いらっしゃいましたら、よろしくお願い致します。
Rubyを勉強しようと思っています。Vimでプログラムを書いていこうと思っているのですが、Vimはどうやってダウンロードしたら良いのでしょうか？ ネットで検索すると、Vimにも種類があるように見えるのですが…。使っているPCがWindows8.1なので、それに対応したVimを使いたいです。 RubyのインストールとPathの設定は、サイトを見ながらできたのですが、Vimがいまいちわかりません。 詳しい方いらっしゃいましたら、ご教授頂けると助かります。 よろしくお願いいたします。
Railsの認証プラグイン「device」を以下の手順でインストールを行いましたが うまくいきません。どなたか、ご教授願いえないでしょうか 【手順】 　(1)Gemfileに「gem 'device'」を追加 　(2)bundle install 　　ここで以下のエラー発生。 　「Could not find gem 'device (>= 0) ruby' in any of the gem sources listed in your 　　Gemfile or available on this machine.」 【環境】 　Ruby 2.2.2 　Rails 4.0.13 　CentOS 6.6 以上、宜しくお願いします。
イントラネット上で使用する業務システムのログイン画面を作成しています。 調べてみると、device、sorcery等の認証プラグインが存在するようですが、 どれを使おうか思案中です。 Railsのログイン認証について、詳しい方がいらっしゃいましたら、 お勧めの認証プラグイン等がありましたら、ご教授ねがいます。 【開発環境】 Ruby 2.2.2 Rails 4.0.13 CentOS 6.6 Oracle 以上、宜しくお願いします。
Ruby初心者です 数gbのcsvファイルから高速に1行目だけ取り出したいのですが、 どういったコードを書けばよいのでしょうか？教えてください。
Ruby初心者です。 【前置き】 メソッドで宣言した変数（以下arr）に値（以下[1,2,3]）を代入し戻り値として返した場合、 メソッドの戻り値（以下retArr）には、[1,2,3]への参照(arr.object_id)が設定されると認識しております。 ----------------------- def method arr = [1,2,3] return arr end retArr = method() ----------------------- 【質問】 C言語の場合、関数内で宣言したローカル変数のアドレスを戻り値として返却した場合、 関数を抜けた時点で、そのアドレスの内容は保障されなくなりますが、 1.Rubyではその様な問題がなく動作するのは、何故でしょうか？ 2.また、メソッド内で宣言したオブジェクト(上記[1,2,3])の寿命はいつまでなのでしょうか？ 【備考】 いろいろと調べてみたのですが、オブジェクトの参照（object_id）は、ポインタに近い概念であることは記載されているのですが、その仕組みを理解できずに悩んでします。
プログラミング初心者なのですが、あるサイト内のキーワードが載っているページを表示されるようなプログラミングを組んでみたいのですが、どうしたら良いでしょうか？ 例えば、化粧品の会社が沢山紹介されているサイトで、「美白」とキーワードを入れると、「美白」というキーワードが入った会社がすべて表示される。といったものです。 どうやって作っていったらよいのかわからないので、プログラムとそのプログラムの解説を頂けると、とても助かるのですが、無理なようでしたら、参考になるサイト等ありましたら、教えてください。 よろしくお願い致します。
度々すみませんが、他人のRubyプログラムを試しながら勉強しているのです。 今回の質問はプログラムの先頭の書き方です。ご存知の方にご教示を頂きたいのです。 ついでに、こちらの動作環境はLinux-Mint、Ruby1.9.3です。 次のはサンプルプログラムの先頭の５行です。 　1 #!/usr/bin/env ruby 　2 # -*- mode:ruby; coding:utf-8 -*- 　3 require 'kconv' 　4 require 'moji' 　5 Encoding.default_external = "utf-8" 質問１： 2行目は処理する文字コードがUTF-8の指定に見えます。どんな場合に必要ですか。 実はあるプログラムをUTF-8のデータを処理するときに、2行目があると invalid multibyte char (UTF-8)　のエラーが出ました。抜いたら正常処理します。 質問２： 3、4行目は、日本語処理のクラスを利用するためのライブラリ指定ですが、 使い分けがよく分からないのです。 質問３： 5行目はどんな場合に必要でしょうか。2行目と同じような役割に見えますが.... 初歩的な質問ばかりですが、どうぞよろしくお願いいたします。
次の簡単なRubyプログラム（test.rb)ですが、 #!/usr/bin/env ruby # -*- coding: utf-8 -*- while gets $_.chomp! tmp = $_.split(/ /) s0 = tmp[0] s1 = tmp[1] s2 = tmp[2] puts "line #{s0}\t#{s1}\t#{s2}" end 入力テキストファイル（hello.txt）は次の２行です。 1 hello, everybody! 2 皆さん、 こんにちは。 test.rb hello.txt を実行すると、Ruby 1.8.7 は問題なく正常ですが。Ruby 1.9.3は次のエラーになりました。 line 1 hello, everybody! k1.rb:7:in `split': invalid byte sequence in US-ASCII (ArgumentError) from k1.rb:7:in `<main>' 何故でしょうか。詳しい方に教えて頂けるでしょうか。 どうぞ宜しくお願いします。
Ruby On Railsで開発を行っています。 select の構文は以下のようになっています。 <select class="searchable" id="fruitsu"> <option value="001">リンゴ</option> <option value="002">ミカン</option> <option value="003">イチゴ</option> <option value="004">バナナ</option> <option value="005">ブドウ</option> </select> 別のテキストフィールドに"001"と入力すると、上記のプリダウンリストの「001:リンゴ」 を選択できるようにjavascriptを以下のように実装しました。 しかし、プリダウンリストのリストを表示すると値は選択されているのですが、 表示はできませんでした。 表示するには、どのようにすれば良いのでしょうか？ お忙しい中、大変申し訳ありませんが、教えて頂けないでしょうか。 【javascript】 $(function() { $('#fruitsuText').on('change', function() { $('#fruitsu').val($(this).val()); }); }); 以上、宜しくお願いいたします。
Windows7 32ビットでrailsでWebアプリを開発しましたが、 本番環境にセットアップしたいと思います。ちなみに本番環境はインターネットに接続 できません。 WebサーバはThinを使用したいです。 インターネットに接続できない本番環境にどのような手順でrailsとThinをインストール すれば良いのでしょうか？ お忙しい中、大変申し訳ありませんが、教えて頂けないでしょうか。 【開発環境】 Windows7 32ビット Ruby 2.1.5 Rails 4.2.0 PostgreSQL 9.4 【本番環境】 Windows Server 2012 R2 64ビット 【想定する手順】 ●Rubyインストール (1)Ruby 2.1.5 64ビット版のRubyInstallerをダウンロードし、インストールを行う。 (2)Devkit 64ビット版をダウンロードし、インストールを行う。 　1)解凍フォルダを作成して解凍（ダウンロードしたEXE実行） 　2)解凍ディレクトリにて以下を実行 　 ruby dk.rb init 　 ruby dk.rb install ●PostgreSQLインストール (1)PostgreSQL 9.4 64ビット版のインストーラをダウンロードし、実行する。 以上、宜しくお願いいたします。
Rubyの初心者です。次のサンプルがマッチングできない、 書き方を教えてくださいませんか。 #!/usr/bin/env ruby key = "キーワード" while gets $_.chomp! puts $_ if $_ =~ /"#{key}"/ end puts 文を puts $_ if $_ =~ /キーワード/ に書き買えば、検索はできますが、変数に与えてマッチング することはできないでしょうか。 ご教示を宜しくお願いします。
環境ですが、端末はWindows７と８、サーバーはCentOSです。 流れを言いますと、MifareのUidを取得し（Rubyで作られてます）、PHPでその後の動作をさせたいです。 MifareとRubyの知識は無いので、頂き物ですがそれを利用させていただいていて、結果は表示することが出来ます。 コマンドラインから、Rubyファイル　を実行して、カードをかざすとUidが表示されます。 その値をPHPに渡したいのですが、どのようにすれば良いのでしょうか？ 考え方だけでもお願いします。
Ruby On Railsで開発を行っています。 select の構文は以下のようになっています。 <select class="searchable" id="fruitsu"> <option value="001">リンゴ</option> <option value="002">ミカン</option> <option value="003">イチゴ</option> <option value="004">バナナ</option> <option value="005">ブドウ</option> </select> 別のテキストフィールドに"001"と入力すると、上記のプリダウンリストの「001:リンゴ」 を選択できるようにしたいのですが、javascriptでどのように書けばよいのでしょうか お手数ですがご教授願います。
いつもお世話になっております。 最近からRuby on Railsを始めました。 そこで、日付をマウス操作で入力するため、datepickerを導入したいと思い、 jquery-ui-rails 5.0.3をインストールしたところ日本語化する方法がわかりません。 お忙しい中、申し訳ありませんが、どなたか、ご教示ください。 【実行環境】 ・Windows7 ・Ruby2.1.5 ・Rails4.2.0 ・jquery-ui-rails 5.0.3 以上、宜しくお願いいたします。
楽しいRuby第四版での学習がもうそろそろ、終わります。 ここからステップアップするのにお勧めの著書とかありますでしょうか？ あったら是非教えてください。
postでa.htmlから送られたパラメータをrubyで取得して、 取得したパラメータをrubyからｂ.htmlに送信するには rubyのプログラムをどのように組めばいいのでしょうか？
DXRubyのインストールの仕方が分かりません。 Rubyは2.0.0を使っています。 64bitです。 参考になるサイトなど教えていただけるとありがたいです。
Rubyでファイルを暗号化し、それを復号したいのですがうまくいかないため、 質問させていただきます。 Ruby 1.9.3を使用しています。 ・ファイルの暗号化　encrypt.rb ------------------------------------------------- # encoding: cp932 require 'openssl' def encrypt(file, pass) 　　enc = OpenSSL::Cipher::AES256.new('CBC') 　　enc.encrypt 　　enc.pkcs5_keyivgen(pass) 　　File.open(file, 'rb') do |fin| 　　　　File.open("#{file}.sec", 'wb') do |fout| 　　　　　　while buff = fin.read(8000) 　　　　　　　　fout.write(enc.update(buff)) 　　　　　　end 　　　　　　fout.write(enc.final) 　　　　end 　　end 　　enc.reset end if $*.length > 0 　　print 'password： ' 　　pass = $stdin.gets.chomp 　　$*.each do |arg| 　　　　begin 　　　　　　encrypt(arg, pass) 　　　　　　puts "#{arg}を暗号化したファイル#{arg}.secを作りました。" 　　　　rescue 　　　　　　puts "#{arg}の暗号化に失敗しました。" 　　　　end 　　end 　　0.upto(pass.length - 1) do |i| 　　　　pass[i] = '\xff' 　　end end ------------------------------------------------- ・ファイルの復号　decrypt.rb ------------------------------------------------- # encoding: cp932 def decrypt(file, pass) 　　dec = OpenSSL::Cipher::AES256.new('CBC') 　　dec.decrypt 　　dec.pkcs5_keyivgen(pass) 　　File.open(file, 'rb') do |fin| 　　　　File.open("#{file}.plain", 'wb') do |fout| 　　　　　　while buff = fin.read(512) 　　　　　　　　fout.write(dec.update(buff)) 　　　　　　end 　　　　　　fout.write(dec.final) 　　　　end 　　end 　　dec.reset end if $*.length > 0 　　print 'password: ' 　　pass = $stdin.gets.chomp 　　$*.each do |arg| 　　　　begin 　　　　　　decrypt(arg, pass) 　　　　　　puts "#{arg}を復号したファイル#{arg}.plainを作りました。" 　　　　rescue 　　　　　　puts "#{arg}の復号に失敗しました。" 　　　　end 　　end 　　0.upto(pass.length - 1) do |i| 　　　　pass[i] = '\xff' 　　end end ------------------------------------------------- コマンドプロンプトでencrypt.rb自身を暗号化し、encrypt.rb.secの作成はできるのですが、 decrypt.rbを実行してパスワードを入力しても復号ができません。 どのようにすれば復号できるのか教えていただけますでしょうか。
Ruby初心者です。 先日ダウンロード関数を作ったのですが、（下記） この関数に、既存の機能を外さず、リフェラーと、ユーザーエージェントを設定できるようにしたいのですが、 どこをどう変更したらよいかわかりません。 わかる方、ご指導ください。 初心者的コードですがどうかご勘弁ください。 ＝＝＝＝＝＝＝＝＝＝＝ # インターネットからファイルをダウンロードする ※badNoFnameFlag => デフォルトのファイル名が指定されていない場合は、失敗とみなす def try_download(uri,num_trial = 3,badNoFnameFlag = false,minimum_content_length = 0) retHash = {} num_trial.times{ res = Net::HTTP.get_response(URI.parse(uri)) # , 'User-Agent' => "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1" & リフェラー　を設定したい if res.class.name != "Net::HTTPOK" || res.code != "200" || res.message != "OK" next else fname = cd_file(res['content-disposition']) if badNoFnameFlag if !fname next end end if !defined? res['content-length'] next end if is_numeric(res['content-length']) res['content-length'] = numeric_or_zero(res['content-length']) else next end if Float(res['content-length']) <= minimum_content_length next end if !fname retHash['name'] = basename(uri) else retHash['name'] = fname end retHash['body'] = res.body break end } return retHash end ＝＝＝＝＝＝＝＝＝＝＝
RubyでRSSリーダーを作成しているのですが、 読み込んだRSSのエンコード(utf-8)とプログラムのエンコード(cp932)が異なるため、 エラーが発生しました。 ＜プログラム＞ ------------------------------------------------------- # encoding: cp932 require 'open-uri' require 'rss' xml = nil open("http://codezine.jp/rss/new/20/index.xml") { |http| 　　　xml = http.read } rss = RSS::Parser.parse(xml.force_encoding("utf-8")) puts "#{rss.channel.title.encode('cp932', 'utf-8')}"\ + "#{rss.channel.pubDate.strftime("%Y/%m/%d %X")}" rss.items.each do |item| 　　　puts '--------------------------' 　　　puts item.title.encode('cp932', 'utf-8') 　　　puts item.pubDate.strftime("%Y/%m/%d %X") 　　　puts item.description.encode('cp932', 'utf-8') end ------------------------------------------------------ ＜エラーメッセージ＞ ------------------------------------------------------ rss_r.rb:18:in `encode': U+2013 from UTF-8 to Windows-31J (Encoding::UndefinedConversionError) ------------------------------------------------------ 以下のサイトを参考にして文字を置換しようと思ったのですが、 http://qiita.com/yugo-yamamoto/items/0c12488447cb8c2fc018 rssはStringクラスではないため、trメソッドが使えません。 どのようにすれば文字を置換できるのか教えていただけますでしょうか。
ruby＆mac＆文字の扱い 初心者です。 mac os 10.6.8 ＨＴＭＬの情報を読み込みテキストファイルに書き出したいのですが、 ターミナル上、putsではきちんと日本語で表示されるのですが、書き出したあとの txtファイルを開くと文字化けしています。 File.open("test.txt","w") do |file| @s_info.each do |data| puts data[:m_sec] file.puts data[:m_sec] end end よろしくお願いします。
content="text/html; charset=shift-jis"のページを読み込んで、文字列の置換がしたいです。 #!/opt/local/bin/ruby require 'uri' require 'open-uri' url='http://hoge.hoge' open(url,'r:shift_jis'){|io| content = io.read content.gsub!(/ほげ/,'ホゲホゲ) print content } 上記の様に書いてみました。ソースコード自体はUTF-8で記述しました。 実行すると、 `gsub!': incompatible encoding regexp match (UTF-8 regexp with Shift_JIS string) (Encoding::CompatibilityError) となってしまいます。 どうしたらよいのでしょうか？ rubyのバージョンは ruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-darwin12] です。 以上、よろしくご指導のほど、お願い申し上げます。
list9.1とlist 9.3をあわせた二次元の座標、xとyを持つ プログラムです class Point attr_reader :x, :y def initialize(x=0, y=0) @x, @y = x, y end def inspect # 表示用 "(#{x}, #{y})" end def +(other) # x、yのそれぞれを足す self.class.new(x + other.x, y + other.y) end def -(other) # x、yのそれぞれを引く self.class.new(x - other.x, y - other.y) end def [](index) case index when 0 x when 1 y else raise ArgumentError, "out of range `#{index}'" end end def []=(index, val) case index when 0 self.x = val when 1 self.y = val else raise ArgumentError, "out of range `#{index}'" end end end point = Point.new(3, 6) p point[0] #=> 3 p point[1] = 2 #=> 2 p point[1] #=> 2 p point[2] #=>エラー（ArgumentError） についてお尋ねしたいのですが、 def [](index)で演算子を再定義する際、値を参照する方法で def [](index) 　case index 　when 0 　　x 　　： と、していますが、xp.135のアクセサの説明など では@xと「@」が要りそうな感じがするのですが、この 場合は省いて大丈夫なんでしょうか？ プログラムがローカル変数と間違って処理したりという ことは無いんでしょうか。 仮にないとすれば、ここのcase文にはインスタンス変数 と同じ名前のローカル変数などは定義できないのでしょうか？ ご教授願います。
windows7で複数のrbファイルをタスクスケジューラで定時実行する際の効率的な方法を教えてください。 今のところファイル1かは30までを順次実行するかんじです。 実行するファイル数が膨大なので、個別にタスクスケジューラに設定するのは煩わしいので、良い方法があったら教えてください。
こんばんは。 Rubyにおいて、改行の無いhtmlファイル(/home/edinet/**/*.html)を読み込む際に先に改行文字を入れておき、10~15行目の正規表現の通りに文字列を取得したいと考えています。 下記のままのプログラムだと改行が無いhtmlファイルであるため余計な部分まで取得してしまいます。 以下例になります。 ”中外製薬(株)100株0,000,000円情報収集のため”の部分の後に指定した普通株式という文字があるにもかかわらずそれ以降も取得してしまっています。 当事業年度銘　　　柄株式数（株）貸借対照表計上額（百万円）保有目的 大正製薬ホールディングス(株)300,000株2,493,000,000円取引関係の強化のため 日本水産(株)8,000,000株1,736,000,000円取引関係の強化のため 大日本住友製薬(株)913,000株1,497,000,000円取引関係の強化のため ＪＣＲファーマ(株)550,000株1,303,000,000円取引関係の強化のため アルフレッサホールディングス(株)176,900株1,190,000,000円取引関係の強化のため (株)スズケン157,200株628,000,000円取引関係の強化のため 東邦ホールディングス(株)243,400株531,000,000円取引関係の強化のため (株)メディパルホールディングス319,100株503,000,000円取引関係の強化のため コニカミノルタ(株)445,000株428,000,000円取引関係の強化のため (株)三菱ＵＦＪフィナンシャル・グループ611,000株346,000,000円取引関係の強化のため (株)ほくやく・竹山ホールディングス251,500株176,000,000円取引関係の強化のため (株)みずほフィナンシャルグループ504,080株102,000,000円取引関係の強化のため (株)バイタルケーエスケー・ホールディングス99,600株77,000,000円取引関係の強化のため イワキ(株)29,000株5,000,000円取引関係の強化のため 塩野義製薬(株)1,000株1,000,000円情報収集のため 田辺三菱製薬(株)1,000株1,000,000円情報収集のため 小野薬品工業(株)100株0,000,000円情報収集のため (株)三菱ケミカルホールディングス1,500株0,000,000円情報収集のため アステラス製薬(株)100株0,000,000円情報収集のため 武田薬品工業(株)100株0,000,000円情報収集のため エーザイ(株)100株0,000,000円情報収集のため 第一三共(株)200株0,000,000円情報収集のため 中外製薬(株)100株0,000,000円情報収集のため 普通株式296,000,000株 計296,000,000,000,000円 普通株式132,891,217株132,891,217,000,000円東京証券取引所(市場第一部)単元株式数1,000株 計132,891,217株132,891,217,000,000円―― 平成14年８月２日(注)―132,891株―26,137,000,000円△8,735株22,454,000,000円 政府及び地方公共団体金融機関金融商品取引業者その他の法人外国法人等個人その他計 個人以外個人 株主数(人)―48株38,000,000円273株130,000,000円19株18,939,000,000円19,447株― 所有株式数(単元)―21,507,000,000円1,088株34,172,000,000円26,219株22,000,000円48,527株131,535,000,000円1,356,217株 所有株式数の割合(％)―16.35,000,000円0.83株25.98,000,000円19.93株0.02,000,000円36.89株100.00,000,000円― 以下のメソッドでそういった事をしようとする場合、どのようにして入れれば良いのでしょうか？ File.openとeach_line、gsub!を用いて置換して挿入する方法では上手く取得することができませんでした。 以下プログラムになります。 1 text = "" 2 3 data = Dir.glob("/home/edinet/**/*.html") 4 5 data.each do |find| 6 7 flag = nil 8 IO.foreach(find) do |line2| 9 10 case line2 11 when /保有目的が純投資目的以外の目的である投資株式の保有区分、銘柄、株式数、貸借対照表計上額及び保有目/ 12 flag = true 13 when /保有目的が純投資目的である投資株式の前事業年度|保有目的が純投資目的|普通株式/ 14 flag = false 15 end 16 17 text << line2.chomp if flag == true 18 19 end 20 21 22 23 text.gsub!(/<\/td>/,"\t") 24 text.gsub!(/<\/tr>/,"\n") 25 text.gsub!(/<[^>]+>/,"") 26 27 text.gsub!(/前事業年度特定投資株式/,"前事業年度") 28 text.gsub!(/当事業年度特定投資株式/,"当事業年度") 29 text.gsub!(/前事業年度　　特定投資株式/,"前事業年度") 30 text.gsub!(/当事業年度　　特定投資株式/,"当事業年度") 31 text.gsub!(/前事業年度\t\t\t\t\n銘　　　柄/,"\n前事業年度\t銘　　　柄") 32 text.gsub!(/当事業年度\t\t\t\t\n銘　　　柄/,"\n当事業年度\t銘　　　柄") 33 text.gsub!(/^.*nbsp.*/,"") 34 text.sub!(/銘柄\t株式数/,"\t\t\t\t\n前事業年度\t銘　　　柄\t株式数") 35 text.sub!(/銘柄\t株式数/,"\t\t\t\t\n当事業年度\t銘　　　柄\t株式数") 36 text.sub!(/銘柄\t株式数/,"\t\t\t\t\n前事業年度\t銘　　　柄\t株式数") 37 text.sub!(/銘柄\t株式数/,"\t\t\t\t\n当事業年度\t銘　　　柄\t株式数") 38 text.gsub!(/前事業年度　特定投資株式/,"") 39 text.gsub!(/当事業年度　特定投資株式/,"") 40 41 print text ご回答の程よろしくお願いいたします。
こんにちは。 最近質問させていただいているRubyのスクローリングの際に１行ごとに文章を判定し、flagを立てて取得しているのですが、下記のプログラムで改行文字「¥n」を事前に挿入しているにもかかわらずflagがうまく機能しないため質問させていただきました。 読み込んでいるhtmlファイルは改行が少ないファイルであるため、改行を入れてあげなければ余計な部分まで取得してしまう状態です。 以下プログラムです。 1 text = "" 2 data = "/home/edinet/E05267/S1001YX6/index.html" 3 4 flag = nil 5 6 File.open(data) do |f| 7 8 f.each_line do |file| 9 file.gsub!(/<\/tr>/,"\n") 10 11 #IO.foreach(file) do |line2| 12 file.each_line do |line2| 13 case line2 14 when /保有目的が純投資目的以外の目的である投資株式の保有区分|保有目的が純投資目的以外/ 15 flag = true 16 17 when /保有目的が純投資目的である投資株式|EOF|無議決権株式|政府及び地方公共団体|普通株式|【監査報酬の内容等】/ 18 flag = false if flag == true 19 20 end 21 22 text << line2 if flag != nil 23 break if flag == false 24 25 end 26 text.gsub!(/<\/td>/,"\t") 27 #text.gsub!(/<\/tr>/,"\n") 28 text.gsub!(/<[^>]+>/,"") 29 print text 30 31 end 32 end ご回答の程よろしくお願い致します。
こんにちは。 Rubyの質問です。 htmlの文章にrubyで改行文字を挿入してそれを認識させたいのですが、 htmlの文章内に¥nを挿入しても読み込んだ際にうまく認識してくれませんでした。 何か他に方法があるのでしょうか。 ご教授の程よろしくお願い致します。
前に投降した、Aptana Studioの複数ファイルの扱いの続きですが、どなたか Aptana Studio 3に詳しい方、情報ください。 一応、Aptana Studio 3のパースペクティブにRubyが表示されるようにまでして、 「ファイル」→「新規」→「Ruby Project」を選んで、プロジェクトを作成した後、 このプロジェクトを右クリック→「新規」→「空のRubyスクリプト」で、use_grep.rbと grep.rbのファイルを作成して保存。 このプロジェクトを右クリック→「実行」→「Rubyスクリプト」→「launchスクリプトの選択（use_grep.rb）」 を実行すると、 C:/Ruby200/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:53:in `require': "\xEF\xBF" from Windows-31J to UTF-8 (Encoding::UndefinedConversionError) from C:/Ruby200/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:53:in `require' のエラーが出ます。（requireのWindows-31JのコードがUTF-8のものに変換できないといっているようなのですが、）こんな簡単なプログラムをAptana Studio 3で動かせないで昨日からはまってしまっています。 ちなみに前回のものはRubyのパースペクティブが使える前の段階で、プロジェクトの下のファイルは 「New FromTemplate」→「Ruby」を選択して２つのファイルを作っています。 Aptana Studio 3でrequireコマンドを使って、２つ以上のファイルを動かした経験のあられる方、 御教示お願い致します。
こんにちは。 何度か質問させていただいていたのですが、正規表現を使っても正しく取得できない部分があったので質問させていただきました。 取得したい文字列の部分にflagをたてて、そこからfalseになるまで取得し続ける形をとっているのですが、どうもfalseになってbreakするはずの部分で取得を終了してくれません。 どう直せば良いのでしょうか？ご教授お願い致します。 プログラムは以下の通りです。 2 text = "" 3 4 data = "/home/edinet/E05267/S1001YX6/index.html" 5 6 flag = nil 7 IO.foreach(data) do |line2| 8 line2.gsub!(/普通株式/,"\nEOF") 9 case line2 10 when /保有目的が純投資目的以外の目的である投資株式の保有区分|保有目的が純投資目的以外/ 11 flag = true 12 13 when /保有目的が純投資目的である投資株式の前事業年度|EOF|無議決権株式|政府及び地方公共団体|調　整　後　転　換　価　額|保有目的が純投資目的|普通株式|監査報酬の内容等/ 14 flag = false if flag == true 15 16 end 17 18 text << line2.chomp if flag != nil 19 break if flag == false 20 21 end 22 text.gsub!(/<\/td>/,"\t") 23 text.gsub!(/<\/tr>/,"\n") 24 text.gsub!(/<[^>]+>/,"") 25 print text 実行結果 ロ　保有目的が純投資目的以外の目的である投資株式の保有区分、銘柄、株式数、貸借対照表計上額及び保有目的&nbsp;(前事業年度)特定投資株式銘柄株式数(株)貸借対照表計上額(千円)保有目的 アイサンテクノロジー株式会社50,00011,150取引関係の維持強化 セイコーエプソン株式会社10,0009,130取引関係の維持強化 株式会社トプコン10,0008,570取引関係の維持強化 株式会社大和証券グループ本社10,0006,560取引関係の維持強化 株式会社八十二銀行10,0005,690取引関係の維持強化 佐田建設株式会社60,0004,500取引関係の維持強化 &nbsp;&nbsp;(当事業年度)特定投資株式銘柄株式数(株)貸借対照表計上額(千円)保有目的 アイサンテクノロジー株式会社50,00043,900取引関係の維持強化 セイコーエプソン株式会社10,00032,100取引関係の維持強化 株式会社トプコン10,00016,920取引関係の維持強化 株式会社大和証券グループ本社10,0008,980取引関係の維持強化 福井コンピュータホールディングス株式会社10,0008,650取引関係の維持強化 株式会社八十二銀行10,0005,870取引関係の維持強化 &nbsp;&nbsp;ハ&nbsp; 保有目的が純投資目的である投資株式該当事項はありません。&nbsp;(6) 会計監査の状況当社は、金融商品取引法監査について有限責任監査法人トーマツより継続的に監査を受けており、正確な経営情報・財務情報の提供に配慮しております。業務を執行した公認会計士の氏名所属する監査法人 指定有限責任社員業務執行社員五十幡 理一郎有限責任監査法人トーマツ 指定有限責任社員業務執行社員小&nbsp; 松&nbsp;&nbsp;&nbsp;&nbsp; 聡有限責任監査法人トーマツ &nbsp;継続関与年数については、７年以内であるため記載を省略しております。また、公認会計士４名、その他２名が会計監査業務に関っております。&nbsp;&nbsp;(7) 取締役会で決議することができる株主総会決議事項（自己の株式の取得）当社は、経営環境の変化に対応した機動的な資本政策を行うため、会社法第165条第２項の規定により、「取締役会の決議によって市場取引等により自己の株式を取得することができる。」旨を定款に定めております。&nbsp;（中間配当）当社は、株主への機動的な利益還元を行うため、会社法第454条第５項の規定により、「取締役会の決議によって、毎年９月30日を基準日として、中間配当を行うことができる。」旨を定款に定めております。&nbsp;(8) 取締役の定数当社の取締役は、「７名以内とする。」旨を定款に定めております。&nbsp;(9) 取締役の選任の決議要件当社は、取締役の選任決議について、「株主総会において議決権を行使することができる株主の議決権の３分の１以上を有する株主が出席し、その議決権の過半数をもって行い、かつ累積投票によらない。」旨を定款に定めております。&nbsp;(10) 株主総会の特別決議要件当社は、株主総会における特別決議の定足数を緩和することにより、株主総会の円滑な運営を行うため、会社法第309条第２項に定める株主総会の特別決議要件について、「議決権を行使することができる株主の議決権の３分の１以上を有する株主が出席し、その議決権の３分の２以上をもって行う。」旨を定款に定めております。&nbsp;(2) 【監査報酬の内容等】&nbsp;(1) 【監査公認会計士等に対する報酬の内容】前事業年度当事業年度 監査証明業務に基づく報酬(千円)非監査業務に基づく報酬(千円)監査証明業務に基づく報酬(千円)非監査業務に基づく報酬(千円) 14,600─14,600500 &nbsp;&nbsp;(2) 【その他重要な報酬の内容】該当事項はありません。&nbsp;(3) 【監査公認会計士等の提出会社に対する非監査業務の内容】前事業年度該当事項はありません。&nbsp;当事業年度当社は監査公認会計士等に対して、公認会計士法第２条１項の監査証明業務以外の業務である内部管理体制の整備に関する助言・指導業務について対価を支払っております。&nbsp;(4) 【監査報酬の決定方針】当社の監査法人に対する監査報酬の決定方針としましては、事前に見積書の提示を受け、監査日数、監査内容及び当社の規模等を総合的に勘案し、監査役会及び関連部門と協議を行ったうえ決定することとしております。&nbsp;第５ 【経理の状況】&nbsp;１．財務諸表の作成方法について当社の財務諸表は、「財務諸表等の用語、様式及び作成方法に関する規則」(昭和38年大蔵省令第59号。以下「財務諸表等規則」という。)に基づいて作成しております。　なお、当事業年度(平成25年４月１日から平成26年３月31日まで)の財務諸表に含まれる比較情報については、「財務諸表等の用語、様式及び作成方法に関する規則等の一部を改正する内閣府令」（平成24年９月21日内閣府令第61号）附則第２条第２項により、改正前の財務諸表等規則に基づいて作成しております。&nbsp;２．監査証明について当社は、金融商品取引法第193条の２第１項の規定に基づき、事業年度(平成25年４月１日から平成26年３月31日まで)の財務諸表について、有限責任監査法人トーマツにより監査を受けております。&nbsp;３．連結財務諸表について当社は子会社がありませんので、連結財務諸表を作成しておりません。&nbsp;４．財務諸表等の適正性を確保するための特段の取組みについて当社は、財務諸表等の適正性を確保するための特段の取組みを行っております。具体的には、会計基準等の内容を適切に把握し、又は会計基準等の変更等について適切に対応することができる体制を整備するため、公益財団法人財務会計基準機構へ加入し、同機構が開催する研修等へ参加しております。 ※長いためこれ以降は割愛します。 よろしくお願いします。
1 2 text = "" 3 data = "/home/edinet/E30682/S1002C62/index.html" 4 5 6 flag = nil 7 IO.foreach(data) do |line2| 8 9 case line2 10 when /保有目的が純投資目的以外の目的である投資株式の保有区分/ 11 flag = true 12 13 when /保有目的が純投資目的である投資株式|監査報酬の内容等/ 14 flag = false 15 16 end 17 18 text << line2.chomp if flag == true 19 break if flag == false 20 21 end 22 text.gsub!(/<\/td>/,"\t") 23 text.gsub!(/<\/tr>/,"\n") 24 text.gsub!(/<[^>]+>/,"") 25 print text 26 27 28 やりたいことは 「保有目的が純投資目的以外の目的である投資株式の保有区分」が含まれる行から 「保有目的が純投資目的である投資株式」「監査報酬の内容等」が含まれる行までを取得し、 textにそれらを入れ込む 「保有目的が純投資目的である投資株式」「監査報酬の内容等」が含まれる行まで行くと繰り返しが終了する です。 しかし、これを実行しても何も表示されないため解決方法について質問させていただきました。 なお、break if flag == false の部分をコメントアウトすると指定していない部分まで取得し、printしてしまいます。 どこを直せば正しく取得できるでしょうか？ どうかご教授の程よろしくお願いいたします。
コマンドプロンプトでRubyのirbコマンドを使って漢字入力を行うと、 漢字変換はしてくれるのですが、入力確定のためにEnterキーを押すと、 別の文字になってしまいます。 >irb -E Shift_JIS なども試してみたのですがうまくいきません。 何か設定の仕方とかあるようでしたら御教示ください。
以下のように、親メソッドからwrite_on_spreadsheetから子メソッド( copy_formatting_to_specified_rows)に変数を引き渡す場合、 関数の引数として渡すべきか、インスタンス変数にして引き渡すべきかどっちがいいのでしょうか。 理由とともに教えて下さい。 なお、プログラムは質問用に書いたものでテストはしていないので、細かいミスはお見逃し下さい。m(__)m 個人的にそれぞれのデメリットは 引数・・・メリット/デメリット スコープ範囲が限定されるので、バグ混入を防げる。/引数が場合によっては４つや５つになってしまい、記述が煩雑になる。 インスタンス変数・・・記述がシンプル/変数のスコープ範囲がメソッドの外にに及んでしまう。 なお、ここで使ってるとgemは、グーグルスプレッドシートのレンジ(行、列）に値を入れたりするVBA的なものです。 require google-drive class Spreadsheet def write_on_spreadsheet(max_row, num) 　#グーグルスプレッドシートに書き込みます。 (1..max_row).each do |row | spreadsheet(row, 1) = num if spreadseet(rowl, 1) == “100” #特定の行には、セル(1,5)のフォーマットをコピーします。 copy_formatting_to_specified_rows(max_row,row,num) get_days( break end end end def copy_formatting_to_specified_rows(max_row,num) (row..max_row).each do |row| ~略~ end end def get_days ~略~ end end sh = Spreadsheet.new sh.write_on_spreadsheet(230,15)
配列内の変数の保持と、引数とインスタンス変数の使いわけについて class Test def main max_day = 3 p find_required_day(max_day) end def find_required_day(max_day) today = Time.now.day (1..max_day).each do |day| @day = day @today_equal_required_day = day == 3 break if @today_equal_required_day end return required_day = @today_equal_required_day ? @day : today end end test = Test.new test.main 配列の変数を、ループ終了後にするには上のようにインスタンス変数にするの が一般的なのでしょうか。 個人的には、一つのメソッド内でしか使わない変数は、ローカル変数にしない のはちょっと違和感があるのですが。 また上のように、上位のメソッドから下位のメソッドに変数を渡す場合、イン スタンス変数にするか、引数にするのはどちらがいいのでしょうか。 以上２点よろしくお願いします。m(_ _)m ＊これは質問用に簡易にかいたので、find_required_day(3)にすればいい。と いうような、この質問事項のみにしか適応できないご回答はご遠慮お願いします。
メソッドが定義されるタイミングについて ケース１ # 1 p cal(3) def cal(num) 1 + num end #2 p cal(3) ケース２ class test def cal(num) 1 + num end #3 p cal(3) end test = Test.new ケース１、２を通して、#2以外はcal()のメソッドが定義されていません。とい うエラーがでます。 なぜ＃２のｐだけは実行されて他のものは実行されないでしょうか。
再帰に関する質問です。 class Test  def fact(n)    return 1 if n == 0    n * fact(n - 1)    p n  end end myfact = Test.new p myfact.fact(3) なぜ、"p n"をメソッドの中に入れると最後の "p myfact.fact(3)"の結果が3に なるのでしょうか。 "p n"をコメントアウトすると正常に6という結果がでます。 この再帰の構造は、 #1st loop fact(3)。 n = 3  3 * fact(2) end #2nd loop fact(2)  n = 2  2 * fact(1) end #3rd loop fact(1)  n = 1  1 * fact(0) end #last loop fact(0) return 1 end となってますよね。ここで最後のfact(0)から、リバースしていくわけで、 fact(1) 1 * 1 p n =>1 end fact(2) 2 * 1 p n => 2 end fact(3) 3 * 2 p n => 3 end ここまではわかります。ではなぜ最後の"p myfact.fact(3)"が3になるのでしょ うか。
楽しいRuby第４版のp.120で def a(a, b: 0, c:0) 　[a, b, c] end のように、必須の引数とキーワード引数を混在 させることができると説明があったので試しに def meth(a, b: 2, c: 3, *args) 　[a, b, c, args] end p meth(1,2,3) のように、必須の引数とキーワード引数と不定の 引数を混在させたところエラーが返りました。 やはり、不定の引数*argsまで混在させられないの でしょうか？ irbで試すとメソッド定義をendで括った瞬間に エラーが返りましたんで、きっとこれが原因だと 思うのですが。
メソッド定義の構文に出てくる「def」とは何の略でしょうか？ default（デフォルト）と思えばそのようにもとれるし definition（デフィニション＝定義）と思えばそうともとれるし ファイル名等に使いたいので正確な情報がほしいです。
こんばんは。 最近Rubyでファイルのスクローリングをしているのですが、 以下のようなスクリプトを全てのファイルに適用したいと考えています。 1 fpath = '/home/edinet/E30479/S1002D1W/index.html' 2 3 text = "" 4 5 6 File.open(fpath).each do |f| 7 f.each_line do |line| 8 9 line.gsub!(/前事業年度特定投資株式/,"前事業年度") 10 line.gsub!(/当事業年度特定投資株式/,"当事業年度") 11 12 end 13 end 14 15 16 flag = nil 17 IO.foreach(fpath) do |line2| 18 19 case line2 20 when /保有目的が純投資目的以外/ 21 flag = true 22 when /保有目的が純投資目的/ 23 flag = false 24 end 25 26 text << line2.chomp if flag == true 27 end Dir.globなどを使えば良いと思うのですが、具体的にはどのように記述すればよいのでしょうか？ ご教授の程お願い致します。
エディタはsublime text 2を使っているのですが 楽しいRuby第四版のサンプルプログラムで学習を始めた当初、エンコードのエラーがでました。 プログラムの行頭に# encoding: UTF-8 とマジックコメントを打ってもエラーはなおらず、プログラムを呼び出す際に、>ruby -E UTF-8　と指定すると問題なく走りました。 で、その後も、日本語を使用したプログラムを実行する際にエンコードをプログラムの行頭で指定していないファイルでも、呼び出す際に「-E UTF-8」としなくても、問題なく走るようになったんですが。 楽しいRuby第四版のサンプルプログラムでlist6.15にstrip.rbというものがあり、内容は file = File.open(ARGV[0]) file.each_line do |line| 　next if /^\s*$/ =~ line #空白行 　next if /^#/ =~ line　　#シャープで始まる行 　puts line end file.close というものがあり、これはコマンドラインから指定したファイルから空白行とシャープで始まる行を抜き取って出力するプログラムなんですが、これを実行する際にまたエンコードのエラーが出てしまいます。 プログラムの行頭で# encoding: UTF-8　と指定してもエラーになり、呼び出す際に>ruby -E UTF-8 strip.rb 呼び出すプログラム名 で問題なく走ったのですが、これは毎回呼び出すたびに-E -UTF-8を指定しないと走ってくれません。 日本語は使っていないプログラムなんで正規表現の部分で何かがひっかかっていると思うんですが、何が原因なんでしょうか。 エディタの問題なんでしょうか（ネットで調べるとsublime text ２はUTF-8しか対応していないと書いてありました。 また、パソコンはプログラム学習用として米国製のAcerというノートパソコンを使っています。
さくらインターネットサーバーのスタンダードプランにインストールを試みているのですが、難しくてまったくうまく行きません。 さくっとインストールする方法はないでしょうか？
Rubyのunlessで適当にプログラムをつくって遊んでいました。 01:a = 10　#aに10を代入 02:b = 20　#bに20を代入 03: 04:unless a > b 05:　puts "aはbより大きくない" 06:else 07:　puts "aはbより小さくない" 08:end 09:#unless文にはelsif節等がなく、条件項目を増やせないのでaとbの値が同じ場合は 10:#どうしようかと、これをif文で補おうとしました。 11:if a = b 12:　puts "aとbは同じです" 13:end 14: 15:puts "a=#{a} b=#{b}" そもそも、aとｂの値が同じでない場合１１行目のifが実行されることは無いだろうと思っていたのですが実効結果は ↓ aはbより大きくない aはbと同じ a=20 b=20 という結果がでました。実行結果一行目の「aはbより大きくない」と出力されたのはプログラム4行目のunless文の返した結果だろうと理解できましたが、実行結果2行目のif文の結果である「aはbとおなじ」が出力されたのか、実行結果３行目でaとbの変数内を参照しておりますが、ここでどうしてaの値が２０に変更されているのか、わかりません。 詳しい方いらっしゃいましたらご教授願います。
楽しいRuby第四版を見ながら、独学でRuby言語を勉強している者です。 p.71に記載されているList 5.1の、西暦から平成へ変換するプログラムad2heisei.rbについてなんですが、１９８８年以前の西暦を入力すると平成０年になったり、マイナスになったりするという問題点をその章の課題である条件判断文を使いながら、西暦を平成から昭和まで変換できる改良版をつくってみました。 01:#西暦から平成および昭和に変換する 02: 03:ad　=　ARGV[0].to_i 04:if　ad　>　1988 05:　　heisei　=　ad　-　1988 06:　　print　"西暦",　ad,　"年は平成",　heisei,　"年です。\n" 07:elsif　1988　>　ad　&&　ad　>　1925 08:　　syouwa　=　63　-　(1988　-　ad) 09:　　print　"西暦",　ad,　"年は昭和",　syouwa,　"年です。\n" 10:else 11:　　print　"西暦",　ad,　"年は昭和以前です。\n" 12:end で、質問なんですが、当初３行目のad = ARGV[0].to_iを分かり易いように二段に分けて 03:ad　=　ARGV[0] 04:ad.to_i という風にしていたらエラーが出て走りませんでした。 ARGVはコマンドラインに入力されたものを文字列オブジェクトとして受け取ることは分かっていたのですが、何故上の記述でエラーがでるのか理解できませんでした。 irbで同じことをやってみると、２行目のad.to_iで数値オブジェクトに変換されるのですが、再びadの変数内を参照すると文字列としてオブジェクトが格納されていました。 変数に代入する再に数値に変換しておかないと、後からではいくら数値に変換してもその場かぎりで、その値が失われてしまうということなのでしょうか？ 詳しい方いらっしゃいましたらご教授願います。
Ruby2.1.3を使って楽しいRuby第４版を学習しているんですが ppメソッドでp.56のListの例題のとおりv = [{key00:"「楽しいRuby第４版」", key01:"「Rubyレシピブック」", key03:"「rails3レシピブック」"}]を出力しても、適度に改行してくれません。 出力結果はpメソッドと同じく横に羅列されてでてきます。 何がいけないんでしょうか？
こんばんは。 Rubyでファイルの特定行を抽出するプログラムを作っているのですが、 flagを立てて特定の場所から特定の場所までを指定する方法をとりたいと思っています。 ある程度までは書いたのですが、そこからどうすれば良いのかが分かりません。 なにとぞ御教授、御添削の程お願い致します。 data = File.open(fpath) do |f| 6 7 f.each_line do |line| 8 9 line.gsub!(/前事業年度特定投資株式/,"前事業年度") 10 line.gsub!(/当事業年度特定投資株式/,"当事業年度") 11 12 13 line.gsub!(/保有目的が純投資目的である/,"EOF") 14 line.gsub!(/保有目的が純投資目的の/,"EOF") 15 16 # next unless line =~ /保有目的が純投資目的以外/ .. line =~ /EOF/ 17 18 19 if $flag == 1 20 text << line.chomp unless line =~ /^\s+$/ 21 22 if line =~ /保有/ 23 $flag = 1 24 else if line =~ /EOF/ 25 $flag = 0
こんにちは。 当方Ruby初心者です。 HTMLからの正規表現による文字列の取得のプログラムを組んでいたのですが、 分からない所があったため質問させていただきました。 やりたいことは、以下の数字の文字列の後ろにそれぞれ「株」と「,000円」という文字を追加することです。 全ての数字の後ろに株、もしくは,000円を追加する事はできるのですが、個別に追加することができません。 どうかお力添えをお願いいたします。 前事業年度銘　　　柄株式数（株）貸借対照表計上額（千円）保有目的 　株式会社エイチーム200,400円株722,442　関係強化 　株式会社ケイブ15015,900　関係強化 &nbsp;　 当事業年度銘　　　柄株式数（株）貸借対照表計上額（千円）保有目的 　株式会社エイチーム125,300697,921　関係強化 　株式会社ケイブ5,0008,475　関係強化 以下プログラムです。 if text.match('株式数（株） 貸借対照表計上額（千円）') 28 text.gsub!(/\d[0-9]*?,\d[0-9]+|\d[0-9]+/) {$&.concat('株')} 29 text.gsub!(/\d[0-9]*?,\d[0-9]+|\d[0-9]+/) {|s1| s1.concat('株')} 30 else if text.match('株式数（1000株）') 31 text.sub!(/\d[0-9]+,\d[0-9]+/) {|s| s.concat(',000株')} 32 end 33 end 34 print text
Ｂ列（項目）に記載されてるコード（100、200）をＡ列に表示させる関数はありますでしょうか？ 例えば、 項目コードが「100」の下にある「1～6」までのＡ列に、それぞれ「100」と表示させたいです。 同じように、「200」の下にある「1～6」までのＡ列には、それぞれ「200」と表示せたいです。 宜しくお願い致します。
基本的な質問で恥ずかしいんですが、 Rubyでhtmlの中から.rdfか.xmlで終わるURLを取り出そうとして以下のようにしているんですが、 xmls = html.scan( /http\:\/\/[^\\\'\|\`\^\"\<\>\)\(\}\{\]\[\]\ ]+\.xml/ ) rdfs = html.scan( /http\:\/\/[^\\\'\|\`\^\"\<\>\)\(\}\{\]\[\]\ ]+\.rss/ ) feeds = xmls + rdfs これを一行で書ける正規表現を教えて下さい。 ハマって抜けだせません。よろしくおねがいします。
Ruby on Rails 4.1.2 を学習しています。 [1] pry(main)> Entry.all Entry Load (0.1ms) SELECT "entries".* FROM "entries" +----+--------+--------------+---------------------------+ | id | name | comment | updated_at | +----+--------+--------------+---------------------------+ | 1 | Taro | 楽しみです | 2014-09-16 20:00:00 +0900 | | 2 | Jiro | わくわく | 2014-09-16 20:20:00 +0900 | | 3 | Saburo | 頑張ります | 2014-09-16 20:10:00 +0900 | +----+--------+--------------+---------------------------+ Entryモデル（テーブル）で、最後に更新したレコードを取得するにはどのようにしたら良いでしょうか？ 最終更新日が2014-09-16 20:20となっているid=2のレコードを取得したいのです。 Entry.find(2)とすれば、もちろん取得できるのですが、それではあんまりですし。 よい方法を教えて頂けないでしょうか？ どうぞよろしくお願いいたします。
rubyでphpの continue 2; みたいなことはできるのでしょうか？ 教えてください。
Rubyの初心者でSeleniumを使ってスクレイピングを趣味としてしているものです。 ブラウザはchromeです。 この間、例外が上がったときに一定回数リトライする方法をご伝授頂きました。 http://oshiete.goo.ne.jp/qa/8722965.html そしてそれを活用して、CSVにスクレイピングをしたいURLを1列目に並べ、複数のページをスクレイピングしているのですが、 def try(n=10) require 'pp' require 'csv' require 'selenium-webdriver' require 'open-uri' hoge_path = File.expand_path('../hoge.csv',__FILE__) driver = Selenium::WebDriver.for :chrome #chrome のdriverを設定 CSV.foreach(hoge_path) do |row| driver.navigate.to row[1] #URL移動 #ページの移動など driver.quit #ブラウザ終了 driver = Selenium::WebDriver.for :chrome #chrome のdriverを設定 end rescue => e if n==0 raise e driver.quit #ブラウザ終了 else driver.quit #ブラウザ終了 try(n-1) end end try よく仕組みを理解できていないのですが、CSV.foreach内はループされます。 そして、404エラーなどで落ちるとまた一行目に戻ってスクレイピングが行われ、非常に困っています。 そこで、CSVファイルの1行目をループするまたは例外のリトライの際に削除していけば良いと考えたのですが、一行目を削除するというコードをどう書けばいいのか分かりません。 どうかご伝授お願いします。
本職ではない日曜プログラマならばRubyとPythonのどちらを学ぶべきでしょうか？ 前提として、英語はできるのでそちらの情報も読み解けますが、やはり日本語の方が楽です。 また、何か（Webアプリとテキスト・ファイル処理）を作るにしても基本一人です。 コードを書くのが楽しいと聞くので、チームではないことからもRubyを選びたいのですが、 GoogleとAmazonはクラウドベースでPythonを使うと聞きます。実際にどのように利用してよいのか未勉強ですが、この点は見逃せないように思います。 現在のスキルはVBAとSQL程度です。RubyとPython両方学べばよいのでしょうが、日曜プログラマですのでそこまでの時間がありません。また、これで食べていこうとかいうのではありません。 アドバイスよろしくお願いいたします。
ruby初心者です。 プログラム中の標準出力を、通常の出力も表示しながら取得したいと考えています。 自分でもいろいろ調べてみたのですが、 標準出力を取得する以下のようなコード ======================================================== # ブロック内の標準出力を取得する def capture_stdout out = StringIO.new $stdout = out yield return out.string ensure $stdout = STDOUT end (ttp://blog.livedoor.jp/sonots/archives/33344291.html) ================================================= は見つけたのですが、 これだと出力結果は、 capture_stdoutのブロックが終了しないことには取得できません。 capture_stdoutの中のブロック内プログラムの出力をコンソールに表示しながら、 最後に出力結果も取得したいのですが、 何か方法はあるのでしょうか？ 教えてください。
Rubyの初心者でSeleniumを使ってスクレイピングを趣味としてしているものです。 ブラウザはchromeです。 スクレイピングをしたいページで404が数回続き、やっと読み込めるサイトがあるので、404エラーで止まってしまうのである要素が無ければもう一度やり直す、そのようになったら初めからやり直してみる形にしたいと思って色々と調べ試行錯誤をしています。 https://www.qoosky.net/references/58/ を参考に require 'selenium-webdriver' driver = Selenium::WebDriver.for :chrome #chrome のdriverを設定 driver.navigate.to "http://google.com" wait = Selenium::WebDriver::Wait.new(:timeout => 10) # seconds begin element = wait.until { driver.find_element(:id => "hoge") } ensure driver.quit driver.navigate.to "http://google.com" end id、hogeが無ければもう一度読み直すような形でやってみたのですが全く意味をなしていないようです。 何卒どうかご教授、よろしくお願いします。
現在、Railsの4.0.2と4.1.4の両方をインストールしてあって、 >rails -v はRails 4.1.4になっています。これを旧ヴァージョンの4.0.2に戻したいのですが、 >gem uninstall rails -v 4.1.4 >gem uninstall railties -v 4.1.4 として、 >rails -v とすると、 Could not find rails-4.1.4 in any of the sources Run `bundle install` to install missing gems. と言われてしまいます。これで、 >bundle install を実行するとrails-4.1.4のものがまたインストールされてしまい、 .>rails -v は再び、Rails 4.1.4になってしまいます。 Rails4.0.2に戻す方法をどなたか教えてください。
こんばんは。 Ruby初心者ですが、現在、Selenium Webdriver、chromeにはまり、スクレイピングのような事をしています。 そんな中で困っている事があるのですが、 とあるサイトの画像URLを取得、テキストに追記で書き出ししようと色々と調べたのですが全く分からず困っています。 <div class="hoge"> <img src="http://hoge" alt=""></div> htmlはこんなようでxpathは/hoge/imgと仮定します。 open("hoge.txt", "a"){|f| output = driver.find_element(:xpath, '/hoge/img') f.puts "#{output.text}" } のように書いてみたもののテキストに改行しか出力されない状態です。 何卒どうかご教授、よろしくお願いします。
Rubyのライブラリをインストールするのに使う、「gem」についての質問です。 ちなみに、Windows 7の64bitを使っています。 ウェブブラウザエミュ系のライブラリを使いたく、 gemでMechanizeをインストールしようとしたのですが失敗します・・・。 gem install Mechanize をしようとすると、以下のようになります。 お助けを・・・。 C:\windows\system32>gem install Mechanize ERROR: Could not find a valid gem 'Mechanize' (>= 0) in any repository ERROR: Possible alternatives: mechanize C:\windows\system32>gem install mechanize Building native extensions. This could take a while... ERROR: Error installing mechanize: ERROR: Failed to build gem native extension. C:/Ruby200-x64/bin/ruby.exe -r ./siteconf20140719-13616-a69xok.rb extconf.rb checking for main() in -lstdc++... *** extconf.rb failed *** Could not create Makefile due to some reason, probably lack of necessary libraries and/or headers. Check the mkmf.log file for more details. You may need configuration options. Provided configuration options: --with-opt-dir --without-opt-dir --with-opt-include --without-opt-include=${opt-dir}/include --with-opt-lib --without-opt-lib=${opt-dir}/lib --with-make-prog --without-make-prog --srcdir=. --curdir --ruby=C:/Ruby200-x64/bin/ruby --with-stdc++lib --without-stdc++lib C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:434:in `try_do': The compiler failed to ge nerate an executable file. (RuntimeError) You have to install development tools first. from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:519:in `try_link0' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:534:in `try_link' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:720:in `try_func' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:950:in `block in have_library ' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:895:in `block in checking_for ' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:340:in `block (2 levels) in p ostpone' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:310:in `open' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:340:in `block in postpone' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:310:in `open' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:336:in `postpone' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:894:in `checking_for' from C:/Ruby200-x64/lib/ruby/2.0.0/mkmf.rb:945:in `have_library' from extconf.rb:2:in `<main>' extconf failed, exit code 1 Gem files will remain installed in C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/unf_e xt-0.0.6 for inspection. Results logged to C:/Ruby200-x64/lib/ruby/gems/2.0.0/extensions/x64-mingw32/2.0. 0/unf_ext-0.0.6/gem_make.out
よくホームページ等のユーザー登録画面にある、郵便番号を入力してボタンを押すと自動的にテキストボックス内に住所が表示される画面を作成したいのですが、Railsでどのように作成すればよいか分かりません。 どなたか詳しい方いらっしゃいましたらご教示願います。
アプリケーションからではなく、ローカルからherokuのDBへのレコードの挿入方法を教えてください。 現在、Ruby on Rails4でherokuへのデプロイが完了した地点まで来ました。 db:migrateでデータベースの構築までできたのですが、レコードの追加方法がわかりません。 マスタテーブルは以降更新する必要が無いのでseedで設定してやれば良いのはわかるのですが、不定期的にレコードを追加したいテーブルでは、どのようにしてレコードを追加/更新すれば良いでしょうか。 よろしくお願い致します。
初歩的な質問ですみません。Ruby初心者です。 Rubyの配列を使って以下のようなことをしたいのですが可能でしょうか？ a = [2, 4, 6] b = 2 c = a / b # => [1, 2, 3] 配列aの全要素を定数bで割ろうとしています。 NArrayを使えば可能なようですが、 Ruby標準の配列でこのようなことはできますか？ 可能でしたらその方法をご教授ください。
Ruby on Rails を学習中です。 パスワードは、 「長さは8文字以上で、英数記号全てを含まなければならない」 としたいと思います。 正規表現はどのように書けばよろしいでしょうか？ VALID_PASSWORD_REGEX = /\A[\w]/i validates :password, length: { minimum: 8 }, format: { with: VALID_PASSWORD_REGEX } [a-zA-Z] && [\d] && [!|@|#|$|%] と書けると良いのですが、 正規表現では and 表現が難しいようなので、困っています。 助けて頂けないでしょうか？ どうぞよろしくお願いいたします。
Rails4の開発で困っています。 コントローラーのRedirect_ToからほかのサーバへダイレクトにURLを記載し、そのURLの後ろに、?からJSON形式データをつけて渡そうとしています。 一度実施してみると、Webrickのログでは、ＵＲＬを生成できていますが、 ERROR URI::InvalidURIError: bad URI(is not URI?) というエラーが出て送信できません。 redirect_toを利用することにこだわりはありません。 jsonデータをコントローラーで生成して、そのあと、決まったURLにつけて送信するだけです。 何か良い方法はないでしょうか？
下記のように、Photo1ディレクトリに、001. 002 ・・・とサプディレクトリがあり、それぞれの中にjpgファイルが連続してある場合 （変更前） についての質問です。　コマンドプロンプトよりRubyを使い、下記の図のようにPhoto1のリネイムを行ったPhoto2を新たに作成したいのですが、どのように書けばよいのか教えてください。宜しくお願いします。 (変更前) Photo01 +------ 001 |　　　　　 +-- 1.jpg |　　　　　 +-- 2.jpg | 　　　　　+-- 3.jpg | +------ 002 | 　　　　　+-- 1.jpg | 　　　　　+-- 2.jpg | 　　　　　+-- 3.jpg | +------ 003 | 　　　　　+-- 1.jpg | 　　　　　+-- 2.jpg |　　　　　 +-- 3.jpg ～ （変更後） Photo02 +-- 001.jpg +-- 002.jpg +-- 003.jpg +-- 004.jpg +-- 005.jpg +-- 006.jpg +-- 007.jpg +-- 008.jpg +-- 009.jpg + 　　～
色々初心者です。 ターミナルからコマンドで rails s としてrailsを立ちあげた後、ターミナルを終了したいのですがそのままの状態でターミナルを閉じても問題はないでしょうか？ railsを立ちあげてるときはずっとターミナルを開いていないといけないような気がしてパソコンをシャットダウン出来ずにいます。
変数hogeの値が次の四つの値 'h','o','g','e' と等しいか？　の判定を行う式を書きたいです。（正規表現は使わないとします。） hoge='V' if hoge=='h' || hoge=='o' || hoge=='g' || hoge=='e' puts 'ok' end 上記の様に書いたのですが、四回もhoge==を書いてとってもメンド臭かったです。 もう二度とこんなメンドクサイ事はしたくありません。 もっと楽な書き方がある様な気がするのですが、どうしたらよいでしょう？ なるべく簡素な書き方が良いです。　関数を作るなど、最初はちょっとメンドクサイけど、後は一生楽ができる方法でも良いです。 お願いします。
Windows上でメールを受信するRubyでプログラミングをし、動作することは確認しています。 require "mail" で始まるのですが、 Ubuntu12.04LTSでは 'require': cannot load such file -- mail (LoadError) と出てしまいます。 このmailライブラリをインストールしたいのですが、 sudo apt-get install mail のようにコマンドラインから入力しても E: パッケージ mail がみつかりません と出てしまいます。 Rubyのバージョンは 2.0.0p247 Railsのバージョンは2.3.14 です。 どのようにすれば require "mail"が可能になるでしょうか？ よろしくおねがいします。 以上
いつもお世話になってます。また1件教えて下さい。 プロバイダのPOPサーバに大量のメールが溜まっており、 特定のSubject(件名)のメールだけ削除したいのですが、 どのようにすればよいでしょうか？ 以下のようにすれば、Subjectは取り出せるものの削除の方法がわかりません。 以下のプログラムを拡張する形でなくても結構ですので、 何かいい方法ないでしょうか？ require "mail" Mail.defaults do retriever_method :pop3, :address => "xxxx.xxxx.jp", :port => 110, :user_name => 'xxx@xxxx.com', :password => 'xxxxxxx', :enable_ssl => false end m0=Mail.last p m0.subject
以前した質問（http://okwave.jp/qa/q8484921.html）と非常に似てる質問になります。 以前の質問ではブロックの中で、そのクラスのメソッドを呼ぶ時のことでしたが、今回はメソッドではなく、定数にアクセスする時の質問です。 class Hoge VAL=1 def piyo yield end end h=Hoge.new h.piyo do |this| puts Hoge::VAL #＜ーココの話 end 上の様に書く時、ブロックの中で、そのクラスの中の定数を参照するとき、上の例だと Hoge::VAL と書いてますが、Hoge::と書くのがとても嫌なので、以下の様に書いてみました。 class Hoge VAL=1 def piyo yield self end def retVal VAL end end h=Hoge.new h.piyo do |this| puts this.retVal　#<-Hoge::VALと書かなくてよくなった。 end が、しかし実はVALなどの定数は多数あり、その数の分だけ値を返すメソッドを書くなんて、もっと嫌です。 なんか良い書き方はあるのでしょうか？ 以下、蛇足なのですが、そもそもクラスの中でしかアクセスしないマジックナンバー的な定数の定義の仕方が間違っているのでしょうか？　moduleに定義して、クラスの中とブロック使うところでincludeするなどの方がスッキリするのかも。。
class Hoge def val 'aaa' end def piyo yield end end h=Hoge.new h.piyo do p h.val　#＜ーここの話 end 上の様に書く時、ブロックの中で、そのクラスのメソッドを呼ぶ時、上の例だと h.val と書いてますが、これself.valなどと書きたいのですがERRになってしまいます。 h.と書くのがとても嫌なのですが、なにか良い書き方あるのでしょうか？
以下のようなプログラムで、素数をカウントダウンする事が出来るのですが、このくらいのサイズだとどうしても次の素数が表示されるまで時間がかかります。 そこで以下のものを修正して、今どの数に取りかかっていて、どの約数（i)で割っているのか常に画面に表示されるようにしたいのです。値が画面で目まぐるしく変わってもかまいません。是非助けてください。 def prime(val) maxv = Math::sqrt(val).truncate (2..maxv).each do |i| return false if val % i == 0 end return true end x = 10**17+1 until x<10**16 until prime(x) x=x-2 end puts x x=x-2 end puts x
プログラム暦数日のまだ勉強している学生です。 動作は出来てますが、本当にこれで良いのか不安ですのでアドバイス等あれば宜しくお願いします。 一定時間事(１分)にサイト内データーを巡回するコードを書いてみたのですが、これで宜しいでしょうか？ ######################################### while true #更新の確認 puts doc.xpath("//span[@class='topdate']").text #取得 puts doc.xpath('//table[@class="xxxx"]').text sleep 60 end #########################################
マニュアルによると、puts 2**1000 で、３００－４００桁ほどの大きい整数が全表示されるはずです。しかし０としか表示されません。puts 2**100でも同じ事です。puts 2**５０で、ようやく全表示されます。どんな巨大な数でも表示されるようにしたいのです。Rubyではそれが可能と聞いてます。ちなみに、Ruby 1.8.7を使用しています。
Rubyの資格試験の勉強をしています。 分からない部分がありまして質問させていただきます。 class Employee attr_reader :id attr_accessor :name def initialize id , name @id = id @name = name end def to_s return "#{@id}:#{@name}" end def <=> other return self.id <=> other.id end employees = [ ] employees <<Employee.new("3","Tanaka") employees<<Employee.new("1","Suzuki") employees<<Employee.new("2","Sato") employee.sort! (質問) 「return self.id <=> other.id」この部分のselfとotherが何をさしているのか分かりません。３つめでインスタント化している「employees<<Employee.new("2","Sato")」のは、selfに入りそれまでに入れた値はotherに入っているのでしょうか？ ご回答よろしくお願いします。
$ rails new ○○ で新しいプロジェクトを作ろうとすると、下記のようなメッセージがでます。原因がわかりませんので分かりましたら教えてくださいよろしくお願いします。 Can't initialize a new Rails application within the directory of another, please change to a non-Rails directory first. Type 'rails' for help.
(OS: Mac OS X 10.9.1, Rubyのバージョン: 2.0.0 です) Ruby の irb を使用していて, 例えば >> while true >> puts "infinite loop" >> end などと打ち込んでしまって無限ループが起きたときや, その他非常に時間がかかりそうな計算を行っているときに, これを中断する手段というのはあるのでしょうか？ (control + Z をすれば irb 自体を中断することはできるようですが, irb自体は中断せずに, 現在行っている処理のみを停止したいということです.)
教材でRubyを勉強中なのですが、以下のプログラムが実行されず爆死しています。 --- puts("整数を入力してね") number = gets.to_i if number > 0 then puts("正の数です！”) end --- 文字コードは、UTF-8で指定、OSはMacです。CotEditorを使用しています。 数字/アルファベットだけのプログラムは正常に実行されるのですが、 文字入りのプログラムがうまく実行されません。 プレビュー見ると文字化けしているので（添付画像参照）、 文字入力にバグが起因していると思われますがお手上げ状態です。
以下のようなコードをruby1.8系で実行してもOKなのですが、 s=String.new("\0"*4) s[0]=8 puts s.unpack("H*") ruby2.0で実行すると、 `[]=': no implicit conversion of Fixnum into String (TypeError) とERRになってしまいます。 ruby2.0ではどうかいたら宜しいでしょうか？
どうにも困り果てております。 少し面倒な質問となってしまいますが、お答え頂けると助かります。 現在、Railsを利用したWEBアプリケーションを作成しようと、Railsの勉強をしているのですが、環境構築の段階でつまづいてしまいました。 具体的には、TerminalでRails sコマンド実行しても、WEBrickが起動せず、 /opt/local/lib/ruby/gems/1.8/gems/bundler-1.0.22/lib/bundler/rubygems_integration.rb:183:in `stub_source_index170': uninitialized constant Gem::SourceIndex (NameError) のようなメッセージが表示されてしまいます。 Mac OS X Lion 10.7.5を使用しております。 また、Terminalで -vコマンドを利用して確かめた所、 ruby 1.8.7 (2012-02-08 patchlevel 358) [i686-darwin11] gem 2.1.11 MacPorts 2.2.1 Rails 3.2.2 Xcode 4.2.1 が確認出来ました。 Terminalを使っての作業が初めてであったため、うまく説明出来ていない部分もあるとは思いますが、ご指導頂けると幸いです。 よろしくお願い致します。
サーバーにrailsをインストールしようとすると下記のようなエラーがでるのですが よく分かりませんでした。教えてください。 $ gem install rails ERROR: While executing gem ... (OpenSSL::SSL::SSLError) SSL_write:: bad write retry
rubyでは＜や＞などの比較演算子もメソッドと分類されるのでオーバーライドが可能と認識しております。具体的にどのようにコーディングしたら良いのでしょうか？ 例えば、配列に数値が格納されているとします。 array=[3,5,4,2,1] この配列をソートした場合に比較が何回行われたかをカウントしたいです。 p array.sort >や<が再定義可能なら、比較演算子が呼ばれる度にカウンターアップするなどと言う事はできるような気がするのですが、どうコーディングしてよいか解りません。 rubyのマニュアルも読んだし、それなりに検索でも頑張ったのですが、煮詰まってしまいました。 ご指導のほど、よろしくお願いいたします。
Beagleboneという評価ボードを買いました。 Beagle Bone Black(ビーグルボーンブラック) [ただのメモ帳] http://wiki.limemo.net/dokuwiki/beaglebone/start このボードにUSBキーボード、マウス、HDMIでディスプレイにつなげばLinuxを操作できるようになっています。 例えば、このLinux上でgccとかrubyでプログラムを作成してコンパイルとかプログラムを動作させるとかもできますでしょうか？ 個人的にはrubyというのをやってみたいと思っているのですが、このLinuxでrubyが使える環境になっているのかを調べる方法とかご教授頂きますよう、お願い致します。
Rubyでルンゲクッタ法でy=exp(x**2)と比較しようという問題で、下のようなプログラムを組むとyの値がかなり大きくなってしまいます。どこが間違っているのでしょうか。教えてください。 #! ruby -Ks #ルンゲックッタ def df(a,b) z=2*a*b return z end n=10 x=Array.new(n) y=Array.new(n) x[0]=0.0 y[0]=1.0 h=1.0/n #任意で変更 fw=File.open("output2.txt","w") for i in 0..n k1=df(x[i],y[i])*h k2=df(x[i]+h/2,y[i]+k1/2)*h k3=df(x[i]+h/2,y[i]+k2/2)*h k4=df(x[i]+h,y[i]+k3) k=(k1+2*k2+2*k3+k4)/6 x[i+1]=x[i]+h y[i+1]=y[i]+k fw.print x[i]," ",y[i]," ","\n" end fw.close()
あるラジオボタンを選択（クリック）したときに、あるグループボックスを非表示にしたいのですが module Frm_form1 ... def radioBtn1_clicked @groupBox1.visible = false end というプログラムを書いたのですが、うまくいきません。（エラーも出ないです） もともとできないのですか？
あるコードの一部なんですがエラーが出てしまいます。 どのように解決すればいいでしょうか よろしくお願いします。 a.rb:5: syntax error, unexpected ',', expecting tASSOC @defeat = {rock::scissors, paper::rock, scissors::paper} ^ a.rb:5: syntax error, unexpected '}', expecting '='
Webブラウザからアクセスすると画面に次のように文字列が表示されます。 "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"ja\" lang=\"ja\">\n <head>\n <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n <meta http-equiv=\"Content-Style-Type\" content=\"text/css\">\n <meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n <body><a href=\"/menu/\">\u30E1\u30CB</a> エスケープを取り除き、さらに日本語を正しく表示するにはどうすれば良いでしょうか ruby 1.9.3p374 (2013-01-15 revision 38858) 上に示したのは、以下で出力したものです。 #!/usr/local/bin/ruby # -*- encoding: utf-8 -*- html = 記事上に記載の文字列 p html.gsub(/\\u([\da-fA-F]{4})/) { [$1].pack('H*').unpack('n*').pack('U*') }
ruby.exeとrubyw.exeに違いがあるのでしょうか？ （dos窓の表示/非表示以外に） 作成したGUIプログラムをruby.exeで動作させると正常に動くのですが、 dos窓を表示せずに動作させるため、rubyw.exeに関連づけて動作させると、ある条件で（たぶんエラーで）、GUIが消え、終了してしまいます。
FormDesignerとVisualurubyを使っています。 ボタンとグループボックスを一時的に非表示にしたいのですが、できますか？ FormDesignerのAttrのところにそれらしきものがないので無理なのでしょうか？
Rails 4 で Web API を開発しています。 JSON のフォーマットのみを許した機能があるのですが、 クライアント側から JSON と指定しなくても接続できてしまうという指摘があったので、 ログを見てみたところ、指摘された接続の箇所に Processing ○○Controller#○○Action as */* と、フォーマットを表す部分が、JSON でも HTML でも XML でもなく、 */* という記号になっておりました。 HTML を指定すると レスポンスを返す処理で UnknownFormat エラーが出るのですが、 */* となっている接続はエラーも出ず JSON の接続と同じように処理されます。 この */* というフォーマットは何を意味しているのでしょうか？ 検索しようにも記号の検索はできないので、全く情報が見つからず困っています。
VisualurubyとFormDesignerを使ってGUIプログラムを作っているのですが、 たとえば、下記のようにチェックボックスを置いた時のカッコのなかの最後の数字はなんなのでしょうか？ addControl(VRCheckbox,'checkBox1',"checkBox1",80,48,96,24,1342177283)
Ruby on Rails 4 で Rest 形式で Web API の開発しています。 クライアントからくる Request の JSON に構文エラーがあるか判定したいのですが 構文エラーがあると 　ActionDispatch::ParamsParser::ParseError 上記のエラーが、コントローラに来る前に発生してしまうので、エラーの判定ができません。 どうすればプログラム上で上記のエラーが起こったか判定することができるでしょうか？
こんにちは、 プログラミング初心者なのでお手柔らかに宜しくお願いします。 現在Rails によるWebアプリケーション開発の第４版で勉強中なのですが、test/unitと記述があったのですが自分の test以下のディレクトリにはunitすら無い状態なので、誰かご教授下さい。 あとRails4.0 ruby1.9.3のバージョンなのですが、もしかしてこちらの本と対応してないとかもあるのですかね？ 周りにプログラミングすらしていない人ばかりなので助けてもらえると嬉しいです。 宜しくお願いします。
Rubyで 数字を下記のようなやり方では1～12　までの数字をまわせるプログラムと　文字のa～l までまわせるプログラムを合体させたいのですがどのようにすればよいでしょうか? #1-12 までの数値をまわすソース n=1 loop do puts n if n == 12 break end n += 1 end 実行結果↓ 1 2 3 4 5 6 7 8 9 10 11 12 # a～ lの小文字をまわすソース ["a","b","c","d","e","f","g","h","i","j","k","l"].each do |n| puts n end 実行結果 a b c d e f g h i j k l 上記のプログラムをあわせて、実行結果が、↓ 1 a 2 b 3 c 4 d 5 e 6 f 7 g 8 h 9 i 10 j 11 k 12 l ↑　このようにするには、どのようにすればよいでしょうか。 よろしくお願いします。
Rubyで 数字を下記のようなやり方では1～12　までの数字をまわせますが、 #ソース n=1 loop do puts n if n == 12 break end n += 1 end 実行結果↓ 1 2 3 4 5 6 7 8 9 10 11 12 このような形で　アルファベットの　a ～z を順番にまわしたい場合は、どのように書くことができますでしょうか? 試行錯誤で試しましたが、うまくいかなかったので、 教えてくださいよろしくお願いします。
http://www.opentone.co.jp/news/release/article03/article0302.html の画面中央にある<h1>で囲ったHello world!は、 出来るのですが、次が進みません＞＜ 入力値を表示する　という項目から、 大きく三種類のコードがありますが、 中段、下段は拡張子はrb?であっていますか？ また、そのコードファイルは、一緒にアップすればいいのでしょうか？ 一応アップしましたが、うまく写りません。 原因は、上段のコードファイルに関連付けがされていないのではないかと 思います。ファイル名を一緒にしていないのが原因なのか？ それともこのＨＰの第一回のRailsコマンドで簡単作成　の項目も 出来ていないからでしょうか？第一回は、ドスのインスト迄は 終わりました。レンタル鯖はso-netです。どなたかヒントでもいいので 教えてください。何卒宜しくお願いします
Rubyで日付をかくと、 youbi = %w[日 月 火 水 木 金 土] t = Time.now puts "%s年 %s月 %s日 %s曜日" % [t.year, t.month, t.day, (youbi[t.wday])] 実行すると今日の日付がでますが、これを 例えば、現在の日時ではなくて、毎週水曜日の日付を表示したい場合はどのように書いたらよいですか? そして次の週がくれば、自動的に次の週の水曜日の日付をあらわすようなプログラムです。 教えてください。よろしくおねがいします。
文字コードUTF-16、Little-Endian、改行コードCR/LF、BOMのデータを読み込み、 シフトJISに変換して処理するため、次のようにしたのですが、 中ほどのデータが消えてしまいます。 何か間違っていますか？ require 'nkf' ．．． text = file_in.read text_shiftjis = NKF.nkf('-sW16L',text) 　p text_shiftjis　#確認用出力
10000を　10でわっていくプログラムです。これを普通に実行すると、一度に実行結果が、表示されますが、秒数を設定して、一行ずつ間隔をあけて、表示するには、どのようにプログラムを書けばよいでしょうか? よろしくお願いましす。　 ソースコード n=10000 while n>=1 do break if n <= 1 if n%2 == 0 n = n / 10 end puts n end 実行結果 1000 100 10 0 ↑　この実行結果を　 1000　 1秒後に　100　　1秒後に　10　1秒後に　0　のように　時間差をつけたいです。
以下の様な文字列を <div>xxx</div>yy<span>zzz</span> 以下の様に編集したいです。 <div>xxx</div> yy <span>zzz</span> htmlのタグ毎に改行を挿入したいのです。 もしも上記例でyyがなければ以下の様に書くのですが、 require 'drb/drb' puts DATA.read.scan(/(<.+?>.+?<\/.+?>)/).join("\n") __END__ <div>xxx</div>yy<span>zzz</span> 以上、よろしくご指導の程、お願い申し上げます。
ホームページの共通メニューなどを書きたいときは、phpなら <?php include 'left_menu.html'; ?> で、外部から読み込めますが、 rubyのcgiでサイトを作った場合、共通メニューなどを外部から読み込むような書き方はあるのでしょうか? 教えてください。よろしくお願いします。
初歩的な質問で恐縮です。 Ruby on Rails でDBのカラムにハイフンは使えますでしょうか。 多言語対応で中国語などを扱っているのですが、 カラム名が　name_zh-tw のようなものがあるのですが、値が取得できずに困っております。。 例) Items テーブルに name_zh-twがある場合。 @item = Items.find_by_i(1000) @item.name_zh-tw =>NoMethodError: undefined method `name_zh' for #<Item:0xb605f364> のようになってしまいます。。 また、上記以外の箇所でもダブルクォートで囲ったら大丈夫な場合がありますが、ログには警告がでます。これは仕方ないのでしょうか。。 [WARN] Exception occurred during reader method compilation. [WARN] Maybe name_zh-tw is not a valid Ruby identifier? [WARN] compile error ----- 環境は以下の通りです。 何卒よろしくお願いいたします。 Ruby1.8.7 Rails2.3.15 MySQL5.5
http://japan.internet.com/developer/20070703/27.htmlの doc.elements.each("guitars/make/model/color") { |element| puts element.text } を実行したら C:/DOCUME~1/.....: syntax error, unexpected '|', expecting '}' { |element| puts element.text } ^ C:/DOCUME~1/.......: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '(' { |element| puts element.text } ^ C:/DOCUME~1/Hideyuki/LOCALS~1/Temp/rb22C.tmp:7: syntax error, unexpected '}', expecting $end Complete(1) とエラーが出ます。 サイトのプログラムそのままなのですが、何か勘違いしてますか？ Rubyのバージョンとかが関係あるのでしょうか？
宜しくお願いします。 ↓のようなxmlファイルがあり、 #########hoge.xml############# <root> <a name="a1"> <b>bbb1</b> <b>bbb2</b> <b>bbb3</b> <c>ccc1</c> </a> <a> <b>bbb4</b> <b>bbb5</b> </a> <a name="a3" price="100"></a> </root> ###################### ↓と同じ処理をしたいのですが、 doc = REXML::Document.new(open("hoge.xml")) doc.elements.each("root/a[@name='a1']/b") do |element| ... end a1が変数名の場合、 どのように記述したらよいのでしょうか。 doc = REXML::Document.new(open("hoge.xml")) attr = a1 doc.elements.each("root/a[@name='????????']/b") do |element| ... end 基本的な内容で申し訳ありませんが、 宜しくお願いします。
XML文書を処理するプログラムを作っています。 http://japan.internet.com/developer/20070703/27.htmlを参考にして作り始めましたが、 require "rexml/document" include REXML file_name = SWin::CommonDialog::openFilename(nil, ["*.xml","*.xml"], 0x1000, "ファイル選択") doc = Document.new File.new(file_name) p doc としても、 <UNDEFINED> ... </> と表示されるだけです。 私の想定では、XML文全体が表示されると思ったのですが、これでも正常に動作しているのでしょうか？ 普通のテキストファイルとして読み込めば、正常に画面に表示できます。 環境はRuby1.8.7　+　RDE　です。
012 012 012 ..... ０、１、２と数値をローテーションさせたいです。 そこで以下の様に書いてみました。 r=0 loop do puts r r=r<3 ? r+1 : 0 sleep 1 end 012 3 012 3 012 3 ..... になってしまいます。 以下の様に書けば良いのですが、 r=0 loop do puts r r+=1 r=r<3 ? r : 0 sleep 1 end どうして、最初の式はダメなのでしょう？　なんか理解できません。 以上、よろしくご指導の程お願い申し上げます。
Rails の before_filter を普通のクラスで使いたいのですがどうすれば よいでしょうか？ require でなにか読み込めばいい気もするのですが、 なにを読み込めば良いのかわかりません。
再び失礼します。 現在以下のようなソースコードを実行しています。 while true do print "commando?\n" command = gets if command == "end" then break end end ループから抜け出すために、getsメソッドを用いて、 endと入力されればループを抜けるという感じにしたいのですが うまく抜け出せず、無限ループに陥ってしまいます。 質問内容は、このように、getsメソッド実行中（？）にプログラムの強制停止を したいのですが、そのような方法はありますでしょうか。（例えばctrl+???とか） 実行環境は、terapadを使用してソースコードを書き、rubyコマンドプロンプトで rubyコマンドを使って実行しています。 それではよろしくお願いいします。 ※投稿確認したのですが、ソースコードにうまくインテンドが挿入されていません・・ 見づらくて申し訳ございません
Rubyでwebページを取得してtxtファイルに出力したいと考えています。 URLリストを別ファイルで用意して、それを片っ端から読み込んで表示させるものです。 require 'open-uri' require 'kconv' while url=gets next if url=="\n" page=URI(url).read page=Kconv.tosjis(page) puts(page) end これで成功するのですが、「URLリストにのっているwebページが見つからなかったら飛ばして次のページを取得しにいく」ことを追加したいです。 どう書けばいいでしょうか？ 教えていただければ幸いです。 よろしくお願いします。
Rubyを勉強中の初心者です。 「苺　コーヒー　花　美人　宇宙見物」と書いたファイル（sukinamono.txt）があります。 その中からランダムで１項目取り出して表示するスクリプトをつくりたいと思っています。 getsでsukinamono.txtを読み込んで、randを使うのかなと思ったのですが、スクリプトのうまい書き方がわかりません。 どなたかに教えていただければ幸いです。 よろしくお願いします。
DXRubyを用いたゲーム開発に興味を持ち、rubyの勉強を始めたものです。 MP3ファイルを再生できないと聞き、Bass.rbをつかおうと思ったのですが Bass.rubyをコマンドプロンプトで実行したところ、 「DL is deprecated, please use Fiddle」というエラー？が出ました。 dllファイルは同ディレクトリにもちろん置いてあります。 検索をかけてみましたが、いまいち納得いく回答がありませんでした。 これはどういうことなのでしょうか。 回答、宜しくお願いいたします。 （情報が不足していたら申し訳ございません。 　誠に恐縮ですが、おっしゃっていただければ追加で書き込みを行います。）
色々模索したのですが、解決策がみつかりませんでしたので、質問させていただきます。 何卒、宜しくお願いします。 現在CentOSにて、rubyをいじっており、gemでselenium-webdriverをインストールしたのですが、 別のファイル(sample.rb)からrequireしても `require': cannot load such file -- selenium-webdriver (LoadError)となってしまいます。 試しに別のファイルをrequireしてみたらできたので、gemの問題だと思っています。 以下のようにsample.rbに書きました。 require 'rubygems' require 'selenium-webdriver' ・ ・ ・ また、gem listにもはいっているため何が原因なのかよくわかりません。 ご参考までにgemの環境を以下に書きます。 RubyGems Environment: - RUBYGEMS VERSION: 1.4.2 - RUBY VERSION: 1.9.3 (2012-02-16 patchlevel 125) [i686-linux] - INSTALLATION DIRECTORY: /usr/local/lib/ruby/gems/1.9.1 - RUBY EXECUTABLE: /usr/local/bin/ruby - EXECUTABLE DIRECTORY: /usr/local/bin - RUBYGEMS PLATFORMS: - ruby - x86-linux - GEM PATHS: - /usr/local/lib/ruby/gems/1.9.1 - /root/.gem/ruby/1.9.1 - GEM CONFIGURATION: - :update_sources => true - :verbose => true - :benchmark => false - :backtrace => false - :bulk_threshold => 1000 - REMOTE SOURCES: - http://rubygems.org/ 1点気になりますのが、gemのパスです。 下記ＵＲＬを参考にしました。 http://d.hatena.ne.jp/amacou/20090206/1233929888 $which gem /usr/local/bin/gem $sudo which gem /usr/bin/gem となっているため、パスを変えようと思いましたが、 サイトの通りではパスが変わりませんでした。 よくわからないということもありまして、/usr/bin/gemを削除してみましたがもちろんrequireできません。 ここからどのようにしたらよいかどうかご教授いただけますと幸いです。 以上、宜しくお願い申し上げます。
cigファイルに下記のように書いて、テキストファイルを読み込んでますが、ここで質問があります。 puts File.readlines("test.txt") テキストファイルには、　下記のように３文字を改行して書いてあるのですが、↓ Hello !! Good Great これらをcgiファイルに読みこんでweb上で確認してみると Hello !! Good Great と一列に並んで表示されます。 改行も含めて、表示したいのですが、どのようにすればよいでしょうか?　教えてください。お願いいたします。
ローカルプロキシをを使うと、 携帯用のページで時々WEBページの内容が正常に表示されないような状態です。 ページにもよりますが、大体4割くらいの確率でこの現象が起ります。 何も処理をかかずに使っても、ユーザーエージェントをプロキシの機能で変更してもこの現象はおこります。 ブラウザはchrome　firefox　IE　を試しましたが、全てのブラウザで確認できました。 F5でページを更新しても画像やページの内容が読み込まれたり読み込まれなかったりするような状態です。 どうにかならないでしょうか。よろしくお願いします。 ソースコードは以下のようなものです。 require 'webrick' require 'webrick/httpproxy' require 'uri' server = WEBrick::HTTPProxyServer.new({ :BindAddress => '127.0.0.1', :Port => 8080, :ProxyContentHandler => handler, }) server.start
リンク先コードをcodepadで試したら下記エラーになりました。 エラーを消すにはどうすればよいでしょうか？ Line 3:in `percentile_rank': undefined method `count' for [0, 20, 40, 60, 80, 100]:Array (NoMethodError) from t.rb:11 ▽Ruby - パーセンタイル順位 　 http://www40.atwiki.jp/spellbound/pages/2092.html
初心者です。 プロキシサーバーを通してユーザーエージェントを実装し、 WEBページフィルターのようなものを使いたいです。 以下のようなソースをかいてみたのですが、原因はなんでしょうか。 シンタックスエラーと表示され、　コマンドプロンプトに以下の文字が表示されます。 :RequestCallback => proc {|req, res| 起動すらできずに終了してしまいます。 ユーザーエージェントと、WEBページフィルタを別々に使うとエラーがでないのですが。 どなたか教えてください。よろしくお願いします。 require 'webrick' require 'webrick/httpproxy' require 'uri' handler = Proc.new() {|req, res| res.body.gsub!("abc", "") } userAgent = 'Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, likeGecko) Version/3.0 Mobile/1A543a Safari/419.3' server = WEBrick::HTTPProxyServer.new({ :BindAddress => '127.0.0.1', :Port => 8080, :ProxyContentHandler => handler :RequestCallback => proc {|req, res| req.header['user-agent'] = [userAgent] } }) server.start ここまでになります。 あと、正規表現ですべての文字にマッチするようなメタ文字があれば教えていただきたいです。 1文字だけでなく、複数の文字にマッチするものを探しています。 よろしくお願いします。
登録フォームについての質問です。 ログイン用フォームのhome.cgi と、それにリンクするユーザー登録用フォームのregistration.cgi があり、今回質問するのはユーザー登録用のregistration.cgiの方です。そしてユーザーIDとPasswordはdata.txtに書き込んでいます。書き込み自体は成功するのですが、それ以外のところで問題がでている状態です。条件分岐がうまくいきません。 下記のように書いた時におこる問題点等について教えていただきたいと思います。 (1)IDとPassword のinput　に値が空の時に、ボタンを押しても、登録完了しました　と表示されてしまうので、この様な場合は、"もういちど確認してください"　などの警告文を出したいです。 (2)IDとPassword の文字数に制限を入れたいのですが、分かりませんでした。 双方とも４文字以上８文字以下にしたいです。それ以外の場合は、条件分岐で、"文字数を確認してください"などの警告文を出したいです。 -------- < ここから registration.cgi >-------------------- #!/usr/bin/ruby require "cgi" cgi = CGI.new puts <<HTML Content-Type: text/html <html> <head> <title>練習問題</title> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> </head> <body> <h1>練習(1)</h1> 登録フォーム <form action="registration.cgi" method="post"> ユーザーID:<input type="text" name="login" ><br> パスワード:<input type="text" name="password"><br> <input type="submit" value="submit"> </form> HTML if cgi.params["login"][0] then f = open("data.txt","a") f.puts"%s:%s" %[cgi.params["login"][0],cgi.params["password"][0]] f.close puts "登録完了しました" else end puts <<HTML <br> <a href="./home.cgi">戻る</a> HTML -------- < ここまで >--------------------
puts "%d %s" の場合は、　文字　と　数値ですが、 文字と数値を一緒に含むようなものは %dでも%sでもないので、どのような表示の仕方がありますか? 教えてください。よろしくお願いします。
rubyでcgiをつくっています。　htmlのinputとruybの絡めかたがわかりません教えてください。 まず下記のようにボタンを設置して、 <form> <input type="button" value="新規登録"> </form> 　↑　ボタンを押したら、LoginとIDの登録フォームがでてきて、　それ以外なら変化なし　のようなものをつくりたいのですが、どのようにifで書けばよいのかが分かりませんでした。教えてくださいよろしくお願いします。
rubyでtxtファイル読み込みの時のプログラムについて教えて欲しいのです。 music.txtファイルの中身が↓２行である時に ヴォーカリスト　：　けんた ギターリスト　：　まさこ 実行結果を↓ 職業　ヴォーカリスト　名前　けんた 職業　ギターリスト　名前　まさこ にしたいのですが、どのようにしたほうがよいでしょうか? m ={} mlist = open("music.txt") mlist.each{ |line| line =~ /(\w*)\s*:\s* (\w*)/ m[$1]=$2 } mlist.close puts m このようなプログラムなら思いつくのですが、しかし、実行結果が自分がしたいのとは違います。よろしくお願いします。
以下の様なプログラムをマルチスレッドでなくマルチプロセスで実現したいです。 #!/usr/bin/ruby require 'thread' q=Queue.new data=%w(a * * * b * * c * * d * *) data.each do |d| q.push d end (1..4).each do |n| Thread.start { while 1 do d=q.shift break if d!='*' end puts n.to_s+' '+d.to_s }.join end rubyのバーションは ruby 1.8.7 (2012-02-08 patchlevel 358) [universal-darwin10.0] です。バージョンをあげる事は、できれば避けたいです。 実際には上記プログラムの【puts n.to_s+' '+d.to_s】してる所は、ネットに繋いで云々の時間のかかる処理なのですが、まったくパラレルに行なっている様子が無いので、マルチプロセス化したら早くなるかなと思いました。 子プロセスを生成して親プロセスとはパイプで繋いで、、などとするのかなあと試行錯誤したのですが、どうもうまくできません。 ご指導の程、よろしくお願い申し上げます。
Tera Term でサーバーに接続して、その時に　emacs　を起動して、rubyを使いたいのですが、 emacsをどこに設置するのか分かりません。それと、emacsの設定もわかりません。 分かる方いらっしゃいましたらよろしくお願いします。　
親プロで用意した配列の中の要素を一つづつ子プロでputsした後、最後一回、親プロで生成した子プロのPIDを確認したいです。 こんなふうに書いてみました。 #!/usr/bin/ruby table=%w(a b c d) array=[] while i=table.pop do if pid=fork then array.push pid puts pid break if table.size > 0 p array else puts i end end 実行すると、以下のような結果になりました。 $9200 c 9201 b 9202 [9202] a $ PIDが一つしか得られてません。 どうしたらよいでしょうか？　ご教授の程、宜しくお願いいたします。 rubyは 1.8.7 を使ってます。 以上、宜しくお願いいたします。
こんにちは。 漠然とした質問なのですがご教示ください。 プログラミング初心者で、 現在、「楽しいRuby」と「プログラミング言語Ruby」を読みながら 勉強をしています。 そのなかで「ブロックつきメソッド」や「yield文」の用途についての 疑問が出てきました。 疑問というのは、 　「わざわざ、『ブロックを引数として自作メソッドに与える』 　ことの利点ってなに？」 ..です。 私としては、 　自作メソッドを呼び出した後、その中のyield文で 　再度メソッドの外（自作メソッドの呼び出し元）に制御を戻すんだったら、 　自作メソッドの中にブロック処理の内容を書いておくか、 　または、最初から自作メソッドを呼ばずにブロック処理をするほうが、 　処理の流れがわかりやすくてよいのでは？？？ ..と感じています。 大規模なプログラムを複数の人で作るような場合にはこのようなしくみが あったほうが便利..　ということなんでしょうか？ ちなみに私は主に　テキストファイルの編集や比較、結合..などの目的で Rubyプログラムを作っていて、規模はせいぜい100~200行くらいです。 他のRubyプログラムとの連携もありません。 「そんな使い方なら、利点はないよ」というご回答でも構いません。 具体例などと併せてご教示ください。 よろしくお願いいたします。
Rubyでいろいろなツールを作っているのですが、共通するプログラムを抜き出して別のファイルにしようとしています。 今までは、xxx.rbに共通するプログラムを集めてrequireで読み込んでいたのですが、 webとか「たのしいRuby」を調べていたらモジュールとかがあるのがわかりました。 それで、モジュールを使って（モジュールにまとめて）みようと思ったのですが、 何か、メリットやデメリットはあるのでしょうか？
初めまして 今年情報系の大学生になり、C言語を習っているのですが なんとなくプログラミングを齧ってみたいと思ってrubyをやってみることにしました。 そこまではよかったのですが、windows8でrubyのやつ（すみませんよくわかりません） が出来ません。 windows8ではできないのでしょうか？ また、コンピュータに詳しい友達がうぶんつをどうのこうのと言ってたのですが どういう風にするとうぶんつを使えるようになるのでしょうか？ たぶんデュアルブート？ではないと思うのですが… 質問だらけで申し訳ありません。 ちなみに所謂情弱で、Googleで調べても意味が分かりませんでした よろしくお願いします
ハッシュを拡張し、値をキーで指定した範囲内から取得したいと思っているのですが、ハッシュと同じように作成できないのでしょうか? 試行錯誤してみたのですが、記述が分かりません・・・。 class Range_List < Hash 　# 　# 範囲に対応する、値を取得（速度が気になりますが・・・） 　# 　def [](other) 　　@list.each { |range, value| 　　　return value if range === other 　　} 　　nil 　end end # 角度 (0..1) に対応する、十キーのリストを作成 angle_to_direction = Range_List{　　# => エラー。このような記述で呼び出したい 　0.0625..0.1875 => 3, 　0.1875..0.3125 => 2, 　0.3125..0.4375 => 1, 　0.4375..0.5625 => 4, 　0.5625..0.6875 => 7, 　0.6875..0.8125 => 8, 　0.8125..0.9375 => 9, 　0.9375..1　　　　=> 6, 　0..0.0625　　　　=> 6 } # 角度対応の十キーを求める p angle_to_direction[0.1]　　# => 3 どうかご回答お願いいたします。
以下のコードが思うように動かないです。どのようにすればlabelchangedが表示されるでしょうか？ require 'tk' class View def initialize Tk.root.title('test') @label = TkLabel.new('text' => "label").pack Tk.mainloop end def change(str) @label.text = str end end win = View.new win.change("labelchanged")
２つのテキストファイルの差分を取得したいと思っています。 rubyを使用してdiffコマンドの様な事は可能でしょうか？ テキストを1行ずつ配列に入れて - で比較していく方法を使用してみたのですが、途中で行数が変わるような変更が起こっていると上手く動作できませんでした。 理想としては一部が変更された行、追加された行、削除された行といった物を取得したいです。 もし上手く解決出来る様な手法がありましたら、ご教示お願いいたします。
はじめまして。 勉強中のRuby（2.0）で、 以下のようにCSVファイルの書式変換をしようとしています。 ■変換前 # 入力ファイル1（input1.csv） A, B, C, D A1,B1,C1,D1 A2,B2,C2,D2 A3,B3,C3,D3 # 入力ファイル2（input2.csv） B C ■変換後(output.csv) B, C, A, D B1,C1,A1,D1 B2,C2,A2,D2 B3,C3,A3,D3 ■変換内容 入力ファイル1に対して、入力ファイル2で指定された文字をヘッダーにもつ列を 順次先頭に移動していき、それを、出力ファイルとする。 ■経緯 いろいろ試行錯誤をしながら、以下のような配列（output_ary）を 作るところまではできたのですが、 これをcsvに書き出す術がわからずにおります。 （カッコやダブルコーテーションがついたままになったり、 改行がされなかったり..） （pp output_ary の結果） pp output_ary #=>[["B1","C1","A1","D1"], ["B2","C2","A2","D2"], ["B3","C3","A3","D3"], ["B4","C4","A4","D4"]] お手数ですが　どなたかご教示ください。 もちろん、「上記　output_ary　のようなモノを作らなくてもこうすればできるよ」というご回答でもOKです。 よろしくお願いいたします。
Ruby on Rails でデータベースにあいまい検索を複数条件でかけたいのですが、どのようにしたらよいのでしょうか？？ def find 　　@bookinfo= Bookinfo.find(:all, :conditions => ["title like ?" => ["author like ?", "%#{params[:key]}%"]]) render :action => 'result.html.erb' end このような感じで複数のあいまい検索をかけたいのですがどのようにすればよいのか教えてください。 お願いします。SQLite3を使用しています。
次のようなソースコードですが、 　　cmd = "ls -l" 　　system(cmd) 　　if $?.exitstatus == 1 $? の意味がよく分からないのです。 教えて頂けるでしょうか。
現在Rubyを勉強しています。 いくつかのサイトのソースコードを見てみると行の末尾に;nilと書いてあるコードを見ます。 これは何を意味するのでしょうか？ 例えば下記のような感じです。 agent.get('http://www.abc.com');nil セミコロンは改行と同じなので、単にnilと書いてあるのと同じ？nilだけ書いても何も起こらないのでは？？
Rubyから外部プログラムを実行し、その出力を受け取り、加工したいのですがよくわかりません。 stdin, stdout, stderr = win32-open3.popen3("XXX.exe") とすれば何とかいけそうなんですが、win32-open3が今は使われていないようです。 他に代わるものがあるのでしょうか？ ちなみに、Rubyのバージョンは1.8.7です。 よろしくお願いします。
Ruby＋VisualuRubyでプログラムを作っています。 ファイル選択ダイアログで file_name = SWin::CommonDialog::openFilename(nil, [["テキスト(*.txt)","*.txt"],["DOC(*.doc)","*.doc"],["DOCX(*.docx)","*.docx"]], 0x1000, "ファイル選択") とすれば、複数の拡張子からの選択が可能になるのはわかったのですが、 これだと、拡張子を選んで、その拡張子のファイルから選択することになります。 同時に、複数の拡張子のファイルを表示し、その中から選択するようにはできないのでしょうか？
以下に書いてある『極めよRuby道』のリンク先がもうないので、 http://www.otsune.com/diary/?20031011S9 「アナグラム見つけるRubyプログラムを、より高速にするために、アルファベットの各文字に素数を割り振ってしまう」というこのコードがどのようなものであったか、お分かりになる方はいらっしゃいますでしょうか。 よろしくお願いいたします。
xcodeでrubyを使ってアプリケーションを作成しようと思っております。 しかしxcodeを起動すると『新規プロジェクト』の画面のApplicationカテゴリにrubycocoa applicationのテンプレートがありません。 以下のページも参照してみたのですが、書かれているコマンドを入力してもターミナル上でエラーとなりテンプレートが追加されません。 http://sbkro.hatenablog.jp/entry/20111015/1318695796 どうしたらrubyのテンプレートが出てくるでしょうか。 バージョンは以下の通りです。 xcode　：　4.6.1 mac os x　：　10.8.3
Rubyにてゲームプログラミングをしているのですが、 Angleとして使用する数値を (0..360) の範囲内に常に収める為、Angleクラスで管理しようと思っています。 そこで作成方法の質問なのですが、記号などによる適切な作成方法が分かりません。 適切な記述を教えて頂けたら幸いです。 angle = Angle[30]　　　　　# Vectorを参考にしたのですが、配列では無い為、微妙な記述・・・ angle = Angle.new(30)　　# かと言って、普通に作成するのもどうかと・・・ また、attr_readerで参照するのも微妙な記述だと思います。 angle = Angle.new(30) angle.angle　　# => 30 できればクラス参照で値を取得したいのですが、方法が分かりません。 angle = Angle.new(30) angle　　# => 30 ご教授の程、お願い致します。
rake-0.9.2.2を使用したいのですが、Mac OS Xにデフォルトでインストールされていたrake-10.0.3をアンインストールしてから、bundle installを実行するとInstalling rake (10.0.3)となって、10.0.3がインストールされてしまいます。 rakeのデフォルトを0.9.2.2に変更するのはどのようにすればいいですか？ 以下が10.0.3のアンインストールからバンドルインストールの様子です。 map002$ gem uninstall -i /Users/****/.rvm/gems/ruby-1.9.3-p385 Select gem to uninstall: 1. rake-0.9.2.2 2. rake-10.0.3 3. All versions > 2 Successfully uninstalled rake- map002$ bundle install Fetching gem metadata from https://rubygems.org/......... Fetching gem metadata from https://rubygems.org/.. Installing rake (10.0.3) Using i18n (0.6.4) Using multi_json (1.6.1) Using activesupport (3.2.9) Using builder (3.0.4) Using activemodel (3.2.9) Using erubis (2.7.0) Using journey (1.0.4) Using rack (1.4.5) Using rack-cache (1.2) Using rack-test (0.6.2) Using hike (1.2.1) Using tilt (1.3.5) Using sprockets (2.2.2) Using actionpack (3.2.9) Using mime-types (1.21) Using polyglot (0.3.3) Using treetop (1.4.12) Using mail (2.4.4) Using actionmailer (3.2.9) Using arel (3.0.2) Using tzinfo (0.3.37) Using activerecord (3.2.9) Using activeresource (3.2.9) Using coffee-script-source (1.6.1) Using execjs (1.4.0) Using coffee-script (2.2.0) Using rack-ssl (1.3.3) Using json (1.7.7) Using rdoc (3.12.2) Using thor (0.17.0) Using railties (3.2.9) Using coffee-rails (3.2.2) Using jquery-rails (2.2.1) Using bundler (1.3.2) Using rails (3.2.9) Using sass (3.2.7) Using sass-rails (3.2.6) Using sqlite3 (1.3.7) Using uglifier (1.3.0) Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem is installed. map002$ よろしくお願いします。
# coding:utf-8 require 'active_record' ActiveRecord::Base.configurations = YAML.load_file('database.yml') ActiveRecord::Base.establish_connection('development') class Bookinfo < ActiveRecord::Base end bookinfo = Bookinfo.order("updated_at DESC").first bookinfo.each do |info| puts info.id puts info.author puts info.title puts info.page puts info.date_available end rubyでSQLite3のデータベースにアクセスしてデータの一番新しいものを１つ取り出すプログラムを作成しようと思います。（データベース名: bookinfo.db テーブル名:bookinfo) 　このように書いてみましたが、またいろいろ試して見たのですが、どうしてもうまくい きません。教えてくださいお願いします。
Ubuntu 11.04でruby1.8.7を使用しています。 rubyで自分のIPアドレスを取得したいのですがいい方法を見つけられません。 ifconfig -aではeth0のinet addrとして192.168.153.129が見えており、これを取得したいのです。 ネットで調べた IPSocket::getaddress(Socket::gethostname) や Socket.getaddrinfo(Socket::gethostname, nil, Socket::AF_INET)[0][3] は、/etc/hostsに 「IP（192.168.153.129）」　「ホスト名」 を追加しておかないとうまくいかないようです（追加すればうまくいきます）。 /etc/hostsにはubuntuインストールのデフォルトとして 「IP（127.0.1.1）」　「ホスト名」 が記載されており、このままではうまくいかないようなのです。自分の環境だけであれば/etc/hostsを変更すればよいのですが、rubyプログラムを配布して別のホストで動かす際に、/etc/hostsの変更を依頼しなければいけないのがいやがられそうです。 /etc/hostsの変更なしに、自分のIPアドレスを取得するよい方法はないでしょうか。
Ruby on Railsで「はてなブックマーク(http://b.hatena.ne.jp/)」のように、 URLを入力すると、ページタイトル、ページ内容、ページ画像 を取得する方法をご教授お願いします。 参考URL,参考ソースコード(Github等)があれば助かります。
# -*- coding: utf-8 -*- testfile = %w{This is the pen!! This is a dog.} words = Fiber.new do testfile.each do |line| line.scan(/\w+/) do |word| Fiber.yield word.downcase end end end counts = Hash.new(0) while word = words.resume counts[word] += 1 end counts.keys.sort.each {|word| print "#{word}:#{counts[word]} "} とfiberについて勉強のためコードを書きました。 出力結果を a:1 dog:1 is:2 pen:1 the:1 this:2 としたいのですが、 実際やってみると e12-1-1.rb:15:in `resume': dead fiber called (FiberError) from e12-1-1.rb:15:in `<main>' と結果が返ってくるのですが、どのように直せばよいのでしょうかおしえてください。
現在、railsを勉強しています。 複数のユーザーが各々のタスクを管理するアプリを作成する初心者用チュートリアルで、すべてのユーザーでひとつのタスクテーブルを用意しユーザーＩＤで各タスクを各ユーザーに紐付けているものがありました。 規模等にもよると思いますが、『すべてのユーザーでひとつのタスクテーブルを用意する方法』と『各ユーザーごとにタスクテーブルを用意する方法』のどちらがより一般的でしょうか？ また、後者の場合、ユーザー登録時に動的にモデルとテーブルを作成することになると思いますがそもそもそのようなことは可能なのでしょうか？ よろしくお願いします。
レンタルサーバーでrubyプログラムをアップロードしても画像のような？マークが出て認識してくれないようです。 どのようにすれば動くようになりますでしょうか。 アップロードした時の条件は以下のとおりです。 FTTPでアップロード 転送モード：アスキー転送モード 転送時のファイル拡張子・・・.rb #!/usr/local/bin/rubyを最初に記述（レンタルサーバーページの指定通り） 転送後のパーミッション：705 その他に何をすればよいかわかりまん。 教えていただけませんでしょうか。 ちなみにコードは下記のような簡単なものです。 #!/usr/local/bin/ruby print "Content-Type: text/html\n\n" print "hello!" よろしくお願いいたします。
主にRubyでプログラミングしている人たちが「モヒカンに斧を投げられる」という会話をしているのですが、具体的にどのようなことをされているのでしょうか？
gemの作成をしてみてrubygemsに公開をしたいのですが 最後の手順がうまくいきません 原因がわからないのですが お知恵を貸していただけないでしょうか？ 下のurlを参考にjewelerでgemを作成してローカルでgemの動作を確認しました http://d.hatena.ne.jp/seiunsky/20090723/1248357767 最後の「rake release」コマンドを実行したのですが いつまでもrubygems.orgに公開される気配がありません rubygemの設定などに何か変更があったのでしょうか?
RVMを公式サイトのトップページにあるコマンドにてインストール後，MacPortsにてインストールしなおしたところ，謎の挙動を示すようになり，使い物にならなくなりました．インストール後にて指示されるsourceコマンドを実行してシステムを再起動して使おうとするとrvmコマンドが見つからないと言われますし，Rubyは1.9.3を入れているはずなのになぜか1.8.3になってしまいます．先ほどのsourceコマンドを再び使った直後はrvmコマンドが使え，Ruby1.9.3を使うように設定できるのですが，シェルを再起動した途端にアクティブなRubyバージョンの状態が1.8.3になり，rvmコマンドが見つからなくなってしまいます． RVMをアンインストール後，公式サイトのトップページにあるコマンドにて再インストールしても同様です． 解決法はあるのでしょうか．どうかよろしくおねがいします．
言語はRubyです。 Vectorにて数値を管理している都合上、まとめて計算や判定ができないかと思い、 要素に範囲オブジェクトを入れたVectorと、同じ要素数のVectorとの、 範囲内判定を実装したい為、下記のように組んでみました。 # # 全ての要素が、範囲内か判定 # def ===(v) 　each2(v) { |range, x| 　　return false unless range === x 　} 　return true end Vector[(0..10), (5..8)] === Vector[3, 8]のように組めます。 しかしこの記述だと、元の===が変更されてしまう為、元の処理が使えなくなると思います。 ===が重要な処理と関係していなければ良いのですが、やはり大きく影響するのでしょうか？ ヘルプで検索を掛けても記号の為、ヒットせず、どこで実装されているか分からないので質問しました。 ご教授下されば幸いです。 宜しくお願いいたします。
どんな方法がいいでしょうか？（もちろん、Rubyを使うことが前提です。Ruby/Tkとか、FｘRubyとかいろいろあるみたいですが） ずっと前は、Apolloを使っていたのですが、最近のRubyバージョンには対応していないようですし。 または、Winoleについて詳しく書かれたサイトはないでしょうか？ （まずは、ファイル選択部分をGUIにしたいと思っています）
開発工程について質問ですが、 要件定義→サーバー設計→プログラミング→テスト→デプロイ→保守運用　この流れであってますか?
https://login.ocn.ne.jp/auth/s2016/pc/AuthLoginDisplay.action このサイトにRubyのmechanizeからログインしたいのですが、 そもそもここにアクセスできていないようです。 .actionというのはhtmlと違ってアクセスできないのでしょうか。 以下、コードと出力です。 # -*- encoding: utf-8 -*- require 'rubygems' require 'mechanize' agent = Mechanize.new page = agent.get('https://login.ocn.ne.jp/auth/s2016/pc/AuthLoginDisplay.action') pp page 出力 #<Mechanize::Page {url #<URI::HTTPS:0x007f989240a150 URL:https://login.ocn.ne.jp/auth/s2016/pc/AuthLoginDisplay.action>} {meta_refresh} {title "システムエラー"} {iframes} {frames} {links #<Mechanize::Page::Link "ヘルプ" "http://www.ocn.ne.jp/login/mb/index.html"> #<Mechanize::Page::Link "著作権について" "http://mobile.ntt.com/m/copyright.html"> #<Mechanize::Page::Link "プライバシーポリシー" "http://506506.ntt.com/mbl/privacy/s_policy01.html"> #<Mechanize::Page::Link "→OCNトップ" "http://www.ocn.ne.jp"> #<Mechanize::Page::Link "NTT Communications" "http://www.ntt.com/"> #<Mechanize::Page::Link "著作権について" "http://www.ntt.com/COPYRIGHT/"> #<Mechanize::Page::Link "プライバシーポリシー" "http://www.ocn.ne.jp/privacy-policy/"> #<Mechanize::Page::Link "NTTコミュニケーションズ" "http://www.ntt.com/">} {forms}> 以上
Rubyプログラムを勉強中です。 簡単な掲示板から始めているのですが、実行させるとうまく動きません。 なにかヒントになるものがあれば教えて下さい。 参考サイト http://jp.rubyist.net/magazine/?0012-CGIProgrammingForRubyBeginners-3 エラーの症状 上記サイトの「CGI クラスを使ってフォームデータを取得する」項目で実際にhtmlフォームへ半角英数で入力すると値を返してくれます。 下記は値を返した時のページのソース <html><head></head><body>1<br></body></html> しかし全角入力でフォームへ入力するとするとHTML値を返してくれません。 下記は値を返した時のページのソース <html><head></head><body> 参考サイトのデータをそのまま実行させているのですが、何か原因はわかりますでしょうか？ Rubyプログラムの中身は下記のとおりです。 #!/usr/local/bin/rubyrequire "cgi"print "Content-Type: text/html\n\n" print "<html><head></head><body>" c = CGI.newtext = c["t"] print textprint "<br>" print "</body></html>" もしわかれば教えて下さい。よろしくお願いします。
str = array1[m] + array2[n] というように結合したいのですがエラーになります。 どうすればいいのでしょうか？
Ruby1.9.3とRails3.2.9の環境でのルーティングではまってしまっているので、御経験のある方、御教示ください。現在、 config/routes.rbに Sample::Application.routes.draw do resources :users resources :tasks match '/users/login' match '/users/logout' match ':controller(/:action(/:id))' match ':controller(/:action(/:id))(.:format)' end を記述して、WEBrickを起動して、 http://localhost:3000/users/login/ を実行すると、このアドレスには移動するのですが、 NoMethodError in Users#show Showing C:/user/Ruby193/rails/sample/app/views/users/show.html.erb where line #5 raised: のエラーが出ます。 WEBrickの表示を見てみると、 Started GET "/users/login/" for 127.0.0.1 at 2013-01-22 22:56:06 +0900 Processing by UsersController#show as HTML Parameters: {"id"=>"login"} Rendered users/show.html.erb within layouts/users (2.0ms) Completed 500 Internal Server Error in 5ms となっていて、/users/login/をGETしているのですが、アクションでshowが呼び出されて、そのIDとして loginが渡っているように見えます。 現在、users\controller.rbのshowの関数の定義は全てコメントアウトしています。usersコントローラの def login関数の定義と、app/views/users/login.html.erbも置いているのですが、それらが表示されない状態で原因が分かりかねています。 上記のルーティングの書き方に何か問題があるのでしょうか？
Ruby1.9.3とRails3.2.9でのテスト環境のモデルの単体テスト（unit）での質問です。 unitのuser_test.rb　に下記の記述を書いて試験しているのですが、saveコマンドでのusersテーブル への書き込みが、下記でnewしたuserの内容ではなく、fixturesフォルダの下の、users.ymlのテストデータの内容が書き込まれるようなのですが、動作はそれでよいのでしょうか？また、YMLデータではなくて下記のデータを書き込ませるsaveの書き方とかはあるのでしょうか？ test "user auth test" do user = User.new(:name => "tanaka", :password => "pass", :password_confirmation => "pass") user.save assert User.auth("tanaka", "pass") end 後、現在、usersテーブルのhashed_passwordフィールドに、モデル（user.rb）の中で、パスワードの セッターを再定義するために、 class User < ActiveRecord::Base 　　def password=(pwd) 　　@password = pwd 　　 # 　　return if pwd.blank? 　　self.hashed_password = User.encrypt(@password) 　　end # 以下、省略 end の記述を入れているのですが、現在何故か、YMLのデータが暗号化されないでそのまま入力されてしまっていますま。このメソッドの呼び出しは、上に書いたusersテーブルの内容またはYMLデータの書き込み時に、実行されると思っていいのでしょうか？（両方、またはどちらか？） 御教示願えればと思います。
config\locales\translation_ja.ymlファイルを下記のように編集して、 ja: activerecord: models: demandapp: "要望" #g attributes: demandapp: acquisition: "補足" #g class1: "大分類" #g class2: "分類" #g content: "内容" #g derivery: "納期" #g report_count: "件数　#g" source: "提起" #g state: "状態" #g これをviewのindexから下記のように、I18n.tメソッドを使って日本語訳を呼び出そうとすると、 <% Demandapp.column_names.each do |col| %> <th> <%= t("activerecord.attributes.demandapp.#{col}") %>　# <ーここ </th> <% end %> I18n::InvalidLocaleData in Demandapps#index can not load translations from c:/user/Ruby193/rails/demand/config/locales/translation_ja.yml, expected it to return a hash, but does not ＃の所でエラーが出て理由が分かりかねています。 ご経験のある方、御教示願えればと思います。
Rails3.2.9でのpaginateがうまくいきません。 分かる方、御教示ください。 今のところ、下記の状態です。 （１）Ruby193/lib/ruby/gems/1.9.1/gemsの下に、mislav-will_paginate-2.3.11 　をインストールした。 （２）Ruby193/rails/demand/Gemfileに gem 'mislav-will_paginate', '~> 2.3' を追加した。 （３）コマンドプロンプトで、>bundle installを実行 Using mislav-will_paginate (2.3.11)となっていることを確認 （４）app/controller/demandapps_controller.rb のdef indexの@demandapps = Demandapp.allを @demandapps = Demandapp.paginate(:page => params[:page], :per_page => 15) に変更 （５）app/views/demandappsのindex.html.erbの <table>～</table>の下に <%= will_paginate(@items) %> を追加。 この状態でWEBrickを動かすと、 NoMethodError in DemandappsController#index undefined method `paginate' for #<Class:0x3c0a218> app/controllers/demandapps_controller.rb:5:in `index' のエラーが出ます。paginateが認識されていないようなのですが、 この他にどこか設定しないといけない個所とかあるのでしょうか？ よろしくお願い致します。
自身の質問「WinXP＋Apache2にeRubyを入れたい」の結果報告と 「httpd.conf」の設定に付いての質問です。 まず、使用環境の詳細から記述します。 Windows-XP/Pro SP3 Apache v2.0.55 （H:\Apache Group\Apache2にインストール） PHP v5.1.6 （H:\php5.1.6にインストール） MySQL v5.1.36 （H:\MySQL5にインストール） DocumentRootは「H:/Ap2_Ruby/home」で cgi-binは「H:/Ap2_Ruby/cgi-bin」です。 インストールの顛末を記述します。 １．ActiveRubyをインストール http://www.artonx.org/data/asr/ から ActiveScriptRuby(1.8.7-p330 --with-winsock2 --enable-tcltk-stub) Microsoft Installer Package (1.8.7.36) をダウンロード ActiveRuby.msi をダブルクリックしインストールを開始 「H:\Ruby」へインストール PATHを追加「H:\Ruby\bin;」 ２．gemをアップデート コマンドプロンプトから gem update --system を実行 ３．erubyをインストール http://www.garbagecollect.jp/ruby/mswin32/ja/download/ext.html から eruby-1.0.5-i386-mswin32-1.8.zip をダウンロード 解凍後フォルダーを全て「H:\Ruby」へコピー ４．mod_ruby.soのインストール http://rubyforge.org/projects/rubyforapache から RubyForApache-1.3.1.exe をダウンロード ダブルクリックしインストールを開始 C:\Program Files\RubyForApache\ H:\Apache Group\Apache2\ H:\Ruby\ のフォルダを指定 インストールモジュールの選択で mod_ruby のみにチェック msvcp71.dllがOPENできないエラーが出れば無視して継続 ５．httpd.confを編集／Apache2を起動 「The requested operation has failed!」となる confのmod_ruby.soをコメントアウト Apache2が起動した mod_ruby.soがエラーの原因と判断 ６．別のmod_ruby.soをインストール http://www.moriq.com/ruby/win32-apache2-ruby1.8.1-mod_ruby/ から mod_ruby.so をダウンロード modulesに上書きコピー ７．Apache2を起動 Apache2は起動した ８．erubyのテスト 以下の「test.rhtml」を記述 ------------------------------------------------- <% ERuby.charset="Shift-JIS" %> <html> <body> HTML文と混在で、Ruby CGIが使えます。<br> <font size=6>ここはHTMLで、</font>次の行はRubyです。<br> <br> <% print "eRuby TEST<br>" %> </body> </html> ------------------------------------------------- IE8で「http://localhost/test.rhtml」を実行 正常に表示される。 と、言う結末でした。 eruby-1.0.5-i386-mswin32-1.8.zip　や RubyForApache-1.3.1.exe　や http://www.moriq.com/ruby/win32-apache2-ruby1.8.1-mod_ruby/ を見つけるのに、完全に「ネット迷子」に為り往生しました。 前置きが長くなりましたが、ここからが質問です。 ネットで色々探して記述した内容ですが 意味も良く分からず記述していますので これで良いのかどうか全く分かりません。 思いっきり突っ込みを頂きたいと思います。 httpd.confの変更箇所 ------------------------------------------------- LoadModule ruby_module modules/mod_ruby.so <IfModule mod_ruby.c> RubyAddPath H:/Ruby/lib/ruby/site_ruby/1.8/apache RubyAddPath H:/Ruby/lib/ruby/site_ruby/1.8 RubyAddPath H:/Ruby/bin RubyRequire apache/ruby-run RubyRequire apache/eruby-run RubyRequire auto-reload <Location /ruby> Options Indexes FollowSymLinks ExecCGI SetHandler ruby-object RubyHandler Apache::RubyRun.instance </Location> <Files *.rbx> Options Indexes FollowSymLinks ExecCGI SetHandler ruby-object RubyHandler Apache::RubyRun.instance </Files> <Location /eruby> Options Indexes FollowSymLinks ExecCGI SetHandler ruby-object RubyHandler Apache::ERubyRun.instance </Location> <Files *.rhtml> Options Indexes FollowSymLinks ExecCGI SetHandler ruby-object RubyHandler Apache::ERubyRun.instance </Files> </IfModule> DocumentRoot "H:/Ap2_Ruby/home" Options Indexes FollowSymLinks Includes ExecCGI UserDir "H:/Ap2_Ruby/home" ScriptAlias /cgi-bin/ "H:/Ap2_Ruby/cgi-bin/" <Directory "H:/Ap2_Ruby/cgi-bin"> AllowOverride None Options None Order allow,deny Allow from all </Directory> AddHandler cgi-script .cgi .rb .rbx .rhtml ------------------------------------------------- 以上 Rubyの達人様方、よろしくご教授ください。
module Mod1 def samemethod p "Mod1.samemethod" end module_function :samemethod end module Mod2 def samemethod p "Mod2.samemethod" end module_function :samemethod end class Cls extend Mod1 extend Mod2 end Mod1.samemethod # => （１） Cls.Mod2.samemethod # => （２） 上の記述において、（１）は、"Mod1.samemethod" と表示されるのですが、 （２）が、undefined method `Mod2' for Cls:Class (NoMethodError) となってしまいます。Clsから名前空間のメソッドを呼び出したい場合、 どういった書き方をすればいいのでしょうか？ 御経験のある方、御教示願えたらと思います。
Rubyの初心者です。 Rubyのバージョンを、 ruby-1.8.7　から　ruby-1.9.3 に上げたのですが、 コマンドプロンプト上での漢字の表示が1.8.7ではできていたのですが、 19.3にすると、putsやprintで漢字を表示させようとすると、 invalid multibyte char (US-ASCII) のエラーが出てしまって、漢字が表示されなくなってしまいました。 ヴァージョンを上げたことで、漢字を表示させるために何かやらないといけないこととかあるのでしょうか？ 御経験のある方、御教示願えればと思います。
Rubyだと =begin コメントアウト コメントアウト =end という形で=beginと=endを使用して複数行のコメントアウトをすると思うのですが、 MacRubyだと以下のエラーが出てしまいます。 syntax error, unexpected '=' MacRubyはRubyと違って書き方が違うのでしょうか。 よろしくお願いいたします。
Railsを使用して開発をしている者です。 そこで質問があるのですが、実はDBから読み込んだデータをメモリ上に展開して キャッシュ参照するロジックを書いたのですが 試しに大量件数をロードしたらメモリアロケーション（NoMemoryError）の エラーが発生しました。 実行時の環境は下記のとおりです 　OS：WindowsVista 　Rubyバージョン:1.9.3 　Railsバージョン:3.2.6 　Server:WebRick 　AptanaStudio3の環境から実行 そこで、Railsが使用する最大のメモリサイズがどの程度なのかを 調べてみたのですが、参考書などを調べてみたものの RailsのみならずRubyでも最大メモリサイズの設定等について 言及されている情報が見つかりませんでした。 Java等であれば、実行時のオプションに「-Xmn256m」等と指定して実行する事で 最大ヒープサイズを指定して実行する事が可能かと思いますが Railsにこの様な設定は無いのでしょうか？ また、NoMemoryErrorが発生した際にも物理メモリには余裕がありましたので Railsの処理環境で何らかの上限値が存在するものと思いますが その値や設定箇所等もあれば、教えて頂きたいです。
Ruby の Cookie 情報取得について質問です。「取得できるサイトとできないサイトの違い」と、「取得する方法」をご教授ください。 現在、以下のコードで Cookie の情報を取得するプログラムを作っています。 require 'net/http' uri = URI.parse('http://www.google.co.jp') http = Net::HTTP.new(uri.host) http.start response = http.get '/' p response.get_fields('Set-Cookie') 上のコードのように "www.google.co.jp" などはちゃんと取得できるのですが、中には取得できないサイトもあります。 取得できない場合は、コマンドプロンプトに "nil" と表示されます。 例えば、 "http://auctions.yahoo.co.jp/" を Chrome ブラウザの EditCookie でみてみると、複数の Cookie を確認できます。 しかし上記のコードを試してみると、取得できません。 ・この原因は何なのか ・解決方法（"auctions.yahoo.co.jp" からの取得方法を知りたいわけではなく、取得できないサイト一般についての解決策） この2点をご教授いただければ幸いです。
Rubyの変数と代入演算は、メモリについてどのような扱いになっているのでしょうか。2点ほど疑問電があります。 1点目：代入演算は変数にアドレスを渡しているのか RubyLifeのRuby入門のサンプルをみて学習していたところ疑問がわきました。 http://www.rubylife.jp/ini/var/index4.html　を参照しながら示します。 str1 = "Tokyo" str2 = str1 str1 << ",Japan" とやるとstr1もstr2も"Tokyo,Japan"となることから、rubyでの代入演算はアドレスを代入してると考えました。 2点目：新しくオブジェクトを代入すると別メモリ領域において、そのアドレスを代入しているのか str1 = "Tokyo" str2 = str1 str1 = "Osaka" とやると、str1は"Osaka"、str2は"Tokyo"となります。 前述の参照渡と考えるとstr2も"Osaka"となっているはずですが違いました。 ここで解説に(引用はじめ) なお2つの変数が同じオブジェクトを指し示した後で、どちらかのオブジェクトに新しいオブジェクトを 代入した場合は、代入された変数が指し示すオブジェクトだけが変更されるだけです。(引用おわり) とあります。 このことをふまえると、新しいオブジェクトを変数に代入するというのは、別のメモリ領域をつくってデータを置いてから、そのアドレスを変数に代入している、と考えました。 これら2つの考えと実際の仕組みは一致しているのでしょうか、と言うのが質問です。 質問点をまとめると、Rubyにおいて変数に対して ・代入演算はアドレスを代入しているのか(Cでいうポインタの扱いなのか) ・新しいオブジェクトを代入するときには、新メモリ領域を作ってデータを入れてそのアドレスを代入しているのか という点です。 ついこの間はじめたばかりの初心者ですが、どうかご教授よろしくお願いいたします。
ｃｓｖファイルから、特定の条件を持つ行を抽出したいです。 a1, b1, c1, d1, e1 a2, b2, c2, d2, e2 a3, b3 ,c3, d3, e3 ： 　 ： 　 ： 　 ： 　： an, bn, cn, dn, en とあったときに　d-c/d+c > 0.5となる行だけを出力したいのですが file.each{|line| x = line.split（",").map{|i|i.to_i} if 0.５<(x[3]-x[2])/(x[3]+x[2]) p x end } と自分でやってみたものの、出来ませんでした。 どうしたらよいのでしょうか。
Windows XPでruby 1.9を使用しております。 （ruby 1.9.3p286 (2012-10-12 revision 37165) [i386-mswin32_100]） CSVライブラリの勉強をしていて見つけたのですが、下のプログラムで改行を含むデータを持つCSVを読み込み出力すると、その改行部分に余分な空行が追加されてしまいます。 出力されたoutput.csvをバイナリエディタで確認すると改行を含むデータの改行部分が 元は0x0D,0x0Aであったものが出力されたファイルでは0x0D,0x0D,0x0Aと 0x0Dが1個余分にくっついているのが原因のようです。 この現象を回避する方法がありましたら教えてください。 よろしくお願いします。 -----test.rb # coding: Windows-31J require 'CSV' CSV.open('output.csv','w') do |csv| CSV.foreach('input.csv') do |row| csv << row end end ----- -----input.csv 10,11,12 20,"2 1",22 30,31,32 ----- -----出力output.csv 10,11,12 20,"2 　　　　　　　　　　<- この空行が追加されてしまいます。 1",22 30,31,32 -----
rubyのスクリプトをhtmlに組み込む方法について ruby初心者です。htmlにrubyのスクリプトを組み込みたいのですが、どのようにしたらよいのでしょうか？？ネットや 書籍で調べると、eRubyやerbライブラリーを使用するように書いてありました。どのように書いたらよいのかというか使い勝手がわからないので教えてくださいお願いします。
Ruby初心者です。 文字と数字を連携させて file1 file2 file3 . . file10 としたいのですが、 s = '100' for i in 1..10 name = 'file' + i + '\n' puts name end これだとエラーが出てしまいます。 どう修正したら良いのでしょうか？
Ruby on Rails で:remote => true設定時のデータ送信タイミングで困っています。 form_forタグに :remote => trueを指定しており、送信ボタンを押すと値をajaxで送信をするようにしています。 しかし、送信ボタンを押した瞬間に値が送信されるのではなく、ボタンを押して少し経ってから（長い時は2～3秒程度？仕様でしょうか）値が送信されます。 画面内に送信ボタンが2つ存在し、最初にボタンを押し実際に値が送信される前に別のボタンを押すと、2度ボタンを押したのに1回分の値しか送信されないといった問題が発生します。 そこでこの問題を回避するために、 1. 送信ボタンが押された瞬間に値が送信されるようにする 2. ボタン押下後に実際に値が送信されたかどうかを監視し、実際に送信されるまでは2度目以降のクリックを無効にする（ボタンをdisabledにする） のどちらかを実装したいと考えていますが、これらはrailsで実装可能なのでしょうか。
ruby on railsに詳しい方で分かる方がいればご教授いただきたいです。 先日までruby1.9.3, rails3.2.4を使用できていたのですが、他にいろんなものをインストールをしていた時に何か変になってしまったのか、突然railsが使用できなくなってしまいました。 OSはMac OS X 10.7.5です。 rails、gemの場所を調べるとopt/local/bin/となっているのですが、rails-vとすると -bash: /opt/local/bin/rails: /opt/local/bin/ruby: bad interpreter: No such file or directory gem -vとすると -bash: /opt/local/bin/gem: /opt/local/bin/ruby: bad interpreter: No such file or directory となってしまって使えません。しかしrubyは正常に動いているようです。 何か分かる方がいらっしゃいましたら、お力を貸して下さると非常に助かります。 作業ができずに困っています。どなたか、お願いします＞＜
書籍に付属している、サンプルを見たいのですが、どうすればいいのでしょうか。 Linux Ruby/Railsコマンドが使える環境で、プロジェクトファイルに移動し、 rails sサーバーを立ちあげて ブラウザからアクセスしますが、エラーが返ってきます。 操作はコマンドライン上で行なっています。
ruby超初心者です。教えてください。 このようなディレクトリ構造があるとします。 root_dir |--12_dir | a.txt | b.txt |--23_dir | a.txt | b.txt a.txt, b.txtには、ともに A= B= と書かれているとします。 このとき、root_dir(c:\root_dir)にアクセスして、 12_dir直下のa.txtには、12_dirの最初の文字"1"をとって A=1 B=(1) と書き換え、 12_dir直下のb.txtには、12_dirの第2の文字"2"をとって A=2 B=(2) と書き換え、 23_dir直下のa.txtには、23_dirの最初の文字"1"をとって A=2 B=(2) と書き換え、 23_dir直下のb.txtには、23_dirの第2の文字"3"をとって A=3 B=(3) と書き換えるには、Rubyでどのようなプログラムを書けばよいのでしょうか。 なお、実際のファイル数はもっと膨大です。 よろしくお願いします。
環境はRuby1.9.2、Rails3.1です。 Webアプリを作る勉強をしているのですが、 JSONを返してそのデータを利用して画面を作成しようと思っています。 Rails側はDBから取得したデータをto_jsonでJSON形式に変換して respond_toで返してあげればいいんですよね？ UI側はこのデータを利用して構築するにはDOMでがりがり組むしかないんでしょうか？ イメージがいまいちつかめません…… 参考になる書籍やサイト等もしご存知であれば教えてください。 これはRubyというよりjavascriptのカテゴリになるんでしょうか。 もしそうであるなら申し訳ありません。 よろしくおねがいします。
ruby 初心者の50代のサラリーマンです。 若い人にrubyがいいだろうと言われて挑戦していますが、なかなか分かりません。 どなたか、教えてください。 大きなCSVファイルがあって、 １行目は項目名が入っていて不要です。 ２行目以降、 各行２列目にレコード名、 各行８列目に欲しいデータが入っています。 データは２９行毎に１レコード分になっています。 レコード名は各行で重複しています。つまり、 試験日，サンプルA，***，・・・・・，観測値１，・・・・・・ 試験日，サンプルA，***，・・・・・，観測値２，・・・・・・ 試験日，サンプルA，***，・・・・・，観測値２９，・・・・・・ 試験日，サンプルB，***，・・・・・，観測値１，・・・・・・ 試験日，サンプルB，***，・・・・・，観測値２，・・・・・・ 試験日，サンプルB，***，・・・・・，観測値２９，・・・・・・ というデータです。 それを、 サンプルA，観測値１，観測値２，・・・・・，観測値２９ サンプルB，観測値１，観測値２，・・・・・，観測値２９ サンプルC，観測値１，観測値２，・・・・・，観測値２９ と直してｃｓｖファイルに保存し直したいのです。 どなたか、rubyプログラムの書き方を指南して下さい。
RailsでWebアプリを作ったのですが、さくらVPSにて本番環境で公開後、 ブラウザからURLを入力しても繋がらない状態が頻発しています。 しばらくすると繋がるようになるのですが、また時間を置くと繋がらなくなり、 お名前.comの404 Page Not Foundのページが表示されてしまいます。 環境は以下のとおりです。 Rails3、MySQL、Apache、CentOS(さくらVPS)、DNS: お名前.com Apacheのエラーログ(/var/log/httpd/error_log-20120930)を見たところ、 以下のnoticeが繰り返し記録されており、これが怪しいと思うのですが、 ググってもピンと来る解決策が見つからず、詰んでいます。。 [Sun Sep 30 01:48:47 2012] [notice] caught SIGTERM, shutting down （中略） [Sun Sep 30 03:39:02 2012] [notice] SIGHUP received. Attempting to restart シャットダウン --> 再起動を繰り返しているように見えるのですが、 どうすれば良いのでしょうか？？ また、他に何か思い当たる原因等ありましたら教えてください。 ちなみに、Railsのlog/production.rbにはGET,POST等の記録が残っているだけで 特に怪しい所は見つかりませんでした。 また、MySQLのログにも特に怪しいところは見つかりませんでした。 以下、Apacheのエラーログの詳細を貼ります。 /var/log/httpd/error_log-20120930: [Sun Sep 30 01:48:47 2012] [notice] caught SIGTERM, shutting down [Sun Sep 30 02:30:01 2012] [notice] suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) [Sun Sep 30 02:30:01 2012] [notice] Digest: generating secret for digest authentication ... [Sun Sep 30 02:30:01 2012] [notice] Digest: done [Sun Sep 30 02:30:01 2012] [notice] Apache/2.2.15 (Unix) DAV/2 Phusion_Passenger/3.0.17 configured -- resuming normal operations [Sun Sep 30 02:41:44 2012] [notice] caught SIGTERM, shutting down [Sun Sep 30 02:41:48 2012] [notice] suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) [Sun Sep 30 02:41:48 2012] [notice] Digest: generating secret for digest authentication ... [Sun Sep 30 02:41:48 2012] [notice] Digest: done [Sun Sep 30 02:41:48 2012] [notice] Apache/2.2.15 (Unix) DAV/2 Phusion_Passenger/3.0.17 configured -- resuming normal operations [Sun Sep 30 02:48:42 2012] [notice] caught SIGTERM, shutting down [Sun Sep 30 02:48:49 2012] [notice] suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) [Sun Sep 30 02:48:49 2012] [notice] Digest: generating secret for digest authentication ... [Sun Sep 30 02:48:49 2012] [notice] Digest: done [Sun Sep 30 02:48:49 2012] [notice] Apache/2.2.15 (Unix) DAV/2 Phusion_Passenger/3.0.17 configured -- resuming normal operations [Sun Sep 30 03:11:45 2012] [notice] caught SIGTERM, shutting down [Sun Sep 30 03:11:49 2012] [notice] suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) [Sun Sep 30 03:11:49 2012] [notice] Digest: generating secret for digest authentication ... [Sun Sep 30 03:11:49 2012] [notice] Digest: done [Sun Sep 30 03:11:49 2012] [notice] Apache/2.2.15 (Unix) DAV/2 Phusion_Passenger/3.0.17 configured -- resuming normal operations [Sun Sep 30 03:39:02 2012] [notice] SIGHUP received. Attempting to restart
現在、Rubyを用いて あるWebページから特定のタグの要素を抽出して テキストデータに出力したいと思い、プログラムを書いているのですが、 途中で行き詰ってしまいました。 ちなみにHpricotやNokogiriといったHTMLパーサーを試してみました。 パーサーを使うのは初めてです。 例えば以下のようにHTML文書に抽出したい部分がDIVタグとPタグに囲まれていた場合、 ===================================== ・・・ <div class="content"> <div class="header">不要部分</div> <div class="title">抽出したい文字列１</div> <div class="subtitle">抽出したい文字列２</div> <div class="subtitle">抽出したい文字列３</div> <p class="paragraph">抽出したい文字列４</p> <p class="paragraph">抽出したい文字列５</p> <div class="comment">抽出したい文字列６</div> <div class="footer">不要部分</div> </div> ・・・ ===================================== このHTMLからまずは 抽出したい文字列１ 抽出したい文字列２ 抽出したい文字列３ 抽出したい文字列４ 抽出したい文字列５ 抽出したい文字列６ といった出力が得たいのです。 プログラムも書いてみました。 ===================================== #ドキュメント全体を取得（dataにはHTMLの文字列が入っている） html = Hpricot(data) #内容部分(contentクラスのdiv)を取得（CSSセレクタで記述） content = html/"div.content" ===================================== ここまでは良いのですが、 そのあと、div要素を取り出すだけであれば headerクラスと、footerクラスを抽出しないように ===================================== (content/"div:not(.header):not(.footer)").each{ |line| puts line.inner_html } ===================================== とすることで、 抽出したい文字列１ 抽出したい文字列２ 抽出したい文字列３ 抽出したい文字列６ が得られますが、pタグをカンマでdivの前に追加して ===================================== (content/"p,div:not(.header):not(.footer)").each{ |line| puts line.inner_html } ===================================== のようにすると、 抽出したい文字列４ 抽出したい文字列５ 抽出したい文字列１ 抽出したい文字列２ 抽出したい文字列３ 抽出したい文字列６ のように出力されます。 同様にdivの後にpを追加し ===================================== (content/"div:not(.header):not(.footer),p").each{ |line| puts line.inner_text } ===================================== のようにすると 抽出したい文字列１ 抽出したい文字列２ 抽出したい文字列３ 抽出したい文字列６ 抽出したい文字列４ 抽出したい文字列５ のようになってしまいます。 つまり、複数のタグを指定すると、指定した順序で抽出されるようです。 代わりに子供すべてを列挙するchildのようなものがあるかと、調べてみたのですが、 どうやらそのような書き方はないようです。 複数のタグを含む場合にはHTMLパーサーでは解析できないのでしょうか。 パーサーは抽出時に順番を保証はしてくれないのでしょうか。 あきらめて、正規表現で抽出しようと思いましたが、 ===================================== <div class="comment"> <div class="comment_header">ごちゃごちゃ</div> <div class="comment_body">抽出したい要素６</div> </div> ===================================== などDIVが入れ子となっている場合に、 非常にややこしく感じたので お手上げ状態です。 どのように、解決できるでしょうか。 よろしくお願いします。
MacRubyを利用してアプリを作っているのですが、ファイルの読み書きができず困っています。 DeployせずにXcode上で実行した時は全く問題なく読み書きできるのですが、Deployするとファイルへのアクセスができませんでした。 io = File.open("akarin.txt") akarin = io.read io.close akarin = NSString.stringWithContentsOfFile("akarin.txt", encoding:NSUTF8StringEncoding, error:error) akarin = `cat akarin.txt` AppDelegateクラスのinitializeで行なっています。 上記の3つの方法で試しましたがすべて無理でした。 上から2つはそもそも起動せず、一番下のは起動しても戻り値は akarin.to_s => "" でした。 書き込みもio.write、system("echo 'akarin' > akarin.txt")で試しましたが無理でした。 ファイルのアクセスにはどこかの設定でなにかの許可がいるのですか？ どのように変更すればよいのか教えてください。
こんばんは。 変数について教えて下さい。 プログラム自体が初めてなので 「たのしい Ruby 第3版」を読んでいます。 ずっとインスタンスとオブジェクトの違いが曖昧なままです。 その本の「クラスとモジュール」という章にて クラスを定義する構文。 インスタンス変数とローカル変数の違いですが、 以下の説明で一部理解できずにつまずいています。 ―――――――――――― @ で始まる変数は インスタンス変数 といいます。 ローカル変数はメソッドごとに異なる変数として扱われますが、 インスタンス変数は同じインスタンス内であれば、 メソッド定義を超えてその値を参照したり、変更したりできます。 なお、初期化されていないインスタンス変数を参照すると nil が得られます。 インスタンス変数は、インスタンスごとに違う値を持つことができます。 またインスタンス変数は、 インスタンスがある間は値を保持しておいて 何度でも利用することができます。 一方、ローカル変数はメソッド呼び出しごとに新しく割り当てられるため、 メソッドから抜けると値を忘れてしまいます。 ―――――――――――― ここで分からないのは、 ・ローカル変数が "メソッドごと" に異なる変数として扱われる ・インスタンス変数は同じ "インスタンス内" であれば、 メソッド定義を超えてその値を参照したり、変更したりできます の部分です。 Webで検索してますが、 プログラミング経験ありを前提で書かれているような。 他の言語も知らないので分からない、そんなページが多いです。 人に聞くからには 自分でも頑張って理解できるように考えますので、 どうか回答よろしくお願いします。
悩んだ挙句、尋ねる相手もいないため、質問させてください。 テキストエディタに "puts 1+2" として、「calc.rb」と名前をつけて保存。その後コマンド プロンプトで"ruby calc.rb"で実行とすると、"3"と出力するはずのところ、"ruby: No such file or directory -- calc.rb (LoadEroor)"とでます。 何が原因でしょうか？ ちなみに、テキストエディタとして、メモ帳　or　SciTEを使用。 また、"ruby -v"の実行は、うまく表示されました
rails gで生成したファイルがgit resetしても消えません。。 > git commit -a -m "first commit" > rails g controller top index > git reset --hard HEAD resetしたのにindex.html.erbが消えてくれません。。 rails gしたファイルも消して元の状態に戻すには、どうしたらいいのでしょう？ railsコマンドを打つ時に(git rmのように)何かしなくてはいけないのでしょうか？
課題で出されたツールを自分で書いてみたんですが、エラーが起こる理由が分からないので教えて頂きたいです。 ↓リンク先に書いてみたスクリプトとエラー内容が書いてあります。 http://ideone.com/pjxA5 課題の内容は、コマンドプロンプトの引数でディレクトリ名を与えて、そのディレクトリにあるファイルやサブディレクトリにあるファイルから拡張子が「.c」「.cpp」のものを再帰的に全て探します。 探した拡張子のファイルの中身に「//」で始まる行(コメント行)があればすべて置換して消すようにする、といった感じの内容になっています。 rubyを始めてそんなに経っておらず分からない事だらけなので、構文が間違ってるなど、エラーが出る理由を教えて頂ければと思います。
rubyのスクリプトをコマンドプロンプトで実行する際に、ディレクトリ名を引数に指定したいと思っています。 その場合記述的には「ruby スクリプト名.rb ディレクトリ名」と書けばよろしいのでしょうか？ 例えば「temp」というディレクトリがあり、それを指定したい場合は「ruby スクリプト名.rb temp」と書けば指定できてることになるのでしょうか。 低レベルな質問かもしれませんが、ruby超初心者なので教えて頂ければと思います。
Ruby on RailsでTwitter bootstrapを使用するための環境構築方法をご教授ください。 【環境】 Windows7 ruby 1.9.2 rails 3.2.3 『Gemfile』の一番下に gem 'twitter-bootstrap-rails' を追記して bundle install を実施すると下記エラーで止まります。 -------------------------------------------------------------------------------- $ bundle install Fetching gem metadata from https://rubygems.org/......... Using rake (0.9.2.2) Using i18n (0.6.0) Using multi_json (1.3.6) Using activesupport (3.2.3) Using builder (3.0.0) Using activemodel (3.2.3) Using erubis (2.7.0) Using journey (1.0.4) Using rack (1.4.1) Using rack-cache (1.2) Using rack-test (0.6.1) Using hike (1.2.1) Using tilt (1.3.3) Using sprockets (2.1.3) Using actionpack (3.2.3) Using mime-types (1.19) Using polyglot (0.3.3) Using treetop (1.4.10) Using mail (2.4.4) Using actionmailer (3.2.3) Using arel (3.0.2) Using tzinfo (0.3.33) Using activerecord (3.2.3) Using activeresource (3.2.3) Using bundler (1.1.5) Using coffee-script-source (1.3.3) Using execjs (1.4.0) Using coffee-script (2.2.0) Using rack-ssl (1.3.2) Using json (1.7.4) Using rdoc (3.12) Using thor (0.14.6) Using railties (3.2.3) Using coffee-rails (3.2.2) Using commonjs (0.2.6) Using jquery-rails (2.0.2) Using less (2.2.1) Using less-rails (2.2.3) Installing libv8 (3.3.10.4) with native extensions Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension. c:/Ruby192/bin/ruby.exe extconf.rb *** extconf.rb failed *** Could not create Makefile due to some reason, probably lack of necessary libraries and/or headers. Check the mkmf.log file for more details. You may need configuration options. Provided configuration options: --with-opt-dir --without-opt-dir --with-opt-include --without-opt-include=${opt-dir}/include --with-opt-lib --without-opt-lib=${opt-dir}/lib --with-make-prog --without-make-prog --srcdir=. --curdir --ruby=c:/Ruby192/bin/ruby Checking for Python...Unable to build libv8: Python not found! Gem files will remain installed in c:/Ruby192/lib/ruby/gems/1.9.1/gems/libv8-3.3.10.4 for inspection. Results logged to c:/Ruby192/lib/ruby/gems/1.9.1/gems/libv8-3.3.10.4/ext/libv8/gem_make.ou -------------------------------------------------------------------------------- 自分で調べたところ『libv8』,『therubyracer』が影響している？ようですが、 自環境にlibv8,therubyracerをうまくインストールする事ができません。 こちらを解決したら、Twitterbootstrapが使えるようになるのかもよく分かってません。。。。 結果として、上記環境のRailsでTwitterbootstrapが使えるようにしたいです。 解決策がお分かりの方がいましたら、ご教授をお願い致します。
こんにちは。Ruby初心者です。 MacOSX 10.7.4 ruby 1.9.3p194（homebrewでインストールしました） Rubyを使ってExcelを読み込もうと、サイトを参考にトライしているのですがどうしてもgemで入れたプログラムを読み込むことができません。 ============================= require "spreadsheet" xls = Spreadsheet.open('./excel.xls','rb') sheet = xls.worksheet(0) cell01 = sheet[0,1] p cell01 ============================= このように書いて実行すると下記のエラーが出ます。 LoadError: no such file to load — spreadsheet method requirein excel.rb at line 1 at top levelin excel.rb at line 1 おそらくこれはgemをそもそも読み込めていないのだと思います。他のサイトを参考に、require 'rubygems'　なども試しましたが、ダメでした。おそらく組み込みだおともうのですが、require 'date'などは読み込みます。 そもそもgem自体があまり良くわかっていないかもしれません。 どうぞよろしくお願いいたします。 Spreadsheetの参考にさせていただいているサイトはこちらです http://doruby.kbmj.com/yuki-Ruby/20091216/Ruby_Excel_
はじめまして。 私は今初めてrubyの勉強をしています。 使用している参考書はたのしいruby第3です。 ruby 1.9.3-P1.9.4でのrequireについて 今回質問させていただく内容としては requireを使用し外部ファイルを読み込もうとするとエラーになってしま.います。 同じディレクトリにファイルを置いています。 ディレクトリ構造として c:\workspaceの中にscopetest.rbとsub.rbをおいております。 scopetest.rb $x = 0 x = 0 require "sub" p $x p x sub.rb $x = 1 x = 1 実行コマンド ruby scopetestr.rb エラー C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- sub (LoadError) from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i n `require' from scopetest.rb:4:in `<main>' 参考書と同じにやっているのですがエラーがでてしまいます。 初歩的な質問かもしれませんがよろしくおねがいいたします。
今度新しい仕事につきます。 そこで使用されているのはruby on Railsだそうです。 ruby on Railsやrubyのことは全くわかりません。 プログラムの経験はphpをかじった程度です。 これから猛勉強をして習得しようと考えています。 そこで質問が3つほどあります。 １．ruby on Rails を勉強するにあたり、rubyの勉強もしないといけないのか。 また、rubyの勉強をしなければいけない場合、rubyとRailsどちらを先に勉強するべきか。 ２．なにかよい参考書はあるか。 ３．よい勉強方法はあるか お忙しいとは思いますが、ご回答よろしくおねがいします。
ruby on rails において、form_forヘルパーを用いてデータを取得したいのですが、ユーザー入力だけでなく、システムから計算したデータも入力したいのですが、やりかたがわかりません。 具体的に、blogモデルにpram1,pram2,pram3とあった場合、pram1はユーザーが入力し、pram2には、システムで計算した一週間後の日付を入れて置きたい場合、 controllerで、 @blog = Blog.new blog.save viewで <%= form_for(@blog) do |f|%> ～省略～ <%= submit %> などと、書くと思いますが、どのタイミングで、代入すればよいのですか？ できれば、サンプルコードで教えてください。
僕は Jack Hamm 氏の「人体のデッサン技法」で 絵を練習しています。 その本に沿って練習した画像を 練習帳のように Tumblr へ Post しています。 以前からウェブデザインにも興味があって それでも絵を優先しつつ、 のこのことHTMLやCSSなどもやっていました。 ひと月くらい前、ついにプログラム言語を覚えようと PHPのことを調べてたのですが、 ついこの間、分からないところを 友達のプログラマーに聞いてみました。 教えてはくれたものの、PHPよりRoRをすすめられ、 まだ手を出したばかりで浅かったこともあり、 PHPをやめてRubyを勉強し始めました。 深い理由はないんですが PHPはやる前から好きではなくて Rubyをすすめられた時はちょっと嬉しかったです。 でもちょっとハマりすぎて、 今まで優先してた絵の練習より Rubyに時間を使いすぎてしまいます。 正直、Rubyより絵の方が 「ここまでやって今更やめられない」 ほど長く続けてます。 Rubyも楽しいのですが、 絵が上手くなった実感というか、 成果というのは プログラムほど単純には得られず、 困った悩みです。 絵が趣味の友達もいませんので 自分だけで練習してます。 モチベーションのバランスが悪いんでしょうか。 何とかして絵とプログラムを 安定したバランスで両立できないでしょうか。 アドバイスをいただけたら嬉しいです。 よろしくお願いします。
お世話になっております。 現在進行中のプロジェクトをgit cloneにて共有リポジトリから本番環境のサーバーに移しアプリケーションにアクセスしようとしたところ、Passengerが以下の様なエラーを吐き出してしまい、その解決策が見いだせずにいます。 A source file that the application requires, is missing It is possible that you didn't upload your application files correctly. Please check whether all your application files are uploaded. A required library may not installed. Please install all libraries that this application requires. Error message: no such file to load -- rubygems/path_support 当方環境は以下の様になります。 【共通】 サーバー Apatch DB MySQL ruby1.9.2 【ローカルサーバー（開発環境）】 MacOS X Rails 3.2.2 【共有リポジトリ】 さくらVPS 【本番サーバー（デプロイ先）】 さくらVPS CentOS6 Raisls 3.2.5 初心者故今回この質問をさせていただく上で必要な情報が何かというところも曖昧です。大変恐縮なのですが、何か支離滅裂な個所がありましたらそちらも合わせてご指摘いただければと存じます。 以下実行内容ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー 【ローカルにてproductionモードでプロジェクトを実行するために以下を実行】 passengerのインストールと設定　→　httpd.confの設定　→　gemにてmysql2のインストール　→　mysqlにてDBの作成とそれに対するユーザー、パスワードを設定　→ database.ymlの設定　→　rake db:setup RAILS_ENV="production"を実行 補足：ここまでのプロセスでローカル環境にてproductionモードで動作しております。 この状態でgit commit → pushを行い、本番サーバーにてcloneを実行しております。 【サーバーサイドで実行したこと（公開ディレクリは/var/www/html以下はDocumetRootは/var/www/html/public/と設定してあります）】 公開ディレクトリ【html】にて共有リポジトリよりプロジェクトをclone　→　passengerのインストールと設定　→　rake db:setup RAILS_ENV="production"を実行(末尾に--traceを付けcreateとmigrateも実行) ここまででhttp://ドメイン/コントローラー名にてプロジェクトにアクセスできると考えていたのですが、上記の様なエラーが発生し困っております。 繰り返しとなりますが、Rails初心者故上記に記させて頂いたプロセスにて足りなかったり余計であったりする個所もあるかと存じます。読みづらい文章の上大変恐縮ですが、そちら合わせてご指導いただければ幸いです。 宜しくお願い致します。
自作したrakeファイルでDBのデータを追加・更新するような処理をしたいのですが、 うまく参照できずに実行してもエラーになります。 以下のようなソースです。 ---------------------------------------------------- namespace :glaph do desc "ｘｘｘｘｘ" task :タスク名 do 　　--中略-- def login_at Time.current.strftime("%Y%m%d") end def get_user User.where(xxx: 1, login_at: login_at).first end def new_user user = User.new( is_period: 1, login_at: login_at ) user.save end def main new_user unless get_user end main end end ---------------------------------------------------- エラー内容： rake aborted! uninitialized constant User rails consoleではもちろん正常に処理できるのですが。。 rakeのコマンドではDB(modelクラス)を参照できないのでしょうか？ お手数をお掛けしますが、宜しくお願いします。
RubyのFor文でCのように細かくループ・カウンタの増減を制御したい場合、どのように書くのが一般的なのでしょうか。 想定しているのはこんな感じです。 int i; for(i = 0; i <= 100; i = i + 0.2) { //do something } 普段は何気なくwhile文やuntil文を使ってしまうんですが、ちょっと気になったので質問させて頂きました。ご存知のかたがいらっしゃいましたらお知恵を拝借させてください。
タイトルのままになってしまいますが 現在作成中のサイトで画像のアップロード機能が必要なのですが 正直、環境構築時の鬼門のImageMagickで困っています 人に作ったものを見せるためには Cent,Ubuntu,Macのそれぞれの環境で比較的簡単に環境を作れる必要があるので ImageMagick不要の画像アップロードPlug-inを探しています * jpg,pngの画像拡大縮小だけ出来ればいい * データはDBか指定したディレクトリのどちらかだけにアップロード出来ればいい という条件なのですが、どなたかご存じないでしょうか？
Rubyでcsvファイルから行列の値を読み込んで、 行列式の乗算をしたいのですがエラーがでて困っています。 例えばA.csvがcsvファイルの形式で100行20列の行列でB.csvもcsvファイルの形式で20行3列の行列としたとき、 require 'matrix' require 'csv' ma = CSV.read(A) mb = CSV.read(B) mc = ma * mb print mc, "\n" と入力すると、":in `*': can't convert Array into Integer (TypeError)" というエラーが出てしまいます。 プログラミング初心者なので根本的なところが理解できていないかも知れませんが、解決法を教えていただければ助かります。 よろしくお願いいたします。
現在rubyでファイルパスからファイル名を取得したいと思っています。 具体的には"public/foror/filename"というstringがあったとして、このfilenameを取り出したいのです。 なので末尾から検索して最初に/が一致するまでの文字を取り出すという処理を書けばいいと考えて、下記のようなプログラムを書きましたが、うごきません。 p filepath[\/.*$] rubyも正規表現も初心者なので、色々と間違っているところがあるとおもいますが、なにかお気づきになった点がございました、ご指摘いただけると幸いです。
現在rubyを勉強しているのですが、わからないことがありこまっています。 それはインスタンスにどんなクラスが入っているかわからないのです。 具体的にソースで説明させていただきます。 f= File.open("hello.txt") このfのインスタンスにどんなクラスのインスタンスが格納されているか知りたいのですが、何か方法は無いのでしょうか？
あるファイルの特定の行だけを削除したいのですが、高速に行う方法はありませんか？ とあるファイルがあり、これは数行～数万行にも及ぶ可能性のある大規模なファイルです。 このファイルの、特定の行を検索してその行だけ削除し、空いてしまった行は詰めたいのですが、どのようにすれば高速に行えますか？ かなり遅い方法だと、 xxx = "hoge\n" arr = [] f = open("file") f.each{|line| if line != xxx then arr<<line end } f.close open("file", "w").puts arr.join() などが考えられるのですが、遅すぎて使えないはずです。 速度が求められる処理のため、困ってます。 もしご存じの方がいらっしゃいましたら、教えて頂けませんか？
今CentOSにrailsをインストールしようとしているのですが、はまっています。 rubyはrvmでインストールできたので、gemでrailsをインストールしたのですが、 railsコマンドをうつと、「-bash: /usr/local/bin/rails: /usr/local/bin/ruby: bad interpreter: そのようなファイルやディレクトリはありません。」とでます。 これは昔railsを入れて、うまく動かなかったのでuninstallしたという経緯がある り、その設定ファイルがどこかにのこっているからだと思うのですが、でもrails のパスをどこにとおし直したらいいかわかりません(bash_profileかな？と思うのですが 、railsとうったときに何を参照していいいかわからない)。 何か気づいた点がありましたら、助言いただけると幸いです。
ライフネットの見積もり画面で金額がスロットのように表示されますがどうやって出来るのでしょうか？ 何かサンプルがあれば教えて下さい！
初心者です。rubyを使ってみたくて、下記サイトからＷｉｎ７　６４bit　にインスト－ルしました。 http://www.kkaneko.com/rinkou/ruby/rubyinstaller.html すべてうまくいったように思います。 さらに、http://jp.rubyist.net/magazine/?0011-CGIProgrammingForRubyBeginners を参照に、CGI プログラムとして実行のため、 rubima011-cgi.zipをインストール。無事うごきましたが、 print.rb　は動きませんでした。 さたに、ＨＴＴＰＤでもためしてみましたが、同じように、print.rbが動きません。 そして、他さいとから、ダウンした日時表示の time.rb　も動きません。 > #!/usr/local/bin/ruby > today = Time.now > wdays = ["日", "月", "火", "水", "木", "金", "土"] > print "Content-type: text/html\n\n" > print <<END 以下略 > END > exit today = Time.now で、エラーを起こしているのだと思います。 > print "Content-type: text/html\n\n" 以下だと正常に表示されます。 どなたか、解決策を教えてください。 よろしくお願いします。
rubyには他の言語にはない多様な記号が出てきますが、googleでこれらのキーワードをなかなか調べられません。 良い方法はありますでしょうか？ 「<=>」、「%W」、「...」、「<<」などです。（この他にもたくさんあります）
よろしくお願いします。 cgiの勉強中なのですが、文字列の比較が上手くいかずに困っています。 プログラム中に記述した日本語は問題なく同じ文字として比較されるのですが、 ファイルから文字を読み込んだ日本語を比較させようとすると上手くいきません。 以下のプログラムでは４箇所から「yes」と返ってくるのが理想でしたが、 後半の２箇所からしか「yes」と返ってきませんでした。 文字コードの問題かとも思い、NKF等で変換してみたり試してみましたが上手くいきませんでした。 また、どのファイルもUTF-8に統一されているのでファイルの読み込み時に文字コードの変換は必要無いのではないかとも思っています。 使用しているファイルは以下の３ファイルとなり、同一フォルダに入れています。 プログラム中で日本語を使用したかったので、どのファイルも文字コードはUTF-8で保存しています。 question.rb　　：メインプログラム Unit_module.rb ：メインから呼び出すモジュール question.txt　 ：文字列の入ったテキスト（最後は改行していません） rubyのバージョンは1.9.3p125を使用しています。 独学ですので周囲に訊く事も出来ずにいます。 何が問題で文字列の比較が上手くいっていないのでしょうか？ 以下は各ファイルの内容となります。 ---------------question.rb----------------------------------------- #! /usr/local/bin/ruby # -*- encoding: utf-8 -*- #モジュール読み込み require "./Unit_module" include Unit #HTML作成 print "Content-Type:text/html;charset=utf-8\n\n" print <<EOF <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title></title> </head> <body> EOF str_test = "" #ファイル読み込み時の日本語の比較 f = open("./question.txt", "r") f.each{|line| str_test = line if str_test == "東" then print "yes" end test(str_test) } #プログラム中に記述した日本語の比較 str_test = "東" if str_test == "東" then print "yes" end test(str_test) print "</body></html>" -----------Unit_module.rb------------------ # -*- encoding: utf-8 -*- module Unit def test(str_test) if str_test == "東" then print "yes" end end end -----------question.txt--------------------- 東 --------------------------------------------
レンタルサーバでdate2(http://www.funaba.org/ruby.html#date2)ってライブラリを使いたいです。 ファイルをダウンロードしてtar -xvfしてREADMEに従ってくと、 %ruby install.rb install rm -f InstalledFiles ---> lib mkdir -p /usr/local/lib/ruby/site_ruby/1.8 install date.rb /usr/local/lib/ruby/site_ruby/1.8/ install.rb:633:in `initialize': Permission denied - /usr/local/lib/ruby/site_ruby/1.8/date.rb (Errno::EACCES) 以下略 となりました。レンタルサーバなので/usr/localなどに書き込み権限がないからの様です。 こういうライブラリをレンタルサーバで使いたい時って、どうしたら良いのでしょう？？ 因に、今まではgem でインストールするライブラリしか使った事がなく、 gemの時は、 setenv GEM_HOME $HOME/local/lib/gems/1.8 setenv RB_USER_INSTALL true gem18 install hogehoge などとしてました。 ご指導の程、よろしくお願いいたします。
レシーバーとなる数値を引数で割って商と余りを配列にして返す divmodメソッドの読み方を教えてくれませんか？ お暇な時でけっこうです＾＾よろしくお願いします。
現在rails3.2でrailsの勉強をしています。この過程で困ったことがありましたので質問させていただきました。 それはviewにfomr_forを定義するとエラーをはいて動かないのです。 具体的にソースで説明します。 ・コントロールのソース class ComicListController < ApplicationController def index @comic_master_r = ComicMaster.new end end ・Viewのソース <%= form_for @comic_master_r do |f| %> <% end %> ・エラーの内容 undefined method `comic_masters_path' for #<#<Class:0x9da00d0>:0x9e73d04> 私個人の見解としては、form_forを使う際に必要とされるコントロール側の変数の定義が足りないからではないかと思っているのですが、googleの検索結果ではViewしか書いていないことが多く、コントロールにどんなものを定義すればいいのか、うまく判断がつきません。 ご回答お待ちしております。
ltotal = 0 #行数の合計 wtotal = 0 #単語数の合計 ctotal = 0 #文字数の合計 ARGV.each do |file| begin input = open(file) #ファイルを開く(A) l = 0 #file内の行数 w = 0 #file内の単語数 c = 0 #file内の文字数 while line = input.gets l += 1 c += line.size line.sub!(/^\s+/) #行頭の空白を削除 ary = line.split(/\s+/) #空白文字で分解 w += ary.size end input.close #ファイルを閉じる printf("%8d %8d %8d %s\n", l, w, c, file) #出力を整形する ltotal += l wtotal += w ctotal += c rescue => ex print ex.message, "\n" #例外メッセージを出力(B) end end printf("%8d %8d %8d %s\n", ltotal, wtotal, ctotal, "total") ローカル変数はメソッドを抜けると値を忘れてしまうのでは なかったでしょうか・・・ ここでltotalやwtotal等を呼び出しているのは明らかに メソッドの外部からだと思うのですが、変数に入れられた 値は保持されたまま表示されるのでしょうか
memo.txtの中に含まれている"俺の飯"という文字列を"私のごはん"というふうに置換を行いたいのですが、 現在のやり方だとファイルを開いて1行ずつ読み込んで新しいファイルに文字列を書きだしており 読み込んだ際、置換対象の文字列があった場合に置換して書きだしておりますが このやり方だとどうしても新規ファイルを出力しなければいけません。 これを新規ファイルを作らずにmemo.txtの中身だけを書き換えるようにするには どのような処理にすれば良いのでしょうか？ 何卒宜しくお願い致します。 ---- sample.rb require 'rubygems' open("memo.txt"){ |f| open("after_memo.txt","w"){ |o| while line = f.gets line.gsub!("俺の飯", "私のごはん") o.puts line end } } -- memo.txt 俺の飯はリーズナブル！ 俺の飯美味しそう！
現在、javaからrubyに移行するために勉強しているのですが、別のファイルに定義したクラスのインスタンスが作成できなくて、困っています。 具体例をあげると require './B' class A end def initialize b = new B end end --別のファイル class B def initialize p 'hello' end 　public : initalize end こんな2つのファイルがあったとして、Aのインスタンスを作成すると、 undefined method `B’　というエラーがでます。 私としてはこのエラーの原因がinitializeがデフォルトでprivate宣言なのが原因だと考えているのですが、publicと指定してもエラーとなることから、いくつか疑問が湧いたので質問させていただきます。 １、そもそもBクラスのインスタンスが作成できないのはinitializeがデフォルトでprivate宣言なのが原因なのか？ ２、1があっていたと仮定するとBクラスのinitializeをpublic指定しているのになぜ呼び出せないのか？ ３、rubyはなぜデフォルトでinitializeがprivateなのか？（javaではコンストラクタをprivateにするということは普通はしない。使うときはシングルトンやUtilのようなクラスを作るときに限る） 以上です。よろしくお願いします。
Railsのバージョンを2つ入れている状態です。 $ gem list rails *** LOCAL GEMS *** rails (3.2.3, 3.1.0) この状態で3.1.0をデフォルトのバージョンにしたいので 下記のコマンドを入力します。 $ rails _3.1.0_ --version Rails 3.2.3 バージョンを指定したはずですが。3.2.3がその後に表示されます。。 念のため現在のバージョンを確認します。 $ rails -v Rails 3.2.3 やはりバージョンが3.1.0になりません。 何か足りない手順があるのでしょうか？ 何卒宜しくお願い致します。
現在railsの勉強をしているのですが、その仮定でgemを使うことがおおくなりました。 しかしgemの使い方がいまいちわかりません。 具体的にはmysqlをインストールしようと考え gem install mysql とうって、mysqlをインストールしたのですが、このソフトの使い方がわかりません。 といいますのも、mysqlとうってもコマンドはみつからず、そこで gem which　mysql でrbファイルを探し出し実行したんですけど、特に反応が無い。readmeもない。 自分でインストールしていて間抜けな話なんですが、gemで入れたプログラムはどうやって使えばいいんでしょうか？ご回答お待ちしております。
配列から要素を取り出してその要素に含まれるアルファベットを小文字にして返す というメソッドなんですが・・・ def fetch_and_downcase(ary, index) if str = ary[index] return str.downcase end end ary = ["Boo", "Foo", "Woo"] p fetch_and_downcase(ary, 1) hash = { 0 => "Boo", 1 => "Foo", 2 => "Woo"} p fetch_and_downcase(hash, 1) ↑の内容だとうまく実行できるのですが hash = { :0 => "Boo", :1 => "Foo", :2 => "Woo"} p fetch_and_downcase(hash, :1) ↑のようにハッシュのキーをシンボルにしたり、文字列にすると エラーがでます。 何故でしょうか？ ハッシュも要素を参照するときに hash[index] の形式で参照できるので、キーがシンボルであっても うまくいくと思ったのですが、キーが数字でないとうまく 動いてくれません・・・
1つのクラスオブジェクト内のインスタンス全てで共有できる クラス変数 @@a　と、 同じインスタンス内であればメソッドの定義を越えてその値を 参照したり、変更したりできるインスタンス変数 @a のスコープの違いをお手すきでしたらご指導願えませんか？ あとクラス変数にはセッターやゲッター等のアクセスメソッドを 設定できるんですか？ いろいろ知りたいです。
SSHでVPS(Cent OS5.8)に接続してrailsのサーバーを立ち上げました。そうすると当たり前ですが実行されターミナルに状態が出力されます。このときにターミナルは別の操作ができなくなるのですが、この場合どうやれば実行させつつ別の作業操作ができるのでしょうか。 それともPC側から別のプロンプトを立ち上げてSSHでログインするのでしょうか。Linuxは初めてなのでご教授の方よろしくお願いします。
Ruby言語を独学で勉強している者です。 現在たのしいRuby第３版という著書を参考にして勉強しています。 現在はクラスの継承、クラス文の定義の仕方を学んでいます。 そこで教えて欲しいのですが、 ローカル変数とはメソッドごとに異なる変数として扱われる。 インスタンス変数は同じインスタンスの中であればメソッドの定義を越えて その値を参照したり変更したりできるとあります。 そもそもインスタンスとは、オブジェクトとおほ同意義と捉えてるのですが この認識に間違いはないでしょうか。 ニュアンス的なものは理解したのですが、もう少しこの二つの変数の定義について 理屈を把握したいので、お手すきなお方がいらっしゃいましたら、具体的な例をあげて ご説明くださいませんか・・・。 この本すごく素人にもわかりやすい丁寧な解説で書いてあって、決して説明不足とは 思わないのですが、プログラマーさんの意見なども参考にしたくて投稿してみました。
スクリプトから入ると説明しにくいけど、後で挫折しやすいという意見を 聞いたのですが、本当でしょうか？ ちなみに独学なのですが、独学ならなおさらといってました。 Cから入るのが無難とかなんとか。 本当にそうなんでしょうか？
rails runnerコマンドを実行するのに、１分以上かかります。 1分おきに定期実行を考えているのですが、とても使用できません。 1分おきに定期実行する方法はありますでしょうか。 開発実行環境 OS WindowsXP ruby 1.9.2p290 rails 3.2.2 勉強始めて3日目の初心者ですが、宜しくお願いします。
rubyそのものの質問でなくて申し訳ありせん。 WindowsにてActiveScriptRubyを使用しております。 http://www.geocities.co.jp/siliconvalley-PaloAlto/9251/ruby/ の記述にて、「できること」に「WScript, CScriptからのRubyスクリプトの実行」とあったので試してみたのですが以下の様なエラーが出て動作しません。 Win XP ２台、Win Vista １台で試しましたが同じ結果となりました。 http://www.artonx.org/data/asr/ から Ruby-1.9.3-p125.msiをインストールして、%ruby_install_dir%\binにパスを通してrubyを使用しておりますが、CScript（或いはWScript）からrubyを動作させるには他に何か設定が必要なのでしょうか？ お解りになる方がいらっしゃいましたらご回答をお願い致します。 コマンドプロンプトから実行しています。 D:\ruby>ruby -v ruby 1.9.3p125 (2012-02-16) [i386-mswin32_100] D:\ruby>ruby hello.rb ←これは普通に動作します。 D:\ruby>cscript hello.rb Microsoft (R) Windows Script Host Version 5.7 Copyright (C) Microsoft Corporation 1996-2001. All rights reserved. 入力エラー: ファイル拡張子 ".rb" を持つスクリプト エンジンはありません。 D:\ruby>wscript test.rb ←同じエラーのメッセージウィンドウが出ます。
MacでRuby on Railsのソフトを開発するのに向いているエディタを探しています。 現在はAptanaを使っているのですが、もう少し単語の補完機能が充実している物はありますでしょうか？
Ruby と Ruby on Railsは何が違うんでしょうか？ 漠然とした質問ですいません。
習得すればこのRuby言語を使ってどういうことができますか？ ネットワークプログラミングってなんですか？
array=%w(1 2 3 4) のような文字列の配列があるとします。 これを数値の配列にしたいです。 以下の様にしてみました。 array=array.inject([]){|a,v| a<< v.to_i } これでも出来ましたが、もっとrubyらしい方法ってあったら教えて下さい。
こんにちは、 rubyのmethodsメソッドについてです。 met = Object.method(:method) として、ObjectクラスのmethodメソッドをMethodインスタンスとしたとき met.parametes #=> [[:ref]] とすると、引数の情報を得ることができます。 しかし、 met.methods には、「:parameters」がありません。 クラスごとのメソッドを全て表示させたいのですが、 methodsはすべてのメンバを取り出すメソッドではないのでしょうか。 ご存知の方がいらっしゃいましたらお教えくださいませ。 ruby 1.9.3p125 (2012-02-16 revision 34643) [x86_64-linux] Rails 3.1.4 gem 1.8.17 CentOS 5.7
Rubyでファイルの再終行から？行目（コマンドのtail的な）の内容を取得しようとした場合、 どのような方法が一番メモリを消費せず、速度が速いのでしょうか？ File.openしてループでgetsをしてまず全行取得、取得した内容から最終の？行を得る、のような方法は考えられるのですが、これだと一度ファイルの全てを処理するために、あまり効率が良い感じがしません。 他に何か良い方法は無いでしょうか。
Mac OSX Lionにgem mysqlが入らなくて困っています。 （MySQL自体は普通にインストールしました） ネット上を探しまわって以下のようなコマンドを試したのですが、 エラーメッセージは同様のものでした。 sudo gem install mysql sudo gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config 以下、エラーメッセージです。 Building native extensions. This could take a while... ERROR: Error installing mysql: ERROR: Failed to build gem native extension. /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb mkmf.rb can't find header files for ruby at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/ruby.h Gem files will remain installed in /Library/Ruby/Gems/1.8/gems/mysql-2.8.1 for inspection. Results logged to /Library/Ruby/Gems/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out 完全に詰まってしまいました。 何かアドバイスをお願いいたします。
ruby19 -vは使えるのに、gem19 -vが使えない ▽ruby1.9をcoreserverとmacのホームディレクトリにインストール - Born Neet] 　 http://blog.bornneet.com/Entry/282/ を参考に、レンタルサーバに「ruby-1.9.2-p180」をインストールしようとしています。 「ruby19 -v」と打つと、「ruby 1.9.2p180 (2011-02-18 revision 30909) [i686-linux]」と表示されるのですが、 「gem19 -v」と打つと、「command not found」となってしまいます。 「gem19 -v」を有効にするには、どうすれば良いでしょうか？ ＜インストールする際に打ったコマンド＞ /local/src/ruby-1.9.2-p180> ./configure --prefix=$HOME/local --program-suffix=19 ＜エラーと思われる箇所＞ make[1]: Leaving directory `/virtual/ユーザー名/local/src/ruby-1.9.2-p180' Generating RDoc documentation ./miniruby -I./lib -I.ext/common -I./- -r./ext/purelib.rb ./tool/runruby.rb --extout=.ext -- "./bin/rdoc" --no-force-update --all --ri --op ".ext/rdoc" "." ./tool/runruby.rb:63: warning: Insecure world writable dir /virtual/ユーザー名/lib/PEAR in PATH, mode 040777 uh-oh! RDoc had a problem: Directory .ext/rdoc already exists, but it looks like it isn't an RDoc directory. Because RDoc doesn't want to risk destroying any of your existing files, you'll need to specify a different output directory name (using the --op <dir> option) 「RDoc」ってドキュメント(？)だから関係ないようにも思うのですが、何か影響しているのでしょうか？ .ext/rdoc は既に存在しているけど、「RDoc directory」に見えない、とは、どういうことなのでしょうか？
数万行あるテキストファイルの中を数百パターンくらいの正規表現で サーチするRubyスクリプトを作成しようとしていますがうまくできません。 どなたかお知恵を拝借させてください。 以下の流れで作ろうとしています。 「 ファイルを一行GETして、その行が事前に定義した配列内の正規表現に合致していればprintする。 次の行をGETして、最初からた正規表現の配列を比較して、合致していればprintする。 テキストファイルが終わるまで、繰り返し 」 何分初心者なもので…、他のやり方があれば教えていただきたいです… ヨロシクお願いしますm(__)m
$KCODE='e' require 'jcode' puts 'ー'.tr('ー','-') と書いてみたのですが、 /usr/local/lib/ruby/1.8/jcode.rb:137:in `tr!': premature end of regular expression: /[ー]/ (RegexpError) from /usr/local/lib/ruby/1.8/jcode.rb:148:in `tr' from b.rb:5 と怒られます。なにが悪いんですか？　あと、実は全角の（）も置換したいので、 $KCODE='e' require 'jcode' puts 'ー（）'.tr('ー（）','-()') などと書いてみたのですが、今度は -())) と期待した結果と異なるものが出てきました。 何が悪いのでしょうか？ 以上、ご指導の程、よろしくお願いいたします。 P.S nkfって奴で、全角記号を半角記号へ変換って出来ないと思って、こんな事してます。
Cygwin上でRuby言語でInternetExplorerのプログラムを書いています 現在は １、win32oleでIEを開く ２、プログラム内でｈｔｍｌでHPを作成し、IEで開く ３、２をプログラムを終了させるまで続ける といったものですが、２でURLを習得し、IEで開こうとすると新しい窓（ウィンドウ）が開いてしまいます。新しい窓（ウィンドウ）を開かずに、１で開いたIEを更新させたいです。 または、前に開いたページを閉じて、新たなページを開く。 win32oleやwin32APIなど、Cygwin上のRubyで使える方法ならいいので、ご存知の方いましたらお願いします。
私はプログラミングというものを全く経験したことがありません。 タイピングも物凄く遅いくらいパソコン初級者です。 パソコン自体、ネット検索や通販くらいしか使いません。 しかし私はゲームを作りたくてRubyという言語を勉強したいです。 それでこの質問のタイトルの本を買いました。(アマゾンで買ったので中身を見ずに買いました。) しかし読みながら3時間ほどパソコンをいじってみましたが、解説に飛躍がありすぎてまだ難しいです。 もっと丁寧に解説された初心者のためのRubyの本はないでしょうか？
たとえば、 Class Hoge initialize(arg) 　@data=arg end def read(size) 　@dataからsize分読んで返す。 end end みたいなクラスを hoge=Hoge.new(aaa) puts hoge.read(1024) puts hoge.read(1024) みたいに使いたいです。 指定したバイト分読むってどうするんですか？ ご教授の程、宜しくお願いいたします。
　質問はクラスのオブジェクトを、シリアライズしてファイルに保存するプログラムを作成したいのと、シリアライズしたデータベースのオブジェクトを、ファイルから読み込んで復元するプログラムを作成したいと思っています。　そこで、下記のプログラムを使って作りたいのですが、どのように作成したらいいか教えて欲しいです。　是非とも、よろしくお願いします。 class AddressFile def initialize(file) @original = file @meibo = {} fo = open("address_list.txt", "r") lines = fo.readlines fo.close for aLine in lines data = aLine.split @meibo[data[0]] = data[1] end end attr_accessor :meibo def search(name) @meibo[name] end def add(name,address) @meibo[name] = address end def update(name, address) @meibo[name] = address end end 動作環境はruby 1.8.7 (2010-01-10 patchlevel 249) [i686-linux]になります。　よろしく、お願いします
Rubyの配列の扱い方についてなのですが、 配列内の各要素（文字列）を更に細かい単位に分割してその中の1部を別の配列へコピーしようと思うのですがどうもうまくいきません。 具体的には array1["http://www.google.co.jp/","http://www.yahoo.co.jp/"] という２つの要素を持つ配列があるとして、 これを.split(/\//)を使用して分割しuriの３番目の要素に当たるhost名を別の配列 array2["www.google.co.jp","www.yahoo.co.jp"] という感じに部分複製したいのですがどのようにすればいいのでしょうか？
db = SQLite3::Database.new('hoge.db') で、 db.execute('replace into table01 (a, b, c, d, e, f, g) values(?, ?, ?, ?, ?, ?, ?)',va, vb, vc, vd, ve, vf, vg); とかって書いてるのですが、 これを、 def replace(table,k,v) db.execute('replace into ' + table + '(' + k.join(',') + ') values('+ k.collect {'?'}'.join(’,’) +')' , ここどうかいたら？？) end みたいな事を考えたのですが、vって配列でもらった値をばらばらにdb.executeのパラメータに渡したいのですが、 できませんでして、 replace('table',%w(a, b, c, d, e, f, g),[va, vb, vc, vd, ve, vf, vg]) みたいに使いたいです。 引数が可変のパラメータをそのまま、つぎの関数に渡すみたいな。 なんか、ラクする方法ないですか？ ご教授の程、宜しくお願いいたします。
同じ年に生まれたnの学生がいる。こ の中には，同じ誕生日を持つ学生と，そうでない学生がいる。前者が何 人いるか数えるアルゴリズムをいくつか考え，その計算量を考えよ。簡 単のために，誕生日は１月１日からの日数（つまり０から３６４の整数） で表わすことにする。また，学生の誕生日は大きさ冊の配列ｂに入って いるが，その順序はデタラメだとする。 アルゴリズム１:同じ誕生日を持つ学生の人数を変数mで表わすこと にして，最初は、０にしておく，学生の誕生日を１人ずつとり出 し，配列ｂのすべての中身と比較して同じ誕生日の学生がいる かどうかを調べ，１人でも同じ誕生日の者がいた場合はmを１ 増やす。これをすべての学生について行う。 アルゴリズム２：同じ誕生日を持つ学生の人数を変数皿で表わすこと にして，最初は０にしておく。配列ｂを併合整列法によって小さ い順に並べる。並べ換えた配列を先頭から順に調べてゆき，同 じ値が連続する区間の長さｋを数える。ｋが２以上の場合の区 間があった場合は，ｍをｋだけ増やす。これを配列の最後まで 行う。 アルゴリズム３：日付ごとの人数を数えるために，大きさ３６５の配列 ｃを作り，中身をすべてＯにしておく。学生の誕生日ｄを１人 ずつとり出し，その日付の人数ｃ［ｄ］を１増やす。これをすべて の学生について行う。最後に，ｃを先頭から調べて２以上になっ ている値の和を求める。
p [{:a=>'x',:b=>'X'},{:a=>'y',:b=>'Y'},{:a=>'z',:b=>'Z'}].inject(Hash.new(0)){|h,v| h[v[:a]]=v[:b]} 上記以下エラーになります。 test.rb:1:in `[]=': string not matched (IndexError) from test.rb:1 from test.rb:1:in `inject' from test.rb:1:in `each' from test.rb:1:in `inject' from test.rb:1 以下のような、ハッシュを作りたいのですが、 {'x'=>'X',y'=>'Y',z'=>'Z'} 何がダメですか？ ご教授の程、お願いいたします。
タイトルのとおりですが、サーバーに保存してあるテキストファイルを読み込んで、 出現回数の多かったものを表示したいと考えています。 言語はRubyかできればJava scriptでと考えています。 テキストファイルには A B C A D のように一行ずつ語句が保存してあります。 よろしくお願いします。
Ruby on Rails を勉強しているんですが、細かいところで @member = Member.find(1)　という風に作成したモデルオブジェクトについてですが、 @memberとういう変数から、Memberモデルの主キー名を取得することができるでしょうか。 ※または、@memberから、Memberクラスが取得できるか。 @member.reflectionsなど、いろいろためしましたができませんでした。 お分かりの方がいらっしゃいましたら、是非お教え願えないでしょうか。
rubyでアカウントがない場合に新しくアカウントを作るプログラムを、ハッシュを使って作成しようと思っています。表示としては登録ができたら「アカウントを作成しました。」と、アカウントがすでにある場合には「アカウントはすでにあります。別なアカウント名を使ってください。」と表示させたいと思っています。ハッシュに登録まではできるのですが、そこからどう作成したらいいのかわからないので教えてほしいです！初心者で申し訳ないですがよろしくお願いします。 $KCODE = "e" hash_account = {} fo = open("accountData.txt", "r") i = 0 while(line = fo.gets) ary = line.split hash_account[ary[0]] = ary[1] i = i + 1 end fo.close ちなみに、accountData.txtにはアカウント名,パスワードの順に登録があります。 rubyのバージョンはruby 1.8.7 (2010-01-10 patchlevel 249) [i386-mswin32]です。
rubyでアカウントとパスワードを検証するプログラムを、ハッシュを使って作成しようと思っています。 そこで、if文を使って条件をわけようとしているのですが、うまくいきません。　自分なりに書いてはみたのですが間違っているようで、どこをどう直したらよいか教えていただきたいです！ $KCODE = "e" hash_account = {} fo = open("accountData.txt", "r") i = 0 while(line = fo.gets) ary = line.split hash_account[ary[0]] = ary[1] i = i + 1 end fo.close print "*** ログインしてください。自分のアカウント名とパスワードを入力してください。 ***\n" print "アカウント:" account = gets.chop print "パスワード:" password = gets.chop if (hash_account[account] == password) print "ようこそ、", account,"さん。それではゲームを始めましょう。\n" elsif print "パスワードが間違っているようです。\n" else print account,"というアカウントはありません。\n" end ちなみに、accountData.txtには、アカウント名、パスワードの順に入っています。
http://www.sanabo.com/words/ 上記サイトから言葉を拾ってきて、つぶやかせるという自動botを考えてます。 流れとしては、サイト上からスクレイピングしデータを切り取り(nokogiri)、それをハッシュ？の中に格納して、その値の中からランダムにつぶやかせる。という感じかなと思ってます。 ※TwitterのAPIはなんとか大丈夫です。 ですが、2点疑問があります。 01) サイト見てみると、「あ」…「お」など言葉がディレクトリごとに分かれており、どうやってアクセスして切り取ってくるのか不明？正規表現とか使うのでしょうか？ 02) どういうふうにハッシュの中に値を入れるのか？ ご教授いただけますでしょうか？ よろしくお願いいたします。
プログラミングの知識はほぼ皆無なのですが、仕事でRUBYを使わなければならなくなり、オープンソースを弄っているところです。 rbファイルの記述に require '○○' とあるのですが、判らなかったので無視して実行してみたところ、 C:/Ruby193/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot loa d such file -- ○○ (LoadError) from C:/Ruby193/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require ' from makeindex.rb:2:in `<main>' というエラーが出ました。 ○○ファイルを色々なディレクトリに置いてみたのですが、どれも同じエラーでした。 一般的に、○○ファイルは何処に置くべきなのでしょうか。 尚、環境は以下の通りです。 WindowsXP RUBY　1.9.3 「require '○○'」の記述があるrbファイルの場所　c:\a rbファイルはカレントディレクトリをaにしてから実行 プログラマーの方からすれば意味不明な質問かも知れませんが、ネットで調べてみてもさっぱり判らなかったので質問させて頂きました。 宜しくお願いします。
組み込みライブラリのFileクラスを使用してリネームをしようとしているのですが、パスを直接記述した場合はリネーム処理がおこなわれますが、変数で渡した場合は　Invaｌid argument　とエラーが出ます。 変数で渡した場合でも出来るようにするには何か別の処理が必要なのでしょうか。 宜しくお願いします。 ○のパターン File::rename("C:\test\01sample01.txt","C:\test\sample01.txt") ×のパターン sample1 = "C:\test\01sample01.txt" sample2 = "C:\test\sample01.txt" File::rename(sample1,sample2)
現在Rails3でWEBアプリの開発をしているのですが 実現方法が不明な事が有るので質問させて頂きました。 実行環境は 　　OS:Windows7 　　Railsバージョン：3.0.9 　　APサーバー：WEBrick です。 実現方法が不明なのは、一つのフォームに複数のサブミットボタンを配置し コントローラーでどのボタンが押されたのか判定する方法です。 ビューにおいてフォーム内に 　<%= submit_tag 'OK', {:disable_with => "Sending…"} %> 　<%= submit_tag 'CANCEL', {:disable_with => "Sending…"} %> と言う様にサブミットボタンを配置し コントローラーでどちらのボタンが押されたのかを判定する方法なのですが 検索して調べてみると 　if 'OK' == params[:commit] then 　　OKボタンが押された際の処理 　else 　　CANCELボタンが押された際の処理 　end と言う風に出来ると言う情報を見つけたのですが、実際にやってみると 上記の様な値はparamsから取得出来ないので、正しく動作しません。 paramsで取得した値の中身を見ても、それらしい値も無く 何を判断すればどのボタンが押されたのかを判断出来るのかが判らず 非常に困っております。 サブミットボタンにjavascriptのコードを埋め込み 送信前にHIDDEN項目にクリックされたボタンを表す値を埋め込むと言った方法で 回避する事も可能かとは思いますが、標準的なやり方とも思えず また、良く行われる処理だと思いますので、他に方法が有る様に思えます。 どなたかご存知の方が居れば御回答お願いします。
RubyOnRailsにてOpenIDのライブラリを試しているのですが 付属して来たサンプルを移植しても上手く動作せずに困っています。 環境はWindows7環境でRailsのバージョンは3.0.9 gemコマンドでruby-openidライブラリの2.1.8のバージョンを取得して来て そのサンプルとして付属して来たOP（OpenID Provider）を移植しました。 この際、rack-openidと言うライブラリも取得しております。 RP（Relying Party）の方も同様にネット上の情報を参考にサンプルアプリを作成し ログインシーケンスの動きを確認してみようとしている状況です。 ところが、ログインしようとしてRPのログイン画面からOPのServerの画面にリダイレクトする タイミングで、エラーが発生してしまいます。 調べてみたところ、リダイレクトする際のGETクエリーのパラメータ値が上手く OPのServerの処理に引き継ぎ出来て居ませんでした。 値自体はURLの後にキチンと付加されているので疑問に思い 更に調べてみたのですが、如何もrack-openidライブラリのRack::OpenIDクラスが行っている sanitize_query_stringと言うパラメータ値の無害化（サニタイズ）処理で query_hash = env["rack.request.query_hash"] query_hash.delete("_method") query_hash.delete_if do |key, value| key =~ /^openid\./ end とかやっていまして、 openid関係の値をクリアしている様子 結果として全てのパラメータをクリアしてしまっている様です。 確かに全部クリアしてしまえば無害でしょうけれど、これでは動作に問題が出ると思われる状況です。 そこで、この処理の妥当性をしかるべき相手に問い合わせしたいのですが プロジェクトホームページを見ても、開発者の名前と思われる情報は判るのですが 問い合わせする方法が判らず困っています。 どなたか問い合わせ方法をご存知であれば、教えて頂きたいです。 宜しくお願いします。
rubyのプログラミングでアカウントに関するプログラムでアカウントがある場合は成功しました、パスワード違う場合はもう一度入力してください、アカウントがない場合はアカウントがありませんと表示をさせようと思っています。ちなみに、アカウントデータはテキストファイルの中に、名前、パスワードの順番に入っています。　そこで何ですが、def ｖerifyAccount(account, password)という関数の中身をどう定義したら良いのでしょうか？　あと、result = verifyAccount(account, password)以降に何を書いたら良いか教えてもらえたら嬉しいです。　聞きたいことが多くて申し訳ないですが是非ともよろしくお願いします！ def ｖerifyAccount(account, password) end print "*** ログインしてください。自分のアカウント名とパスワードを入力してください。 ***\n" print "アカウント:" account = gets.chop print "パスワード:" password = gets.chop result = verifyAccount(account, password) ...
現在JavaからRubyに移行しようと勉強をしているのですが、Rubyのソースコードを読んでいくと、変数に何が入っているかわからなくて困っています。 ソースコードを例に説明させていただくと、 gs = TCPServer.open(12345) addr = gs.addr こんなソースがあったとして、2行目のgs.addrというメソッドが何をするメソッドなのか知りたいとします。 しかしRubyでは型宣言をしないので、gsが何のクラスなのかわかりません。 そこでTCPServerクラスのリファレンス（http://www.ruby-lang.org/ja/old-man/html/TCPServer.html）を見るのですが、このサイトのクラスメソッド欄にかいてあるTCPServer.openを呼んでも、戻り値の型が書いていません。 このような場合どうやって、gs.addrメソッドの挙動をしればよいのでしょうか？なお現在は動的にデバックするという方法は無しで考えています。 ご回答よろしくおねがいします。
rubyでmarkabyの使用するとhtmソースが普通のエディタでみれません どうしたら表示できるかをよろしくお願いいたします。 =====make_htm.rb/================================================ require 'rubygems' require 'markaby' html = Markaby::Builder.new do head { title 'マイホームページ'} body do h1 "ようこそ" b "項目" ul do li "ライン１" li "ライン２" li "ライン３" end end end puts html =====make_htm.rb/end================================================ を実行すると <head> <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/> <title>& #12510;& #12452;& #12507;& #12540;& #12512;& #12506;& #12540;& #12472;</title> </head> <body> <h1>& #12424;& #12358;& #12371;& #12381;</h1> <b>& #38917;& #30446;</b> <ul> <li>& #12521;& #12452;& #12531;& #65297;</li> <li>& #12521;& #12452;& #12531;& #65298;</li> <li>& #12521;& #12452;& #12531;& #65299;</li> </ul> </body> と出力されます（改行はあとで付加しました&と#の間にわざとスペースいれてます） これをブラウザでみればちゃんとみえるのですが htmのソースの状態で <head> <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/> <title>マイホームページ</title> </head> <body> <h1>ようこそ</h1> <b>項目</b> <ul> <li>ライン１</li> <li>ライン２</li> <li>ライン３</li> </ul> </body> と出力するにはどうしたらいいでしょうか str = html.to_s puts Iconv.conv('Shift_JIS','UTF-8',str) とやってみても変わりませんでした。 よろしくご教授おねがいいたします。
回答を頂いてやってみたんですが、プログラムを実行して表示された結果は追加出来ているんですが、テキストファイルを開くと追加されていませんでした。 実行したプログラムがテキストファイルにも反映するにはどうしたら良いのでしょうか？？ よろしく、お願いします。
どなたが知識をご教授下さい。 Rails3でAjaxのごく普通のハイパーリンクを作成したいのですが、うまくいきません。 /users/index.html.erb <div id="hoge"> <%= link_to "ajax",{:action => 'draw'},:remote => true %> </div> -- /users/_draw.html.erb ~いろいろ内容~ -- /users/draw.js.erb $('#hoge').html("<%= escape_javascript(render :partial => 'draw' )%>"); -- /users_controller.rb def draw ~いろいろ処理~ end -- ルーティング match 'users/draw' => 'users#draw' -- application.html.erb <%= javascript_include_tag :defaults %> -- gemfile gem 'jquery-rails' 以上のように処理するよう様々なサイトや書籍にはありましたが、「Templete Missing」のエラーが出てしまいます。かれこれ５時間以上ハマってまして、、、 どなたか知識をご教授頂けたら幸いです。 ＊メモ アクションdrawに渡ったときに、 「request.xhr?がfalse」ということは、ajax通信できていないということでしょうか？？？
AddressFileクラスに記録されているハッシュの内容に、新たに名前とメールアドレスを追加するメソッドaddをAddressFileクラスのメソッドとして定義したいんですが、def add以降の作り方がわかりません。　どのように作成したらいいか、教えてください！　お願いします。 ○が名前で、△が住所になります。 class AddressFile def initialize(file) @original = file @meibo = {} fo = open("address_list.txt", "r") lines = fo.readlines fo.close for aLine in lines data = aLine.split @meibo[data[0]] = data[1] end end attr_accessor :meibo def search(name) @meibo[name] end def add(name,address) end end obj = AddressFile.new("address_list.txt") obj.add("○○○○", "△△△△") obj.search("○○○○") obj.search("○○○○") obj.search("○○○○") 初心者で申し訳ないですが、お願いします。
インスタンス変数の中身を表示したり書き換えたりするには、どのような方法があるか教えてください！ よろしく、お願いします。
class Test def initialize @ary = Array.new(size){false} end def print _print end def _print print"#{@ary}" end end test = Test.new(5) test.print 上記のプログラムはエラーが出て実行できません。期待している動作は[false,false,false,false,false]です。どうしてエラーが出るか教えていただきたいです。また、解決策もよろしくお願いします。
rubyについてのプログラムで、テキストファイルの中に人の名前と住所が書かれていて、その人の住所が登録されていると、その人の住所が表示され、なければnilを返すプログラムを作りたいと思っていて、 def (search)から後をどう書いたらいいのかわからないので、是非教えていただきたいのでお願いします！ class AddressFile def Initialize(file) @original = file @meibo = {} fo = open(file,"r") lines = fo.readlines fo.close for aLine in lines data = aLine.split @meibo[data[0]] =data[1] end end attr_accessor :meibo end def search(name) end end obj = AddressFile.new("address_list.txt") obj.search(○○○○) テキストファイルの中身は、名前、住所の順番で入っています。このプログラムでおかしいとこがあれば、それも教えていただきたいです！ よろしく、お願いします！
Ruby初心者(オブジェクト指向はわかります)なのですが、メソッドについてわからないことがあって質問させていただきました。 Net::SMTP.start('smtp.example.com', 25) {|smtp| smtp.send_message(<<-EndOfMail, 'from@example.com', 'to@example.net') From: Your Name <from@example.com> To: Dest Address <to@example.net> Subject: test mail Date: Sat, 23 Jun 2001 16:26:43 +0900 Message-Id: <unique.message.id.string@yourhost.example.com> This is a test mail. EndOfMail } このプログラムの意味を理解しようとしているのですが、どうもわかりません。 私の現在の認識を説明させていただくと、 １）NetクラスのインナークラスであるSMTPクラスのstartメソッドを呼び出している。 ２）('smtp.example.com', 25）これはstartメソッドの引数である。 ３）|smtp|よくわからない。このstartメソッドの戻り値？startメソッドの中なのに？ ４）From: Your Name <from@example.com>　ここもよくわからない。なぜ急に変数にも代入しない　文字列を書いたのか？ 以上が私の現在の認識と疑問点です。 疑問点はもちろん、認識している点も誤って認識している点があればご指摘いただけると幸いです。
case x when 0 ～ で場合分けができますがこれを『○○以上』や『以下』で判定したいです。 範囲が決まっていたら case x when 1..10 のように書けますが以上以下はどうすればいいでしょうか？
verは1.8.7です。 ifで文字列が指定した正規表現と『マッチしない』場合を判定したいんですがそのまま書くと unless @value =~ /^[0-9]{4}/ みたいになります。 unlessだと先に条件式を見てからひっくり返さないといけないので『マッチしない』を判別する演算子があればいいのですが、マニュアルのStringとRegexpのページを見ても分かりませんでした。 もしあったら教えてください。あとマニュアルにある場合はどこに書いてあるか教えてもらえると嬉しいです。
【&:】の後ろにメソッド名を書いたものを見たことがあるんですがこれは何で、どういう動きをするんでしょう？ mapやeachの後ろでよく見る気がします。
Rubyで配列を新しく定義するとき、Array.new(3,"TEST")とArray.new(3) { "TEST" }ではどう違いますか？またどう使い分けますか？
ＲＤＥを使っています。 input_value = gets puts input_value p input_value　　　　を書くと、上に書いたprint文などより先に左下のコンソールに 先に入力するようになります。 コマンドで実行するとうまくいくのですが。 何か設定が間違っているのでしょうか？ 教えていただければたすかります。
timesメソッドはどんなときにつかうものですか？ 今のところ必要と思われる場面がありません。 具体的にはどんなときメリットがありますか？
色んな本を読んでみるということが向上につながると 思いました。 そこでみなさん、これはお勧めの本だとか、この本は ～の理由であまり初心者にはお勧めできないとか ありましたら教えていただきますでしょうか。
先ほど、windows　XPにRailsをインストールしました。 とりあえずは、RubyのサーバーのWebrickで動かすことには成功しました。 が現在winXPにApacheをいれてローカルでRubyが動く環境をつくっていて、 そのApache内でRailsでつくったアプリを動かし作業したいとおもっています。 とりあえずインストールしたRailsをつかって rails new Projectでつくったディレクトリをまんまhtdocsに移動させてみたんですが 案の定動きませんでした。 どのようなファイルを修正したらApahceのhtdocs内で動かせるようになるんでしょうか？ ちなみに、インストールしているRubyはCGIのみでmod-rubyなどは使っていません。 よろしくお願いします。
シンボルを使ったキーと値のハッシュについて・・・ （例 sample = Hash[ :saki, "Mijinco", :tihiro, "Ume" ] 例えば↑の配列ではキーsakiにたいして、値が"Mijinco" キーtihiroにたいして、値が"Ume"という配列になっている のですが、注意書きに【要素数が偶数ではないといけない】 と、あるのですが、ここでいう要素とは シンボルキーの:sakiと値の"Mjinco"のペアで１つの要素 なんでしょうか？ それとも、:saki "Mijinco"おのおのが１つずつの要素なんで しょうか？ わかりにくくてすいません。
勉強していたらtoFormattedStringメソッドというものに出会ったのですが、 これの読み方を教えていただけないでしょうか？
rubyでハッシュのソート方法についてはいくつか情報のサイトを見つけられました。 ですが今やりたいのは、ハッシュのハッシュのソートなのですが、うまいやり方がわかりませんでした。 具体的には、 h1 = {"user1"=>{"a"=>10, "b"=>20, "c"=>30"}, "user2"=>{"d"=>5, "e"=>8}, "user3"=>{"f"=>10, "g"=>5, "h"=>10} } というようなハッシュのハッシュを想定しています。ユーザごとに案件ごとの必要工数（時間）をハッシュとして持たせ、全工数が多いユーザ順にソートしたいのです。 上記の場合だと、 {"user1"=>{"a"=>10, "b"=>20, "c"=>30"}, "user3"=>{"f"=>10, "g"=>5, "h"=>10}, "user2"=>{"d"=>5, "e"=>8} } というようにソートしたいのですが、何かやり方がありましたらご教授いただけますでしょうか。
newメソッドを使わずにinitializeメソッドを定義しただけで インスタンスが作成されて初期化までされる理屈について 教えていただけないでしょうか？ またクラスを作るときに基となっているObjectクラスとは一体 何物なのか、教えて頂きたい。 例 01:#Sampleクラスを作る 02:class Sample 03: #Samlpeクラスのインスタンスを初期化 04: def imitialize( lv, hp ) 05: end 06:end ↑の場合インスタンスlvとhpは、「lv = sample.new( 0 )」などと言う ように定義されてない。 それにnewメソッドでインスタンスを作りそこに数値の0を代入できるなら そもそもinitializeで初期化する必要は無いのではないでしょうか？ 有識者の方いらっしゃいましたら、ご説明をよろしくお願いします。
今、複合データ型のデータの集まりを作ってるんですが。 まあ、classをつくってその中に様々なデータを作っています。 えとわからないことがありまして、 classのインスタンスと属性、または属性値の違いってなんですか？ インスタンス変数ってのは属性値のことですか？ あとinitializeメソッドでインスタンス変数を初期化する意味はなんですか？ 初期化するとどうなるんですか？ 入門書を読んで独学で学習中なのですが、言葉の意味の例えが無くて 理解するのに頭が混乱してきました。助けてください。
どうも、はじめまして。 今、独学でオブジェクト指向プログラミング言語のRubyを勉強しています。 えー、プログラミングの知識ははっきりいってド素人といってもいい程です。 そこで有識者の方がいらっしゃいましたら、どうか教えて頂きたいのですが ビギナー向けの参考書など、お勧めはございませんか？ これは分かり易かったとか、あればなんでも結構です。 あと、この知識が活かせるような資格やビジネスはありますか？ どんな情報でもけっこうなんでよろしくおねがいします。
上記書籍のP143の カレントクラスについて質問です。 上記書籍に、 【クラス定義のなかでは、カレントオブジェクトselfは定義されたクラスである】 という記述がありますが 例えば、以下のようなクラス定義あがあるとします。 class Test print self.class def self.method_01() print "メソッド01" end def method_02() return self end end クラス定義内に3箇所selfが存在しますが、 インスタンスメソッド　の　method_02()内のselfはnewメソッドによって 作成されたTestクラスのインスタンスの意味だと思います。 それより上の二つのselfは確かに定義中のカレントオブジェクト・・つまりTestクラス ですけれど、なぜ書籍では、クラス定義内でのselfという表現なのでしょうか？ 個人的には、【クラス定義内で定義されるインスタンスメソッド内にあるselfを除くselfはカレントオブジェクトである】という風に、説明すべきだと思うのですが 何か私の解釈に誤りがあるのでしょうか？それとも、文面を気にしすぎなだけでしょうか？ くだらない質問ですがご意見をおきかせください。
ruby言語の勉強を始めました。文法については、ざっと本を読みました。 そこで、他の上手な人が作ったrubyソースを解読してノウハウを取り入れたいいと思っています。 rubyで書かれた良いソースプログラムには、どんなものが有るでしょうか？ よろしくお願いします。
Rubyの以下コードについて質問です。 #!/ruby/bin/ruby print "content-type: text/html\r\n\r\n"; puts "Hello World!" begin def foo x =0 (0...10).each do |value| print value.to_s +"の時"+ x.to_s + "<br />" end end foo rescue =>e print e.class.to_s+ "<br />" print e.message end 上記コードを実行すると以下のような例外を取得します NoMethodError undefined method `+@' for "\343\201\256\346\231\202":String どうやら上記コードの print value.to_s +"の時"　の部分の　　+"の時"　という箇所が問題のようなのですが 上記箇所を　+ "の時"　のように 文字列連結子の　+と "の間に半角スペースを 入れるとうまく実行されます。 いったい原因はなんなのでしょうか？ 細かい箇所ですが是非、ご教授ください。
今晩わ。 RubyでNet::HTTPをもちいてPOST送信する際の処理について 質問です。 Net::HTTPクラスのインスタンスメソッドのpostメソッドを用いて送信する場合 送信内容を # version 1.2 (Ruby 1.8.x or later) response = http.post('/cgi-bin/search.rb', 'query=subject&target=ruby') 上記のように、引数に渡していると思います。 このとき、値の中にパラメータのデリミタと同じ&を入れたい場合どうしたらいいのでしょうか？ 例えば query=subject&target=ruby&PHP のような感じでvalueとして&を渡す場合です。 Net**HTTP::Postクラスのrequestメソッドを用いてハッシュとして渡した時は問題なかったのですが、上記のpostメソッドの時がPOSTされた値を取得するときにキチンと取得できませんでした。これはなにか対処方法があるのでしょうか？ ご教授ください。 おねがいします。
hairetu = [1,2,3,4,5] という配列があった時 ３と４が含まれているかを判断するには if hairetu.include?(3) && hairetu.include?(4) 　p "３と４が含まれている" end と書けばよいのですが 条件が増えたら、見にくくなってしまいます。 そういった理由で if hairetu.include?(3,4) や if hairetu.include?(3 or 4) という具合に、短く書く方法があれば ご教授お願い致します。
初めまして。宜しくお願いします。 プログラマーの皆様や現役の専門学校生（プログラミング言語専攻）の方にお尋ねします。 私は今年の5ヶ月間、職業訓練校でRubyの基礎を学びました（講座終了済み）。プログラミング言語はまったくの素人です。 ところが、毎日の授業は先生の講座速度が非常に速いうえに講義内容そのものが私にとってたいへん難解でした。このため、1日の授業の半分すら理解できるか否かという状態でした。たとえばクラスやインスタンス変数の授業は全く理解できませんでした。このキーポイントが判らないため、結局、Rubyが理解できないまま講座修了しました。 学校の授業が理解できないので自宅で復習しても理解度がさっぱり上がりませんでした。先生に質問して教えてもらっても、理解度は半分ぐらいでした。入校当時は「頑張るぞ」と張り切っていたのですが、授業が判らぬことからすっかり自信を失ってしまいました。 そこで質問ですが、二年制三年制の専門学校に入校して十分な講義時間を費やしてもう一度Rubyを勉強し直そうか、と迷っています。迷う理由は、高額な学費をかけても、自分に能力があるのだろうか、という不安があるからです。 ご助言をいただければ幸いです。宜しくお願い申し上げます。
こんにちは。 http://www.aptana.com/products/studio3/downloadの画面の下の方にある [DOWNLOAD APTANA STUDIO 3]という青い画面を選択すればAptanaStudioがダウンロードできるはずなのですが、選択すると 「Your Download is Starting」で始まる新しいページが出てくるのですがすぐに消えてしまい、先程のURLに戻ってしまいます。 AptanaStudioをダウンロードするのに前準備が足りないのでしょうか。 ruby 1.9.2p290 ruby gems 1.8.9 ruby on rails 3.1.0 のインストールは既に完了しています。 また、私のパソコンはwindows vistaなのですが、先程のＵＲＬではダウンロード対象ＯＳがMAC OSしか表示されていないのも一つ気になる点です。 いろいろ調べてみたのですが、私のようなエラーでダウンロードができない場合の対処についてどうしても分かりませんでした。回答よろしくお願いします。
class A def sample p"サンプル" end end $a = A.new $a.sample $b = A.new $b.sample $c = A.new $c.sample この時、$aをnilにする時 $a = nil　とすれば良いのですが $a、$b、$c・・・のように複数あって どれだけあるか分からない条件下で A.newで作られた物全てをnilにしたいのですが やり方が分かりません。 もし、良い方法があれば、ご教授お願い致します。
こんにちは。現在Rubyの学習中です。Rubyに限らずプログラムに関しての質問なのですが、ファイルを保存する場所によって処理速度は変わるのでしょうか。 ＣドライブにＯＳが入っていると知りました。Rubyのプログラムを動かすには、Ruby本体とプログラムファイルが必要ですが、これら二つはやはりＤドライブよりもＣドライブに保存した方が処理速度は速いのでしょうか。よろしくお願いします。
こんにちは。 現在大学生４年生で新しいプログラミング言語の習得を目指しております。その理由といたしましては諸事情により大学院では今とは違う研究分野の研究室に配属が決まったからです。 その分野とは、ウェブ工学やデータベース関係を扱う研究室です。大学院の指導教授とお話したところ「CとC++は必須、あとはRubyかPerlのどちらかを習得しておくこと、Javaは必須ではない」と言われました。 早速、スキルアップのため言語の勉強をしようと思っているのですが、言語を習得するためにはなにか目標を持ちながら参考書を読むのがいいといろいろなサイトなどで書いてありました。 これから言語を勉強していくので自分にあった具体的な課題がまだ分かりません。そこでなのですが、こういったものを作っていけばいいのではないかという具体的な課題を教えていただけないでしょうか。できれば、初歩的なものから段階的に難しいものを教えていただけるとうれしいです。 よろしくお願いいたします。
いつも、ご教授ありがとうございます。 Ruby　でメソッドを自作してそのメソッドにブロックを持たせる場合 ブロック内で返り値を返すためにはどうしたらいいのでしょうか？ たとえば以下のような自作メソッドがあるとすると def blocktest(str) if (block_given?) yield str else print "メソッドにブロックが与えられていない"; end end begin #自作したメソッドにブロックを与えた場合 res = blocktest("ブロック付きメソッドのテスト") {|value| print value; print "<br/>" print "メソッドに与えられた引数をprintしています" return "ブロックで返り値" } print res; print "<hr />" #ブロックを与えない場合 blocktest("ブロック付きメソッドのテスト"); rescue => ex print ex.message end 上記のようにブロック内で返り値　を指定して変数resのその返り値を返したい場合 どうしたらいいのでしょうか？ 一応、ブロック内でreturnで値を与えてはいますが、例外が発生します。 よろしくお願いしまう。
初歩的な質問で申し訳ありません ary = [Foo.new] ary.each do |i| 　if (条件） 　　ary.push(Foo.new) 　end end 上の様にブロックの中である条件でaryに要素が追加されます。 この場合、この追加された要素はeachで漏れなく扱えるのでしょうか？ 簡単なプログラムで試した限りではpushされたFooインスタンスについてもeachで取り出せているようなのですが、自信が無いので質問致します。 # coding: windows-31J class Foo attr_accessor :checked attr_reader :val RAND_MAX = 5 def initialize rnd = Random.new @checked = false @val = rnd.rand(RAND_MAX).to_i end end ary = [Foo.new] ary.each do |f| if f.val > 0 ary.push(Foo.new) end f.checked = true end cnt_true = 0 cnt_false = 0 ary.each_index do |idx| print "#{idx} #{ary[idx].checked} #{ary[idx].val}\n" if ary[idx].checked cnt_true += 1 else cnt_false += 1 end end puts "checked true = #{cnt_true}" puts "checked false = #{cnt_false}" よろしくお願いします。
Rubyで#!/ruby/bin/ruby require 'net/http' require 'uri' print "content-type: text/html\r\n\r\n"; begin url = "http://～～～.com/" Net::HTTP.get_print URI.parse(url) rescue => ex print ex.class; print "<hr />"; print ex.message; print "<hr />"; print ex.backtrace; end というようなコードで指定のURLの内容をgetしたいと思っています。 が、とりあえずは上記内容でURL先の内容は取得できるのですが url = "http://www.~~~.com"; という風にwwwをつけるとスクリプトがうごかずURL先の内容が取得できないのです。 原因はなんなのでしょうか？ 識者のかたご教授ください。
RubyでexeファイルをつくるExerbというライブラリをインストールしたいです。 でとりあえずやってみたところどうやらうまいぐあいにインストールできていないようです。 現象としては、普通にExerbの最新版5.30を落として適当なディレクトリに配置 コマンドプロンプトからruby setup.rbでExerb内のsetup.rbファイルを実行するとコマンドライン上でインストールが進みます完了後コマンドプロンプトでexerbを実行しても 内部コマンド～～とお決まりの文章がひょうじされて実行できません。 ruby.exeはパスが通ってるのでPC内のC:/ruby/binの中をみたところexerbファイル（※中身はRubyコード）は存在しますがどうやらexerb.exeファイルが生成？されてないようです。 一応http://sourceforge.jp/projects/exerb/releases/50337にあるようにRubyコアの バージョンをあわせて実行したのですがどうしても、うまくいきません。 原因はなんなのでしょうか？ 識者の方、ご教授お願いします。 ActiveRubyとかいう実装の方をインスコすればデフォルトで実行できるようなのですが もともとインストールしていたRubyがrubyinstaller-1.8.7-p330ですので、なんとか このRubyで実行させたいのです。 よろしくお願いします。
エンジニアではないため、簡単にポイントを教えていただけるとありがたいです。 少し前に流行っていたと聞いたことがあります。 また、Ｒｕｂｙに次ぐ注目の言語などがあれば合わせておしらせいただけますと幸いです。 宜しくお願いします。
RubyでWEBAPIをたたこうとおもい リファレンスから require 'net/http' Net::HTTP.version_1_2 # おまじない Net::HTTP.start('www.example.com', 80) {|http| response = http.get('/index.html') puts response.body } という記述を利用してヤフーのページを取得しようと 動かしたところまったく動作しなかったのでだめもとで例外をとってみたら begin Net::HTTP.version_1_2() # おまじない Net::HTTP.start("http://yahoo.co.jp", 80) {|http| response = http.get("/index.html"); puts response.body } rescue => ex print ex.class; print "<hr />"; print ex.message; print "<hr />"; print ex.backtrace; end SocketErrorgetaddrinfo: 記憶域制御ブロックが壊れています。 C:/ruby/lib/ruby/1.8/Net/HTTP.rb:560:in `initialize'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:560:in `open'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:560:in `connect'C:/ruby/lib/ruby/1.8/timeout.rb:53:in `timeout'C:/ruby/lib/ruby/1.8/timeout.rb:101:in `timeout'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:560:in `connect'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:553:in `do_start'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:542:in `start'C:/ruby/lib/ruby/1.8/Net/HTTP.rb:440:in `start'C:/Apache/htdocs/tokui12.rb:11 上記のような例外が取れました。 これは、Rubyの際インストールが必要なのでしょうか？ リファレンスまんまを利用しているので記述間違いとかはないと思うのですが・・・ システム的な問題？と思いPHPでたたいたところ PHPであれば普通にAPIはたたけました。 対処策はどうしたらいいのでしょうか？
Rubyで、クラス定義の際の質問です。 通常 cattle= Class.new(); で引数がデフォルトの場合は、Objectクラスのサブクラス生成すると 公式のリファレンスに記述があります。 調べてみると上記コードの場合は,cattleという無名クラスと呼ばれるものになるそうです。 この無名クラスとはYUGUIさんのサイトにある http://yugui.jp/images/uploaded/20084013-metaclass.png 右端の列にあるメタクラスと呼ばれるものになるのでしょうか？ (無名クラス　と　メタクラスは同義？？） また上記URLの画像からメタクラスはClassクラスのインスタンスであるようです。 ただClass.newで実行される　newというクラスメソッドってサブクラスを生成すると いうふうにリファレンスにありますがレシーバであるClassクラスのインスタンスを 返すという記述はありません。 ただ、おそらくメタクラスというのはClassクラスのインスタンスなのだとは思いますが、 この理由はなぜなのでしょうか？ もう一点、ｐ　Cattle.class()；と記述すると Classクラスが返ると思います。これはCattleクラスのClassクラスのインスタンスである ということになるのでしょうか？ しかしながらYUGUIさんの画像ではCattleはメタクラスのインスタンスとなっています。 であれば、メタクラスを意味するのでしょうか？ 公式リファレンスには、上記に書いたような関係はRubyを扱う際には特に問題ではないとありますが、気になっています。
表題の通りで、Windowsのrubyでコマンドプロンプト から簡単なプログラムを書いて、 最後に勝手に閉じてしまうと思うのですが、 標準入力を待つ、又は何か入力が有れば終了させるのは、 どう書いたら良いのでしょうか？ 初歩的な質問で申し訳ありません。 perlだと、 <>; exit; でＯＫと思いますが、 rubyの場合は？？宜しくお願い致します。
rails2、mySQLです。 モデルにバリデーションを書くのは知っているのですが 特定のコントローラのメソッドでのみバリデーションしたいとき どうすればよいのでしょう。 Userモデルに書いた場合 class User < ActiveRecord::Base 　validates_format_of :email_address, :with => /[a-zA-Z0-9_-]+\@[a-zA-Z0-9_-]+\.\w+/, :allow_blank => true, :message => "有効なEメールアドレスではないようです。" 　validates_uniqueness_of :email_address, :allow_blank => true, :allow_nil => true, :message => "このアドレスは既に使用されています。" end class UserController < ApplicationController 　def email_conf 　　self.index 　　　u = User.find :first, :conditions=>["user_name = ?",@user_name ] 　　unless u 　　　u = User.new(:user_name => @user_name) 　　end 　　u["email_address"] = params[:email_address] 　　if u.valid? 　　　u.save 　　　render :text => '<div>thank you!</div>' 　　else 　　　render :text => "#{u.errors[:email_address]}" 　　end 　end end これだとほかのアクションの場合もバリデーションを行えばこのパターンのみになりますよね。 userコントローラの　email_conf　でデータ登録するときのみ、このバリデーションをしたいのですが。。
Rubyのインスタンス生成について質問があります。 通常クラスを定義する場合は class Hoge ; def hello(); pirnt "hello"; end であると思います。 ただ Hoge = Class.new(); でもクラスは定義できるとききました。 ただこの場合Hogeクラスに定義できるのは　HogeというClassクラスから作られた特異クラスとしてのHogeに 特異メソッドのみを定義できるということですよね？ 通常のインスタンスメソッドは定義できませんよね？ ではでは、　hoge　= Class.new(); とした場合はどうなるのでしょうか？ この場合は　Classクラスの純粋なインスタンスとなるのでしょうか？ 前者の定義とおなじ仕方ですが代入先が、通常の変数です。 この場合は、クラスオブジェクトとして生成されるのですか？ オンラインマニュアルをみたところ 「新しく名前の付いていない superclass のサブクラスを生成します。 superclass が省略された時にはObject のサブクラスを生成します。 名前のないクラスは、最初に名前を求める際に代入されている定数名を検索し、見つかった定数名をクラス名とします。」 とあります。 上記内容は　Classクラスの特異クラスとして定義されている特異メソッド(new)です。 これは Class.new()で作られたインスタンスを代入する先が定数であればその定数名と同じクラスを定義しつつそのClassクラスのクラスオブジェクトを生成するという意味合いでまちがいないでしょうか？ 上記のとおりであれば hoge　=Class.new()の場合は、やはりhogeというクラスを定義することになるのでしょうか？ クラス定義は定数でなければならないはずですよね。 ただ実際、 p hoge;として出力すると＃とひょうじされています。これはhogeがクラスオブジェクトではなく ただのインスタンスであるということでしょうか？ であるならばこの　hoge　= Class.new()の式のnewはClassクラスオブジェクトに定義された特異メソッドではなく Classクラスに定義されたnewメソッド・・・・・つまりClassクラスに定義されたインスタンスメソッドの方のnewメソッドだとおもうのですが・・・・・・。 つまりこちらのメソッドですね。 「new( ... ) クラスのインスタンスを生成して返します。このメソッドの引数はブロック引数も含め initialize に渡されます。」 ※オンラインリファレンスから参照しました。 しかし 通常メソッドの検索は特異メソッドからはじまりその後クラスのインスタンスメソッド->親クラスのメソッドと 検索して行くとあります。 必ず先に、特異メソッドを実行しているはずだと思うのですが・・・。 やはり特異メソッドnewを実行しているのでしょうか？ 長々すみませんが、ご教授ください。
Rubyのクラスの継承関係について質問です。 RubyではすべてのクラスはObjectクラスが親クラスとなっていると思います。 そこで p File.class； と記述して実行すると FileクラスがClassクラスとして表示されます。 FileはFileクラスのはずなのになぜClassクラスなのでしょうか？ そして最上位のクラスであるObjectクラスも p Object.class; とすると Classクラスと出力されてしまいます。 なぜなのでしょうか？？？ p Class.class; と記述するとClassクラスと出力されました。 もうわけがわかりません。 どなたかご教授ください。お願いします。本気でド壷中です。
下記の内容のruby を実行したのですが、エラーが出てしまいます。 ---- require 'net/http' req = Net::HTTP::Get.new('/') Net::http.start('twitter.com') do |http| res = http.request(req) print res.body end ---- エラーメッセージ undefined method `http' for Net:Module (NoMethodError) ruby はver 1.8.7, 環境はMacOSX10.6.8です。 原因をご存知の方がいらっしゃいましたら、教えていただけないでしょうか？ よろしくお願い致します。
１．将来チャンスがあればプログラマーとして独立したいのですが、そのような場合、どの言語が良いのでしょうか？ javaは個人で出来るような仕事があまりないと聞きましたので、PHP、ruby、ｊavascriptなどがよいのでしょ うか？ また、独立の場合は一般の就職と違い、年齢の問題はないと考えてよろしいでしょうか？ 2. 動的言語が伸びる事を考えると、せっかく今から勉強するならrubyの方がPHPより良いのですかね ただ将来の独立を考えると、PHPの方が、個人の仕事は多いのでしょうか？ 難しい パイソンは素晴らしいようですが日本ではあまり参考書などがなくrubyより初心者には難しいと聞きました Javaでのスマホのアプリ開発も個人の依頼があったり、このような仕事を個人でやっている方もいるのですかね ただアイデアがいつも思いつかないと難しそうですね WEBプログラマーとして独立するのであれば、HTML、CSSも自分で打てないと難しいでしょうか？ ドリームウイーバーが使えれば大丈夫でしょうか？
検索結果で表示されたリストを、並べ替えができるようにしたいです。 現在はリンク先をクリックしても、実装できていません。 どこのコードがおかしいのかご教授いただければ幸いですm(_ _)m ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <%= link_to "安い順", :action => 'low' %> <%= link_to "高い順", :action => 'high' %> <% @products.each do |product| %> 商品名<%= product.code %> 金額<%= product.price %> <% end %> ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ controller.rb ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ def check @product = Product.all 　 render :action => 'check' end def low @products = Product.find(:all, :order => "price ASC") render :action => 'check' end def high @products = Product.find(:all, :order => "price DESC") render :action => 'check' end ご教授よろしくお願い致します。
絞り込み条件で、メーカーやカテゴリを選択してから 金額指定があれば、金額指定も含めて検索結果を実装する事はできますか？ またボタンは1個にする形にしたいです。 よろしくお願い致しますm(_ _)m 絞込み検索内容 ＝＝＝＝＝＝＝＝＝＝ ・メーカー　（チェックボックス式） ・カテゴリ　（チェックボックス式） ・金額指定 ＝＝＝＝＝＝＝＝＝＝ ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views: ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <p>条件検索(複数選択可)</p> <%= form_tag ({:controller => :products, :action => :check }), {:method => :get} do %> <p>メーカーから探す</p> <% Maker.all.each do |maker|%> <%= check_box_tag "maker_id[]", maker.id, (params[:maker_id].include?(maker.id.to_s) if params[:maker_id]) %> <%= maker.maker_name %><br /> <% end %> <p>カテゴリから探す</p> <% Category.all.each do |c| %> <%= check_box_tag "category_id[]", c.id, (params[:category_id].include?(c.id.to_s) if params[:category_id]) %> <%= c.name %><br /> <% end %><br /> <%= submit_tag "検索"%>　＃このボタンを外してひとつのボタンにしたいです。 <% end %> <p>金額を指定して絞り込む</p> <%= form_tag ({:controller => :products, :action => :search_price }), {:method => :post} do %> 　<%= text_field_tag "price1",(params[:price1] if params[:price1]) %> ～　 　<%= text_field_tag "price2",(params[:price2] if params[:price2]) %> <%= submit_tag "検索"%> <% end %> ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ products_controller.rb ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ def check @product = Product.all if params[:maker_id] && params[:category_id]　　 # 両方選択された場合 @products = Product.where(:category_id => params[:category_id], :maker_id => params[:maker_id] ) elsif params[:maker_id] 　　#makerが選択された場合 @products = Product.where(:maker_id => params[:maker_id]) if params[:maker_id] elsif params[:category_id] 　 #カテゴリが選択された場合 @products = Product.where(:category_id => params[:category_id]) if params[:category_id] elsif params[:maker_id] == nil && params[:category_id] == nil 　 #両方ともチェックがなかった場合 @products = Product.all end render :action => 'check' end def search_price @products = Product.where('price >=? AND price <=?', params[:price1],params[:price2]) @products = Product.where('price >=?', params[:price1]) if params[:price2].blank? @products = Product.where('price <=?', params[:price2]) if params[:price1].blank? render :action => 'index' end ややこしくてすみません^^; どうぞよろしくお願い致します。
ご教授いただければ幸いです。 ==================================== carts/index　→　carts/deliveryへリンクしたい =================================== button_toを使うとちゃんと動きますが <%= button_to "購入する" , :controller => 'carts', :action => 'delivery' %> 画像に替えると上手く動きません。 <%= link_to (image_tag ("/images/cart_next.png"),:size=>"180x40")),'/delivery',{:method => :post}) %> link_toやbutton_toを使用して画像にリンクを貼る方法はございますでしょうか？ =================================== carts/controller.rb =================================== def index @cart = find_cart end# def find_cart session[:cart] ||= Cart.new end def delivery @cart = find_cart @addressee = Addressee.new() end
何件か前の質問の中で階乗の計算例として以下が挙げられておりました。 def factorial(n) eval( [*(1..n)].join("*") ) end irb(main):001:0> eval([*(1..5)].join("*")) => 120 irb(main):002:0> [*(1..5)].join("*") => "1*2*3*4*5" irb(main):003:0> [*(1..5)] => [1, 2, 3, 4, 5] irb(main):004:0> *(1..5) SyntaxError: (irb):4: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.' from D:/Ruby192/bin/irb.bat:19:in `<main>' irb(main):005:0> (1..5) => 1..5 irb(main):006:0> (1..5).class => Range この中の*(1..5)という表記の意味がよくわからず、マニュアルから該当箇所を探すことができませんでした。 http://doc.ruby-lang.org/ja/1.9.2/doc/index.html この機能についてのご説明とマニュアルの何処に記載されているかをご教示いただけると幸いです。 よろしくお願いします。
こんにちは、Mac OS10.6.8 を使用しています。 Ruby on Rails を勉強したく、環境構築にとりかかっていますが、準備することが良く分からず参考書を探していますが、書店ではWindows版の参考書が多く Mac版で良いものがないかと探しています。 Web初心者、プログラミング初心者にとっても解りやすい参考書を教えていただけないでしょうか？ 開発環境の構築から教えてくれるようなものが欲しいです。 現状は、MacPortを使ってRubyをインストールしました。バージョンは1.8.7です。 railsは入っていたのですが、アップデートしました。　バージョンは3.0.9です。 Windows版の参考書だと、この後、Instant Railsをインストールして統合開発環境のRadRailsをインストールするように書かれていました。 Macだと何をどう用意して開発していくのか、まずそこでつまずいてしまっています。 Macでの開発環境の準備の仕方から書かれている初心者向けの参考書があればベストなのですが、どなたか分かる方いたら教えていただけないでしょうか？ お願いいたします。
rails3を勉強中です。 ご教授いただけば幸いです。 実装したい事： DBに登録してあるproductsの一覧から金額を指定して絞り込み検索をしたい 解決してない事： indexに検索結果が表示されません。 コードの書き方をご教授いただければ幸いです。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views: ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <%= form_tag ({:controller => :products, :action => :search_price }), {:method => :post} do %> 価格指定 <%= text_field_tag "price1" %> ～　 <%= text_field_tag "price2" %> <%= submit_tag "検索"%> <% end %> ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ products_controller.rb ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ def search_price @products = Product.all @product = Product.new @products.each do |product| item = product.price >= params[:price1].to_i && product.price <= params[:price2].to_i if item @product = product end end render :action => 'index' end ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views/products/index.html ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <% @products.each do |product| %> <%= product.name %> <%= product.price %> <% end %>
Ｒｕｂｙのプログラムからペイントを起動したいのですが・・・ どういった手法が考えられますか？
# encoding: Shift_JIS =begin Filename: db.xml Contents: <?xml version="1.0" encoding="Shift-JIS"?> <Root Text="frog256"> <Customer Text="顧客名001"> <Business Text="業務名001" /> <Business Text="業務名002" /> <Business Text="業務名003" /> <Business Text="業務名004" /> <Business Text="業務名005" /> <Business Text="業務名006" /> <Business Text="業務名007" /> </Customer> </Root> =end require "rexml/document" oDoc = REXML::Document.new(File.open("db.xml")) oDoc.elements.each("/Root/Customer/Business") do |element| p element.attributes["Text"] end 上記のようなコードで実行すると、出力が、 "\u696D\u52D9\u540D001" "\u696D\u52D9\u540D002" "\u696D\u52D9\u540D003" "\u696D\u52D9\u540D004" "\u696D\u52D9\u540D005" "\u696D\u52D9\u540D006" "\u696D\u52D9\u540D007" このようになってしまいます。 普通に日本語で出力するには、どうしたらよいでしょうか？ よろしくお願いします。
Rubyのプログラムについて、宜しければ教えてください。 def fct(n, f=1) if n<=1 then f else fct(n-1, n*f) end end def factorial(n) (1..n).inject{|x,y| x*y} end def factorial(n) eval( [*(1..n)].join("*") ) end このプログラムが、階乗を計算するメソッドになっているみたいなのですが、なぜコレだけで階乗が計算できるのでしょうか？ 宜しければ教えてください＞＜
rubyでgnuplotを動かすプログラムを作ろうと考えております。 system ('C:/Users/owner/Desktop/gnuplot/binary/gnuplot.exe'） でgnuplotを起動することはできましたが、コマンドを実行するにはどうしたらよいでしょうか？ とりあえず　 plot sin(x) あたりをプロットしたいです。。。
rails3を勉強中です。 お詳しい方、ご教授いただけたら嬉しいです。 実装したい内容 プルボンタンで年齢「20」が選ばれた場合、 その結果を出力する（非モデル） ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views:presons/index.html ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <%= form_tag :action => :age do %> <%= select("form","age", (1..100))%> <%= submit_tag "表示する"%> <% end %> ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ presons_controller.rb ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ def index @preson = Preson.new end def age @preson = params[:form][:age] redirect_to :action => 'index' end ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ views:presons/index.htmlで選択された 「20」を表示したいのですが、 そのコードの書き方をご教授ください。 どうぞよろしくお願い致します。
redirect_to先のviewで、redirect_to元のデータで何の処理を行ったか目視したいので 簡単に内容を表示させたいのですが リダイレクト元のコントローラの変数を、リダイレクト先のviewに渡すにはどうしたらいいのでしょうか。 --api_controller.rb class ApiController < ApplicationController 　def foo 　　arr = [1,2,3,4] 　　#arrをいろいろと処理 　　redirect_to :controller => "top", :action => "bar" 　end end --top_controller.rb class topController < ApplicationController 　def bar 　　#ここで@arr = arrしたい 　end end top/bar.html.erbもしくはbarコントローラでarrを受け取ることは可能ですか？
ruby 1.8.7 (2010-08-16 patchlevel 302) mysql2.11.10 を使っています。 delete_allで、条件を指定したいのですがうまくいかずハマっています。 arr_s　と丸括弧の間にシングルコーテーションが入ってしまってdeleteできない状態です。 （ハッシュで条件指定したSearchはきちんと削除されています。） 間違いがお分かりになる方、どうか教えてください。。。 ※arr で対象のidを取ってきて、それをすべてカンマ区切りで arr_s に入れて関連テーブルの削除キーとして使っていますが （has_manyを使いたくないので）ほかに素敵な処理の方法があれば参考に知りたいです。。 #search_attr_hash = {:search_data=>"あ", :search_type=>"0"} def clear_db(search_attr_hash) 　case search_attr_hash[:search_type].to_i 　　when 1..3 　　logger.info "1...3" 　　s = Data.find :all,:select => ["id"], 　　　　　　　　　　:conditions=>["from_user = ?",search_attr_hash[:search_word] ] 　　when 0 || 4 　　logger.info "0 or 4" 　　s = Data.find :all, :select => ["id"], 　　　　　　　　　　:conditions=>["text like ?", "%"+search_attr_hash[:search_word]+"%" ] 　end 　arr = [] 　s.each{|k| 　arr.push k["id"] if k != blank? 　} 　arr_s = arr.join(",") 　logger.info arr_s #=>3,4,5,6 　DataUrl.delete_all["data_id in (?)", arr_s ] 　#=>DELETE FROM `data_urls` WHERE (data_id in ('3,4,5,6')) 　DataTag.delete_all["data_id in (?)", arr_s ] 　#=>DELETE FROM `data_tags` WHERE (data_id in ('3,4,5,6')) 　DataRelation.delete_all["data_id in (?)", arr_s ] 　#=>DELETE FROM `data_relations` WHERE (data_id in ('3,4,5,6')) 　Search.delete_all["search_type = ? AND search_word = ?",search_attr_hash[:search_type], search_attr_hash[:search_word]] 　#=>DELETE FROM `searches` WHERE (search_type = '0' AND search_word = 'あ') 　Data.delete_all["id in (?)", arr_s ] 　#=>DELETE FROM `twits` WHERE (id in ('3,4,5,6')) 　return arr.count #=>4 end
Rubyで一行チャットを作っておるのですが、 どうしてもリロードする毎にnilが画面に出てしまいます。 どうすれば、消えるのか教えてもらいませんか? cgiのコード #!/usr/local/bin/ruby print "Content-type: text/html\n\n" #html入力フォーム print <<EOF; <html> <body> <h4>チャットだお(´・ω・`)</h4> <form method="POST"> nameフォーム<input type="text" name="senddata2" size="20"><br> 本文フォーム<input type="text" name="senddata" size="80"> <input type="submit" value="送信"> </form> EOF #data.logを表示 log = "" FILENAME = "data.log" fh = open(FILENAME) fh.each{|l| log += l } fh.close print <<EOF; #{log} EOF #data.logに書き込み&リロード require "cgi-lib" input = CGI.new senddata2 = input["senddata2"] senddata = input["senddata"] fh = open(FILENAME, "a") fh.print senddata2 fh.print "> "+senddata+"<br>" fh.close print <<EOF; <meta http-equiv="refresh" content="0"> </body> </html> EOF 動かしているURL http://shu.hippy.jp/test.cgi
def k(i) s=0 i.step(20,5) do |a| s+=a end s end print k(3) これはどのように計算したらいいのでしょうか？
for文を用いる s=1+2+5+10+17...+50 s=0;i=1;j=1 for i in 1..100 s+=1 i+=j if i>50 break end j+=2 end puts s この問題の意味がよくわかりません。。 よかったら説明してくれると助かります。。 j+=2 ここはなんで２なんしょうか？ 特にここのところはなんでこうなっているんですか？ iとかjとかを使っている意味がわかりません。。
Rubyで余りの計算をすると (-12977 % 60) + 1 =44 ちなみにVBAでは (-12977 mod 60) +1 =18 になるのはなぜでしょうか。 Rubyの方の演算のが正しいと思うのですが、 VBAはなぜ間違えた演算をしてしまうのか検証できる方はいらっしゃいませんか。
初心者の質問ですいません。 htmlが使い慣れてきたので、次はWebアプリケーションを開発してみようとしています。 しかし、プログラムは出来たんですが、Webページ上でどう動かせるか全く分かりません。 僕は、C++等は元々使い慣れており、プログラミングには自身があるのですが、サーバーの事になるとどうなっているのやら？ Rubyをサーバー上で動かすのにはどうしたいいのでしょうか？ 回答お願いします。 ちなみに使っているサーバーは、「ラクーカン」です。
10～50までの素数が格納されている配列を rubyで作りたいのですが、どのようにすればいいいのかよくわかりません。 下のプログラムにも間違いがあるかもしれませんので もしありましたご指摘お願い致します。 for i=start i<=end i++;//iは割られる数 for(j=1;j<=i;j++){//jは割る数 if(i%j==0){ count++; } } if(count==2){ System.out.println(i); } iをjで割っていき、余りが0になったらカウントを増やしていくプログラムです。 素数は1とその数字でしか割れないので、カウントは2になり、 それを配列に格納したいのですが、ここではただ表示するだけに留まってしまっています。 まだruby初心者で分からないことだらけですので、 簡単な方法ではなく、出来ればfor文を使用したやり方で教えていただけると 幸いです。 よろしくお願い致します。
awkで以下のように文字列置換したいのですが、変数strA内で¥マークを使用すると正常に置換してくれません。どのようにエスケープすれば良いのでしょうか？ ================================================= --実行コマンド---------- gawk -f CNV.awk input.txt --input.txt---------------- いぬ¥ねこ --CNV.awk---------------- strA="ぬ¥ね"; strB="★"; gsub(strA, strB, $0); print $0; ================================================= このとき、「い★こ」という結果を期待しているのですが出力がありません。 また、 strA="ぬ¥¥ね"; や strA='ぬ¥ね'; と指定しても同様にダメでした。 どなたか解決策をご存知でしたらご教授宜しくお願い致します。
<table border="1"> <tr> <td>開始時間</td> </tr> <% @studylogheader.studylogdetails.order('starttime').each do |studylogdetail| %> <tr> <td> <%= time_select :studylogdetail, :starttime, { :time_separator => ':' } %> </td> </tr> <% end %> </table> 上記のような ERB で :starttime の値が初期表示されないのですが、 time_select は、初期表示できないのでしょうか？
{"utf8"=>"✓", "authenticity_token"=>"bqoR9tW+GGskvv4MRTtd1OikjwPKLeACkl7S/Pv55jE=", "studylogheader"=>{"studydate"=>"2011-06-07", "member_id"=>"902806575", "comment_member"=>"頑張ったけど、だめだった。もうしんどい。", "comment_staff"=>"comment_staff01", "comment_parent"=>"comment_parent01"}, "studylogdetails"=>[{"starttime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"11", "(5i)"=>"00"}, "endtime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"12", "(5i)"=>"00"}, "place"=>"totto", "studycontent"=>"aaaaa"}, {"place"=>"totto", "studycontent"=>"aaaaa", "starttime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"12", "(5i)"=>"00"}, "endtime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"13", "(5i)"=>"00"}}, {"place"=>"totto", "studycontent"=>"aaaaa", "starttime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}, "endtime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}}, {"place"=>"totto", "studycontent"=>"aaaaa", "starttime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}, "endtime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}}, {"place"=>"totto", "studycontent"=>"aaaaa", "starttime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}, "endtime"=>{"(1i)"=>"2011", "(2i)"=>"6", "(3i)"=>"17", "(4i)"=>"07", "(5i)"=>"47"}}, {"place"=>"totto", "studycontent"=>"aaaaa"}], "commit"=>"Save changes"} 上記のような params です。 01: index = 0 02: params[:studylogdetails].map { |hash| 03: studylogdetails[index].starttime = 04: Time.new( 05: hash[:starttime]["(1i)"].to_i, 06: hash[:starttime]["(2i)"].to_i, 07: hash[:starttime]["(3i)"].to_i, 08: hash[:starttime]["(4i)"].to_i, 09: hash[:starttime]["(5i)"].to_i, 0) 10: ......<中略> 11: studylogdetails[index].save 12: index = index + 1 13: } このようなコードで、行05 で以下のようなエラーになります。 You have a nil object when you didn't expect it! You might have expected an instance of ActiveRecord::Base. The error occurred while evaluating nil.[] どなたかわかる方、お願いします。
{"utf8"=>"✓", "authenticity_token"=>"V1liFxz8G95TNBlfLobNOKaV5AjtojxTWYFXLuv/XkU=", "studydate"=>{"studydate(1i)"=>"2011", "studydate(2i)"=>"6", "studydate(3i)"=>"15"}, "member_id"=>["94718113"], "commit"=>"Save changes", "controller"=>"tottoweb", "action"=>"selectstudylog"} このような params の studydate から Date 型の値を取得したいのですが、 どうすればよいのでしょうか？ studydate = 　Date.new( 　　params['studydate(1i)'].to_i, 　　params['studydate(2i)'].to_i, 　　params['studydate(3i)'].to_i) このように記述したのですが、 invalid date となってしまいます。
{"utf8"=>"✓", "authenticity_token"=>"PJzalm4QwBv3vj51Hgs/wJTorA1X7fsCntivSAo4d6g=", "studylogheader"=>{"studydate(1i)"=>"2011", "studydate(2i)"=>"6", "studydate(3i)"=>"7", "member_id"=>"902806575", "starttime"=>"1000", "endtime"=>"1600", "comment_member"=>"comment_member1", "comment_staff"=>"comment_staff", "comment_parent"=>"comment_parent", "staff_id"=>"679619944", "delete_flag"=>"0"}, "studylogdetails"=>[{"starttime"=>"1300", "endtime"=>"1400", "place"=>"totto", "studycontent"=>"aaaaa"}, {"starttime"=>"1200", "endtime"=>"1300", "place"=>"totto", "studycontent"=>"aaaaa"}, {"starttime"=>"1100", "endtime"=>"1200", "place"=>"totto", "studycontent"=>"aaaaa"}, {"starttime"=>"1500", "endtime"=>"1600", "place"=>"totto", "studycontent"=>"aaaaa"}, {"starttime"=>"1000", "endtime"=>"1100", "place"=>"totto", "studycontent"=>"aaaaa"}, {"starttime"=>"1400", "endtime"=>"1500", "place"=>"totto", "studycontent"=>"aaaaa"}], "commit"=>"Save changes"} このような params から、 01: @studylogheader = Studylogheader.new(params[:studylogheader]) 02: @studylogheader.studylogdetails = Array.new(Studylogdetail.new(params[:studylogdetails])) このように構造体を取得したいのです。 この 02 のところでエラーになってしまいます。 エラーは、 can't convert Studylogdetail into Integer です。わかる方書き込みお願いします。
<%= form_for(@studylogheader) do |f| %> <div class="field"> <%= f.label :member %><br /> <%= f.collection_select( :member, Member.all, :id, :username ) %> </div> <div class="actions"> <%= submit_tag %> </div> <% end %> このようなコードで、@studylogheader のmember の値が表示されず困っています。 @studylogheader は、学習記録を保持するオブジェクトで、学習記録には、 学習者（member）を持っています。 上記のコードで画面表示したときに学習記録の学習者ではなく、一番上の 項目が選択された状態になってしまいます。 学習記録に保持されている学習者を選択肢の中から選んで表示するには、 どうしたらよいのでしょうか？
継承を用いて、次のクラスを表し、出力したいのですが、出力の仕方が良く分かりません。 classの作成まで自分でやったのですが(合っているかは分かりません。間違っていたら教えていただけると幸いです。)、その後、どう出力すればいいのでしょうか。 この問題のの趣旨としては以下のような感じです。 ）継承を用いて、次のクラスを表したい。 人を大きく分けてアジア人、アフリカ人、ヨーロッパ人に分けるとします。 人を親のクラスとし、アジア人、アフリカ人、ヨーロッパ人を子のクラスとします。 人(親クラス)の大陸をcontinentで表し、 アジア人、アフリカ人、ヨーロッパ人の特徴はこれにskincolorを加えたものとします。 人、アジア人、アフリカ人、ヨーロッパ人のクラスを作成します。 この時、これらの特徴にアクセスするためのメソッドも合わせて定義し、 これらも継承関係が維持されるようにします。 最後に結果を出力したいのですがそこが分かりません。 自分で作成したクラスは以下のようです。 irb(main):001:0> class People irb(main):002:1> def initialize(continent) irb(main):003:2> @conti=continent irb(main):004:2> end irb(main):005:1> def get_conti irb(main):006:2> @conti irb(main):007:2> end irb(main):008:1> end => nil irb(main):009:0> class Asian < People irb(main):010:1> def initialize() irb(main):011:2> super(asia) irb(main):012:2> @yellow=color irb(main):013:2> end irb(main):014:1> def get_conti irb(main):015:2> @conti irb(main):016:2> end irb(main):017:1> def get_color irb(main):018:2> @yellow irb(main):019:2> end irb(main):020:1> end => nil irb(main):021:0> class African < People irb(main):022:1> def initialize() irb(main):023:2> super(africa) irb(main):024:2> @black=color irb(main):025:2> end irb(main):026:1> def get_conti irb(main):027:2> @conti irb(main):028:2> end irb(main):029:1> def get_color irb(main):030:2> @black irb(main):031:2> end irb(main):032:1> end => nil irb(main):033:0> class European < People irb(main):034:1> def initialize() irb(main):035:2> super(europa) irb(main):036:2> @white=color irb(main):037:2> end irb(main):038:1> def get_conti irb(main):039:2> @conti irb(main):040:2> end irb(main):042:1> def get_color irb(main):043:2> @white irb(main):044:2> end irb(main):045:1> end => nil ご教授お願い致します。
当方Macとプログラミング初心者です。 ２ヶ月くらい前からうちのMac（Core i5 2.4GHz、10.6.7）にStarRubyをインストールしようと奮戦しているのですが、まったくうまくいきません。 ライブラリ等はMacPortsを利用しインストールしたのですが、extconf.rbを実行し、makeした所でエラーが出ます。 $ ruby extconf.rb checking for png.h... yes checking for zlib.h... yes checking for Mix_OpenAudio() in -lSDL_mixer... yes checking for TTF_Init() in -lSDL_ttf... yes checking for fontconfig/fontconfig.h... yes checking for FcInit() in -lfontconfig... yes checking for main() in -lGL... yes creating Makefile $ make /usr/bin/gcc-4.2 -I. -I. -I/opt/local/lib/ruby/1.8/i686-darwin10 -I. -DHAVE_PNG_H -DHAVE_ZLIB_H -DHAVE_FONTCONFIG_FONTCONFIG_H -I/opt/local/include -D_XOPEN_SOURCE -D_DARWIN_C_SOURCE -I/opt/local/include -fno-common -pipe -O2 -arch x86_64 -fno-common -pipe -fno-common -I/opt/local/include/libpng14 -I/opt/local/include/SDL -D_GNU_SOURCE=1 -D_THREAD_SAFE -I/opt/local/include -finline-functions -Wall -W -Wpointer-arith -Wunused-parameter -pedantic -std=c99 -funit-at-a-time -arch x86_64 -c ./src/texture.c ./src/texture.c: In function ‘Texture_s_load’: ./src/texture.c:326: warning: implicit declaration of function ‘png_set_gray_1_2_4_to_8’ ./src/texture.c:329: warning: ‘num_palette’ is deprecated (declared at /opt/local/include/png.h:660) ./src/texture.c:331: warning: ‘palette’ is deprecated (declared at /opt/local/include/png.h:658) ./src/texture.c:332: warning: ‘num_trans’ is deprecated (declared at /opt/local/include/png.h:662) ./src/texture.c:333: error: ‘png_info’ has no member named ‘trans’ ./src/texture.c:334: warning: ‘num_palette’ is deprecated (declared at /opt/local/include/png.h:660) make: *** [texture.o] Error 1 libpngが怪しそうなのですが、何ぶん知識が浅いのでさっぱりです。 環境変数の設定はしてあります。 一体何がいけないのでしょう。こちらの環境に依るものなのでしょうか。 回答宜しくお願いします。
NKF.guessで文字コードを判別し、そのコードがWindows-31J以外だったら エラーが出るようにしたいです Shift-JISの場合だと if(NKF.guess（str） == NKF::SJIS) この様に記述をして判別させています SJISの部分をCP932に変えて試してみましたが駄目でした 宜しくお願いします
最近、仕事でRailsを使って仕事をしています。 そこで、疑問点が出てきたので、ちょっとお聞きしたいと思います。 Userというテーブルがあり、それを検索するとします。 User.find(:all, :conditions => '...', :order => '...') User.new.find(:all, :conditions => '...', :order => '...') どちらでも同じように検索できるのですが、これはプログラムの内部的にどういう違いがあるのでしょうか？ ・上はActiveRecordを使って直接DBを読みに行っている。 ・下は一旦オブジェクトとして生成して、そこにActiveRecordでSQLを飛ばしてる。 そんな感じかと漠然と思ってますが、違うのでしょうか？ パフォーマンス的なことも知りたいと思っています。 よろしくお願いします。
同じrubyスクリプトを、MacOSとWindowsで動かしたいと思っています。 日本語が正常に表示されないのでいろいろやっていく内に、解せないことがあります。 MacOS上で puts($KCODE) puts("テスト") という２行のファイルを、UTF-8、及び S_JISで保存してそれぞれ -Ku -Ks オプションをつけて実行させてみると、S_JISの方は正しく表示されません。 ＄KCODEの値は正しく SJIS になっていました。 Windwsで同じファイルを走らせると、S_JISの方は正しく表示されますが、UTF-8 の方が正しく表示されません。 rubyのバージョンは1.8.7、エディタは mi を使用しました。 なにか勘違いしてるのでしょうか？
プログラム初心者です。rubyのテキストエディッタとしてsciteを使用しています。 プログラムを実行する際、F5を押せばスクリプト全体が実行されるのですが、マウスで選択した部分だけを実行する手段を探しております。どなたかご存じないでしょうか。 理想としてはマウスでスクリプト選択→右クリック→実行、としたいのですが
プログラミング初心者です。参考書のソースコードをそのままコピペして実行したのですが、エラーが出てしまいます。どこが間違っているのかご指摘いただけると助かります。 ソースコード #encoding: cp932 #　うるう年かどうかによって時間数は変わります puts 24*365 puts " (#{24*366}になる場合もある) " 実行結果 >ruby calc.rb calc.rb:4: invalid multibyte char (Windows-31J) calc.rb:4: syntax error, unexpected tIDENTIFIER, expecting $end puts "(#{24*366}になる場合もある)" ^ >Exit code: 1 パソコンOS　Windows7 rubyのバージョン　1.92
rubyについての質問です。 参考書に従ってrubyをインストールし、 「デスクトップにて右クリックし、新規作成、続いてRubyProgramを選択し、.rbの拡張子のファイルを作成」 とあったのでその手順に従ったのですが、新規作成の一覧にRubyProgramは見当たりませんでした。なにか特殊な設定をしなければ出てこないのでしょうか？ よろしければご教授お願いいたします パソコンの環境 OS : Windows7 professional Rubyのバージョン ruby 1.8.7-p334
こんにちは、Ruby初学者です。 以下の問題が解けずに困っています。「protectedが、メソッドをクラス内部から使えるようにする。また、同一クラス内ではインスタンスメソッドとしても使えるようにする。」という教科書的な内容は理解しているつもりでプログラムを書くのですが、どうも上手くいきません。 ヒントだけでも構いませんので、諸兄姉の知識をお貸しいただければ幸いです。 「protectedと宣言されたメソッドは、そのメソッドが定義されているクラスのサブクラスで定義されているメソッドから、メッセージの送信元とは異なるオブジェクトに対しても呼び出せることを確認するプログラムを作成し、結果を説明せよ。」 よろしくおねがいいたします。
railsの勉強のために他人のコードが観たいのですが どうすれば観れますか？ 今の自分のレベルは、基礎レベルまで理解して自分で簡単なrailsアプリを作るぐらいの感じです。 基礎までは理解したけど、そのちょっと先がわからない感じで 他の人の作成したコードを観たいです。
rubyのプログラムで例えば -------------------------- t=0.00 100.times do t += 0.01 print t, "\n" end -------------------------- のようなプログラムを実行したとき 0.01 0.02 0.03 ......... 0.80 0.81 0.820000000000001 0.830000000000001 ......... 0.990000000000001 1.0 と出力されたのですが、00000000000001の部分を正常に出力するにはどうすればいいのでしょうか？また、このように出力されることが丸め誤差なのでしょうか？ どなたか教えてください。
rubyでn進数（16進数以上）の文字列を扱いたいです。 例えば、３６進数で４桁を数値を、0～1679616(36^4)通り順に 表示したいです。 ３６進数を表す文字は、('a'..'z').to_a + ('0'..'9').to_aの様に定義したいと思います。 0～36^4へとインクリメントしつつ、その値を上記で定義した文字を使った 文字列へと変換していけば良いとは、思うのですが、うまいこと書けませんでした。 ご教授の程、よろしくお願いいたします。　
Rubyで、 「\u3053\u3093\u306B\u3061\u306F 」のようなエンコーディングされた文字を、 「あいうえお」とShift-JISで表示するにはどうすればいいのでしょうか JavaScriptでは、 unescapeで一発なんですけど…
Rubyの初心者です。Macを使用しています。 macportで1.9をインストールしたのですが、 ターミナルで ruby -v とするとデフォルトでインストールされていた ruby 1.8.7 と出ます。 1.9へのアップデート方法を教えてください。 アップデートしたい理由は、irbで日本語を使用したいからです。 よろしくお願いします。
基本的な質問になるのですが、 CentOS5.5でRuby1.9.2を利用しているのですが、スクリプト中に、マジックコメントを 入れているにも関わらず、「invalid multibyte char」エラーが返ってきます。 追加で設定する情報があるのでしょうか。 お手数お掛けしますが、ご存知の方がいらっしゃれば、ご教示ください。 # ruby -v ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux] # cat hello.rb # -*- encoding: utf-8 -*- puts 'こんにちは' # ruby -v hello.rb ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux] hello.rb:2: invalid multibyte char (UTF-8) hello.rb:2: invalid multibyte char (UTF-8) # ruby -Ks hello.rb hello.rb:2: invalid multibyte char (UTF-8) hello.rb:2: invalid multibyte char (UTF-8)
下記のような状態になってしまいサーバが動いてくれません。 エラー文を見るとファイルかディレクトリが存在しないとの事だと思いますが 色々調べてみましたが同じような状態からの解決法が見つからなかった為こちらに質問させて頂きました。 C:\ruby\work>rails new sample create create README create Rakefile create config.ru ----------中略------------ create public/javascripts/prototype.js create public/javascripts/rails.js C:\ruby\work>cd sample C:\ruby\work\sample>ruby script/server ruby: No such file or directory -- script/server (LoadError) ruby のバージョンは1.9.2p180、gemのバージョンが1.6.2です。 環境設定でどこかにミスがあると思って念の為、再度インストールし直しでやってみましたが全く同じで変わりませんでした。 追記、数年前だとC:\>rails sampleと書くだけでファイルが生成されたのですが、 今日試してみたところC:\>rails new sampleとnewを付けないとファイルが作成されない事がわかりました。 サーバ立ち上げの記述も数年前とは違うという事でしょうか？ どなたか教えて下さい。
Rails ActiveRecord において、 深い階層のテーブルを参照するのに有効な方法はないでしょうか？ 例：下記の構造で classD から classAのnameを取得する。 classA　　1→n　　classB　　1→n　　classC　　1→n　　classD □classA 　　id 　　name □classB 　　id 　　name 　　class_a_id □classC 　　id 　　name 　　class_b_id □classD 　　id 　　name 　　class_c_id ＃前提条件 classC, classB, classAが必ずしも存在するとは限らない。 classDからclassAを参照する際に、＃前提条件にあるように、 classB or classCが存在しない(nil)場合、 > class_d.class_c.class_b.class_a.name とするとエクセプションが発生しますが、 これを回避するために、 if class_d.class_c and class_d.class_c.class_b and class_d.class_c.class_b.class_a class_d.class_c.class_b.class_a.name end のようにしていますが、煩わしくてしかたがありません。 実際はエラーログ出力等行っているため、さらに複雑な処理になっています。 もっとスマートなコーディング方法やアドバイスがありましたら宜しくお願いします。 ＃補足 (1) has_many :through を使ってショートカットが作れることを知りましたが、 今回の例のように、複数階層となる場合の記述方法がわかりません。 ご存知の方回答お願いいたします。 (2) そもそも前提条件に問題があるのではないかとも思っています。 前提条件にあるような状態にならない様な仕組みにする、 もしくは、そのような状態にならないよう管理する、等すべきでしょうか？ 以上宜しくお願いいたします。
rubyの繰り返し処理の仕方がわかりません rubyを使ってのプログラムを勉強してます。最終的には表の書き換えをする プログラムがつくりたいのですが最初でコケましたruby イテレーター ネストで検索してもわからなかったので質問します。どなたか　お時間あれ ば教えてください。 お店の番号SA003とSA005を次の "SA001",0,10,20,10 "SA003",0,10,20,20 "SA004",0,10,20,100 "SA005",0,10,20,50 の表なかから探すプログラムを作成しようとしましたが。 繰り返し処理の仕方がわかりません変数のスコープが外れていると思いますし dataの行数は4とはかぎらないので 4.times は使えないのはわかるのですが とりあえずイメージ的に描いたプログラムです。よろしくお願いいたします。 ====testimage.rb======== class Shop_number def initialize @mise=["SA003","SA005"] end def tenposuu() return @mise.size end def tenpo_no(n) return @mise[n] end end data =[["SA001",0,10,20,10],["SA003",0,10,20,20],["SA004",0,10,20,100],["SA005",0,10,20,50]] obj = Shop_number.new obj.tenposuu.times do |i| 4.times do |j| if data[j][0]=~/{obj.tenpo_no(i)}/ then puts data end end ======================= =>["SA003",0,10,20,20] =>["SA005",0,10,20,50] と出したいのですが・・・
Rubyで月盤の60進数を作って頂きたいんです。 西暦2008年12月=1 西暦2009年1月=2 西暦2009年2月=3 ・・・ 西暦2013年11月=60 という周期で動きます。 宜しくお願い致します。
現在Rubyを勉強していてRailsを使ってサイト（VPS）を構築しようとしています。 その際、Windows、Mac、Linux（CentOSかUbuntu)のどの環境で開発すれば良いのでしょうか。 というのも現在はWindowsでやっているのですが、Linuxの勉強も含めVMWareでやった方が良いのか、またMacを持っておるのでMacで開発した方がいいのか迷っています。 実際に仕事等でRubyを使っておられるみなさんはどのような開発環境なのでしょうか。
家族がプログラミングをやっているのですが、Rubyによるブログの作成に関して質問があるということで、代理で投稿させていただきました。 現状では ・編集画面では記事のタイトルと内容を編集でき、それを保存すると記事タイトル・内容に加えて日時が自動で表示される ・記事の並びは最も古いものが一番上にきて、下に新しい記事が延々と足されていく(表示されていく)方式 になっているそうです。これを ・記事タイトル・日時・内容を1つのセット(かたまり)としてまとめる ・一ページにつき5件のみ表示される方式 ・最新の記事が一番上に来る並べ方 というように変えたいようなのですが、どのようにしたら良いかわからないそうです。 私自身はプログラミングは殆ど知識がなく、質問の意味がわかり辛い点もあるかと思います。 お手数をおかけしますが、どなたか方法をご存知の方がいらっしゃいましたら、ご回答頂ければ幸いです。
シフトJISの漢字２文字（４バイト)のうち先頭の一文字だけを取り出したい。 以下を試したところ結果は、 p kansi.split(//s) =>["\222\232", "\226\242"] #p kansi[0,2] =>["\222\232"] という結果になります。 漢字で取りだしたいのですが、文字エンコードするにはどう書けばよいでしょうか。
Ruby 1.8.7 ドキュメントより。 @------------------------ unless baby? feed_meat else feed_milk end @------------------------ 上記のサンプルコードの baby? というメソッドの 定義方法をサンプルコードで教えてください。 すみません。よろしくお願いします。
Rubyで申（さる）を出力したいのですが、 print文でInternal Server Errorが出てしまいます。 なぜでしょうか。他の十二支はちゃんと出力されます。 なぜ申だけでないのでしょうか。 エンコードの問題なのでしょうか？ 私はShiftJISなんですが、何が問題なのでしょうか。
変数に変数を使いたいのですが できますでしょうか？ 【↓やりたい事のイメージ】 ------------------------------ for i in 1..3 hensuu【ここにi】 = i end ------------------------------ 結果として 変数「hensuu1」に1が代入され 変数「hensuu2」に2が代入され 変数「hensuu3」に3が代入されるようにしたいのです。 宜しくお願い致します。
すみません、訂正です。 日付で６０進数を組みたいんです。 2010年7月13日=1 2010年7月14日=2 2010年7月15日=3 ・・・ 2011年7月7日=60 という運行します。 RubyまたはPerlで 簡単かつ綺麗なIf文を書いて下さる方を探しています。 よろしくお願いします。
例 1924年=1 1925年=2 1926年=3 ・・・・ 1983年=60 1984年=1 というアルゴリズムをやりたいんです。 できればRuby、Ｐｅｒｌでもいいです。 簡潔で綺麗なIf文を書いて下さる方はいませんか？
プログラマ初心者です。Rubyで占いのプログラムを作りたいのですが、暦を作りたいんです。 2011年1月= 9 2011年2月= 8 2011年3月= 7 　　　　・ 　　　　・ 　　　　・ 2011年9月= 1 というような、9からはじまり1で終わり、また9から始まって1で終わるという九進数のループを教えていただきたいです。 年マタギする部分が一番分からないので、2012年にまたぐ瞬間をどのように書けばよいのか教えてください
ハッシュの中の値からキーを取りだしたいのですが、うまくいきません。 下記のようなソースしか思い浮かばないのですが、 何か良い手はないでしょうか。 ------- if number == ban.values d = ban.keys end
forループの中のハッシュをeachしたいのですが、 printすると、一番最後のループのハッシュだけ表示されるようです。 全部中身を出すにはどういうソースを書けばよいのでしょうか。 ----------------------- center = 7 for i in 5..13 if center < 9 ban = { "i" => center } center += 1 else ban = { "i" => center } center = center % 9 center += 1 end end ban.each{|key, value| print(key + "=>", value) }
Mac OS X 10.6でRuby on Railsやりたいと思っているのですが、諸々のインストールがすみ、rails new helloworldとかで新規プロジェクトできるのですが、scriptフォルダーにserverが存在せずrailsというファイルだけあり、ruby script/serverをすることができません。 こういう状況ってなにがたりないのでしょうか。
最近Railsで仕事をしているのですが、色んなクラスに実装したい機能をモジュールにまとめて、使うときはそれぞれのクラスでインクルードしたいと考えています。 この場合、その手の（共通で使う）モジュールはどこに置くのがよいでしょうか？ ControllerやModelはもちろんHelperでもないでしょうし、いまいち分からず悩んでいます。 Railsの使用経験がある方、どうかお教えください。
ウェブのフォームから数値を入力し、 それを受け取って、cgiの中で演算したいのですが、うまくいきません。 input = CGI.new birth = input["birth"]#西暦1982年を入力 print -(birth - 1927)%9+1#この演算をしたいのですが、できません。
以前Javaを触っていたものですが、新しい業務で携わることになったRuby on Railsについて質問があります。 1.errorsについて ActiveRecordを継承したModelにerrorsというメソッド（プロパティ？）がありますが、この正体は何という名前のクラスでしょうか。 また、このerrorsにはaddおよびadd_to_baseというメソッドでエラーメッセージを加えることができますが、加えたエラーは蓄積されていくのでしょうか、もしくは上書きされていくのでしょうか？ 例えば、 model.errors.add_to_base('エラーが発生しました') model.errors.add_to_base('エラーがでたよ') と続けて書いた場合、error_message_forで表示されるエラーは後者（'エラーがでたよ'）だけという動きが正しいのでしょうか？もしくは、両方とも表示されるのが正しいでしょうか？ 2.論理演算子「&&」「||」について Javaの「&&」や「||」という演算子は、前の判定だけで結果が出たなら後の判定をパスして先へ進みます（例えば「A && B」でAがfalseなら、Bの判定をせずにfalseを返すといった具合）。これに対して「&」や「|」といった、前の判定がどのような結果であれ後の判定も強制的に行うという演算子が用意されています（「A & B」ならAがfalseでもBの判定も必ずするといった具合）。 Rubyにはこれに相当する演算子はないのでしょうか？「and」や「or」がありますが、どうも違うようなので。 もし詳しい方がいらっしゃれば、ご教授下さい。 よろしくお願いします。
ruby1.9.2をインストールをしたあと、rubygems1.5.0をダウンロードして ruby setup.rb でインストールしたのですが、 gem -v をしても反応がありません。No such file or directoryといわれてしまいます。環境変数をいろいろと変えてみましたがやはりダメでした。windowsだとやり方が違うのでしょうか。 検索しても答えが見つからなかったので質問させていただきました。初心者ですがよろしくお願い致します。 [os] windows xp [ruby] ruby 1.9.2p136 (2010-12-25) [i386-mingw32] [エラーメッセージ] C:\Ruby192\bin\ruby.exe: No such file or directory -- /cygdrive/c/Ruby192/bin/gem (LoadError)
ruby 1.8.7 で、下記のような配列をソートしたいんですが、どう記述したら良いでしょうか。 x = [[1, 1], [2, 2], [11, 10], ・・・ [1, 13], [2, 14]] ..........a b a = 1番目の ソート 順 b = 2番目の ソート 順　　 　　　 よろしくお願いします。
「作りながら学ぶRuby入門　著 久保秋 真」という本を参考にしています。 本の課題で #! ruby -ks # -*- coding: Windows-31J -*- puts "ようこそ" puts 'Welcom' puts "私の好物は'りんご'です。" puts '私は"ドリアンが"が苦手です。' というのがあったのですが、実行させると ruby: invalid option -k (-h will show valid options)(RuntimeError) というエラーがでます。 何がいけないのでしょうか？ PC環境 OS：VISTA HOME PREMIUM SP2 Ruby：Ruby-1.9.1-p243 テキストエディタ：サクラエディタ 参考入門書：作りながら学ぶRuby入門　著 久保秋 真
初めてプログラミングを始めます。 「作りながら学ぶRuby入門　著 久保秋 真」という本を参考にしてます。 この本で「演習場所を準備する」という項目で以下のように書いていました。 『テキストエディタで「C:\ruby_ex」ディレクトリに新しいファイルを「test01.rb」を作成して・・・』 上記のディレクトリに新しいファイルの作成の仕方を教えていただきたいです。 テキストエディタはサクラエディタです。 PC環境 OS：VISTA HOME PREMIUM SP2 Ruby：Ruby-1.9.1-p243 テキストエディタ：サクラエディタ　Ver1.6.6.0(V 1310)
初めてプログラミングを始めます。 「作りながら学ぶRuby入門　著 久保秋 真」という本を買いました。 この本で「演習場所を準備する」という項目で以下のように書いていました。 『インストールしたRubyのディレクトリを決めておきましょう。』 『「Cドライブ」の「\ruby_ex」というディレクトリを作成しましょう』 『コマンドプロンプトで次のように入力して作成しましょう』 『C:\Documents and Settings\kuboaki>mkdir C:\ruby_ex』 『「kuboaki」は必要に応じて読み換えてください」』 コマンドプロンプトを開いた参考写真のサンプルでは 「C:\Documents and Settings\kuboaki>」になっていました。 (1)コマンドプロンプトをcmdで検索して開くと Microsoft Windows [Version 6.0.6002] Copyright (c) 2006 Microsoft Corporation. All rights reserved. C:\Users\○○ ○○> ○○　○○のところは全角の漢字で自分の名前が入っています。 (2)cmdのショートカットを作って開くと Microsoft Windows [Version 6.0.6002] Copyright (c) 2006 Microsoft Corporation. All rights reserved. C:\Windows\System32> と表示されます。 (1)で指示どおりに「C:\Documents and Settings\○○　○○>mkdir C:\ruby_ex」と入力すると 'C:\Documents'は、内部コマンドまたは外部コマンド、 捜査可能なプログラムまたはバッチ ファイルとして認識されていません。 となってしまい (2)で指示どおりに「C:\Documents and Settings\○○　○○>mkdir C:\ruby_ex」と入力すると アクセスが拒否されました。 と表示されます。 (1)(2)共に○○　○○のところは漢字で入力しました。 何がいけないのでしょうか？ Administratorでログインしています。 別アカウントは作っていないです。 PC環境 OS：VISTA HOME PREMIUM SP2 Ruby：Ruby-1.9.1-p243
rubyまったくの初心者です。 以下のサイトなのですが http://www.oizumifoods.co.jp/recruiting/recruiting/part_time/entry_form.html フォームに情報を満たせていない場合、入力確認ボタンを押すと、エラー画面が 出るはずなのですが、出なくなりました。 もともとは出ていたのですが、 サーバから該当ディレクトリにあるファイルを全て、 一旦ローカルにダウンロードしてサーバ上では削除しました。 （他の部分で検証したい事があり、このようなことをしました） その後、ローカルにダウンロードしたファイル（まったくいじっていない）を 同じ場所に全てアップしたのですが そうすると、エラー画面が出なくなってしまいました。 ファイルやソースは全て、元あったものと全く同じなはずなのですが。。 rubyを知らないので、こういうことってrubyではあるのでしょうか？ 説明がしずらく、また初心者で申し分けありませんが、非常に焦っています。。 何卒よろしくお願いいたします。
rubyのforeach構文を用いて（foreachにこだわるわけではありませんが） 指定したディレクトリ内の全ファイルに対してプログラムを実行させるようなコードを書きたいのです 以下が書いてみたコードなのですが、これだと一度execを行ったあと動作が終了してしまいます なにか対応策はありますでしょうか　よろしくお願いします Dir::foreach(ARGV[0]) {|f| exec("java execute " + ARGV[0]+ "\\#{f}") }
rubyの環境を変えたところ日本語の関数名が使えなくなりました。 解決策があればお願いします。 [環境] OS:Windows VISTA ruby:1.8.7-p330-i386-mswin32 (外付けHDDに展開して利用) 実行方法：cmd.exe /k "ruby.exeのパス" "rbファイルのパス" で実行 [以前の環境] OS:WINDOWS XP ruby:ActiveScriptRuby(1.8.7-p330) （Cドライブにインストール） [ソース（外部rubyファイル元.rb）] # EUC-JP:-Ke # SHIFT-JIS:-Ks # UTF-8N:-Ku # SHIFT-JISコード設定にしました #! ruby -Ks def 元関数() print "元関数だよ！\n" end require '外部rubyファイル先' print "外部ファイルの関数を実行\n" 先関数() print "内部ファイルの関数を実行\n" 元関数() print "Enterキーを押してください\n>" a = gets.to_i [ソース（外部rubyファイル先）] def 先関数() print "先関数だよ！\n" end
PHPで作成されたホームページを、デザインや仕様はそのままで、 Rubyonrailsに書き換えたいです。 現在手元にPHPのソースが無い状態で、 ホームページの遷移を確認しながら、ブラウザからHTMLソースを眺めていますが、 自分はrubyonrails(Aptana環境)とHTML等を少しさわっただけの初心者で、 何から調べて行けばよいのか見当をつけられません。 ざっくりとで構いませんので、どなたか御教示頂けますでしょうか？
プログラミング言語rubyの正規表現について質問です。 大学の授業でrubyをやっているのですが、 下記の文字列をパターンマッチさせる方法がわかりません。 日本語とアルファベットが混ざっているときに どのような正規表現のパターンを作ったらよいかわかりません。 「|」はただの文字として扱いたいです。 1行でひとかたまりです。 どなたか教えてくださいませんか。 よろしくお願いします。 ↓ネタ｜ネタのローマ字表記｜皿の色｜値段　　の順に並んでいます。 生うに|namauni|gold|420 甘えび|amaebi|red|120 さわら|sawara|green|180 ねぎとろ|negitoro|green|180 さんま|sanma|green|180 納豆巻|nattomaki|red|120 いくら|ikura|blue|240 とり貝|torigai|gold|420 こはだ|kohada|red|120 つぶ貝|tsubugai|green|180 たらこ|tarako|red|120 赤貝|akagai|blue|240 ひらめ|hirame|gold|420 サーモン|salmon|blue|240 しまあじ|shimaaji|blue|240 中とろ|chuutoro|gold|420
Rubyでtwitterのbotを作りたいです。 特定のキーワードをRTするようにしたいです。 初心者ですのでほとんどプログラミングできません。 アクセストークンは取得しました。 コマンドプロンプトで実行するのはわかります。 terapadにプログラミングするつもりですがどのようにプログラムすれば動くのでしょう。 ググってもいいサイトが見つかりません。 どうか教えてくださいませ。
これまでJavaしか触ってこなかったのですが、この度Rubyに触れる機会を頂きました。 Rubyについては全く知識がないのですが、Javaに慣れている私のような者にとって学びやすい言語でしょうか？ また、例えば（考え違いがあるかも知れませんが）「PHPと言えばコンシューマ向けのWebアプリケーション」、「Javaと言えばエンタープライズ向けのWebアプリケーション」といったように、「Rubyと言えば…」というような、Rubyがよく用いられていたり、得意とする分野はどういったものでしょうか？ どうぞよろしくお願いします。
phpに慣れた者です。 rubyでphpと同じように埋め込みのwebプログラミングをしてみようと思い、下記のページを参考に（ほとんど拝借して）作ってみましたが、ページに何も表示されません。 http://ruby.g.hatena.ne.jp/garyo/20071206 レンタルサーバ上にソースファイルは２つです。 [main.cgi] #! /usr/local/bin/ruby -T print "content-type: text/html\n\n" require 'erb' filename = 'tmp.html' erb = ERB.new(File.read(filename)) list = ['AAA', 'BBB', 'CCC'] print erb.result(binding()) [tmp.html] <html> <body> <ul> <% i = 0 %> <% for item in list %> <li>item[<%=i%>] = <%= item %></li> <% i += 1 %> <% end %> </ul> </body> </html> この状態でmain.cgiにブラウザからアクセスしても、ページに何も表示されません。 ソースも０文字です。 原因が何かが見当がつきませんので、アドバイスをお願いします。 なお、パーミッションはmain.cgiが700,tmp.htmlが604。 契約しているレンタルサーバ（ハッスルサーバ）の規約上、main.cgiと拡張子がcgiになっています。 よろしくお願いします。
twitter streaming apiを使いたいと思い、調べてみたのですが、プログラミング初心者の 私にはさっぱり理解ができませんでした…。 こちら→http://d.hatena.ne.jp/shibason/20090816/1250405491#20090816fn5 を参考にRubyで試してみたのですが、まったく反応がなかったりtimeout errtorと出るなど、 情報を取得することができません。Rubyに関しても触ったばかりで詳しいことはわかっていません。 ですので、Rubyでstreaming apiを扱う方法を詳しく教えて頂けないでしょうか？ もしくは、初心者の私でも扱える他の方法があればよろしくお願いします。 最終的にはその情報を使ったflashコンテンツを作りたいと思っています。
rubyを最近勉強し始めた者です。cgiプログラムを書こうと考えています。 rubyにはcgiを記述するのに便利なライブラリというものがあり、 これを活用したいと考えているのですが、問題にぶつかりました。 HTMLにはメタ（meta）タグを最初に書き込みますが、cgiライブラリを使った際にはどう書くかがよくわかりません。 検索しても書いてあるページが見当たらず、悩んでいます。 例えば下記のプログラムでは、metaタグはどう記述すればいいのでしょうか。 （もちろんcgi.head内というのはわかりますが……） ご存知の方、よろしくお願いします。 cgi = CGI.new("html4Tr") cgi.out("charset" => "UTF-8") do cgi.html("PRETTY" => true) do cgi.head do cgi.title do "タイトル" end end + cgi.body do end end end
Ruby1.9を使っております。 次のような全角、半角が混在した文字列があり、その文字列の中から、 全角の文字数、半角の文字数がそれぞれ何文字あるか調べる方法はありますでしょうか。 ■文字列例 "あいイウう" どうか良きアドバイスをお願いいたします。
Rubyを用いてドメイン特化言語（DSL)なるものを作りたいと思っているのですが、この場合、ライセンスはどのようなものになるのでしょうか。ネットでも配布予定で、1.8.7と1.9のどちらかのバージョンを使う予定です。 ご教授の方、よろしくお願い致します。
２年程独学でrailsではある程度の物は作れるようになってきましたが、 3つの質問をさせてください。 １）携帯メールに絵文字を表示できるようにしたい。良いプラグインはないか？ 文字コードの知識が無くて恐縮なのですが、３キャリア対応で絵文字付きメール を送信したいのですが、どうもうまく絵文字部分のコードの置換が出来ません。 どのような方法でも結構です。 mobile.html.erb mobile_docomo_html.erb など振り分けて送信するなど。。（この場合は、テキストボックス内の絵文字はどこでconvするのでしょうか？） プラグインがなくても改良方法のヒントでもいただけると有り難いです。 ここを勉強した方が良いなど。 ２）PCからテキストボックスで絵文字入力させたい。プラグインは無いでしょうか。 wysiwyg程豊富な機能はいらなく、絵文字のみでよいのですが、良いものはありますでしょうか？ajax製でも結構です。 少し調べたのですが、情報が古かったりして、どれがメジャーなのかがわからないものでして。 ３）Rails中級程度の質問で的確に教えて頂ける場所は、ここ以外にあるのでしょうか？ わかる項目のみで結構です。教えて頂けると大変助かります。 どうぞよろしくお願いいたします。
二項演算子の定義 rubyを学び始めた超初心者です。プログラム経験はありません。 参考プログラム、下記を入力しましたが2箇所？納得ができません 笑われるような質問なのかどこを探しても解決できません。 よろしくご教授願います。 12行,16行　Vec.new(@x + other.x, @y + other.y) other., other.yの表記の意味が理解できません。 class定義が終了していないのに使用している 1class Vec 2attr_reader :x, :y 3def initialize(x=0, y=0) 4@x, @y = x, y 5end 6 7def inspect #表示用 8"(#{@x}, #{@y})" 9end 10 11def +(other) 12Vec.new(@x + other.x, @y + other.y) # x, y のそれぞれを足す 13end 14 15def -(other) 16Vec.new(@x - other.x, @y - other.y) # x, y のそれぞれを引く 17end 18end 19 20vec0 = Vec.new(3, 6) 21vec1 = Vec.new(1, 8) 22 23p vec0 24p vec1 25p vec0 + vec1
Ruby on Railsインストール(アップデート) RailsをCentOS4.4?にインターネット経由以外でのインストールする方法を知りたいです。 下記に条件を記載させて頂きますので、本当に申し訳ありませんが、 ご教授していただけますでしょうか？ 無知で申し訳ありませんがよろしくお願いします。 ■現状 　サーバOS CentOS4.4 　Ruby 1.6.x 　gem 0.9x?? 　rails 1.x 　mysql4.1 　sqlite3 ■条件 　・会社のサーバなので、インターネットが使用できない。 　※ＣＤやＵＳＢも無理です。 　　やり方としては、ソースを会社のメールアドレスに送り 　　自分の端末からFTPでサーバにアップロードします。 　　また、上長には許可は頂いています。 　・現状古いバージョンのRuby・RubyGems・Ruby on Railsは 　　インストールされていますが、アップデートよりは、 　　上書きインストールの方が望ましい。 　　※理解し易いため。 　　　初心者のためアップデートは難関かとm(--)m ■今回インストール(アップデート)したい物 　Ruby on Rails 2.x ----以下は、ダウンロード済み---- 　Ruby 1.8.7 　※こちらは、色々なサイトに記載されています参考にしています。 　RubyGems 　※これは、RubyForgeからダウンロード済み ■気になる点 　ほかにインストールしなければならないものってありますでしょうか？ 教えて君で申し訳ありませんが、よろしくお願いします。
requireでエラーが起きてしまう タイトルのとおり、requireの箇所でエラー(no such file to load)が起きてしまって先に進めない状態なので、どなたか解決策がわかるかたいらっしゃいましたら教えてください＞＜ 今、 method_area.rb -- def triangle(x, y) return (x * y / 2) end def square(x) return x**2 end -- main.rb -- require 'method_area.rb' puts(triangle(8, 24)) puts(square(15)) -- の2つのファイルを同じディレクトリに置いています。
ming/rubyのインストール ming/rubyのインストールができなくて困っています。。 どなたかわかる方がいましたら参考になるサイトなど教えていただけたらうれしいです。 OSはwindows vistaで、現在rubyのみインストールされています。
Rubyにて、ファイルコピーする際に指定したbyte毎にファイルをコピーしていく方法 いつもお世話になっております。 Rubyのコーディング方法で分からないことがあります。 大変申し訳ございませんが、ご教授のほどよろしくお願い致します。 【ご質問】 以下のファイルがあるとします。 ファイル名：test.log ファイルサイズ：2G 上記ファイルを500Mずつに分けてコピーしたい場合、 どのようにコーディングすればファイルを分けながらコピー出来るのでしょうか？ 例) 【コピー元ファイル】 ファイル名：test.log ファイルサイズ：2G 【コピー先のファイル】 ファイル名：test.log.1 ファイルサイズ：500M ファイル名：test.log.2 ファイルサイズ：500M ファイル名：test.log.3 ファイルサイズ：500M ファイル名：test.log.4 ファイルサイズ：500M ※コピー先のファイル名には、 　コピー元のファイル名＋「.」＋「1からの数字の連番」でファイル名を割り振りたいです。 以上です。 よろしくお願い致します。
Rubyの.soについて 拡張子が.soファイルがあるのですが、これはなんなのでしょうか。 また、Rubyのファイルは基本テキスト形式ですが、C++のプログラムで扱う場合、配布する際には、バイナリ形式にすると思うのですが、それはどうすればいいのでしょうか。（間違ってたらすいません） さらに、Ruby関係でおすすめの本がありましたら、教えて頂けると幸いです。ちなみにC++はある程度できます。 長文失礼しました。
WEBrick の mount_proc について WEBrick の mount_proc がうまく動かず困っています。 以下のようなプログラムを書いたのですが、"Hello,World!!"ではなく、dummy/index.htmlの内容が表示されてしまいます。p "hello"も実行されないのでmount_procがそもそもうまくいっていないようです。どうすれば解決できるでしょうか。よろしくお願いします。 ****** #! ruby -Ks # -*- coding: Windows-31J -*- require 'webrick' config = { :Port => 3000, :DocumentRoot => '.', } server = WEBrick::HTTPServer.new(config) server.mount_proc("./dummy") do |req, res| res.body = "Hello, World!!" p "hello" end trap(:INT) do server.shutdown end server.start
railsについて ruby on railsについて質問なんですが、 routes.rbってMVCとの対応で言えばどんな感じなんでしょうか? routesで指定したルートはコントローラとメソッドを指定していますが どの.html.erbを使うかの指定はどこでされてるんですか?
文字列検索 テキストファイルの検索を行いたいです． 下記のようなサンプルファイルでfooを検索し， 含まれるならマッチした個数，含まれないならnilを返す関数を作りたいです． mecabを用いて形態素解析を１行ずつしようかと思ったんですが， 大量のファイルを処理する予定なので，オーバヘッドが気になります． 関数でgrepがあるみたいですが，マッチした行しか返されません． 標準関数で１行ずつよみこんで，１行のなかでマッチした回数を返す関数はありますか？ --sample.txt-- foo foo bar bar foo hoge,hoge,hoge,hoge hage-hage-hage-foo -- end --
プログラミング言語　rubyを用いて、 画像処理プログラミングを書こうとしていますが、以下の点が分かりません。 1・メモリの動的確保はどうするの？（C言語でいうmalloc) 2・ファイルから配列に展開するにはどうしたらいいの？ 以上が分かればわかるきがするのですが・・ 当方　C言語での画像処理プログラミングはそれなりに経験があるのですが rubyで実現できるのかわからなくて・・
RubyのMiyakoというソフトをインストールしたいのですが、できません。 cd c:\Ruby192 と打って、ruby install_miyako.rb と入れるとできるはずだと思ったのですが、できません。 というか、そんなファイルが解凍後の中にありません。 ruby/sdlは入っています。 MiyakoLauncherLite.exeはreadmeにあるように、 ・Ruby1.9.X-+-bin 　 | | | +-ruby.exe | +----MiyakoLauncherLite.exe としています。 MiyakoLauncherLite.exeは起動はしますが、サンプルゲームができません。 使っているＯＳはwindows7です。 楽しいＲｕｂｙに乗ってる程度の文法の知識はありますが、 ほとんど素人です。 よろしくお願いします。
RubyのCookie読み込みにで躓いており、質問させて頂きました。 ------------------------------------------------------------------------------------ module Main def Cookie_r(cookie_kye = "") require "cgi" cgi = CGI.new cgi.cookies[cookie_kye]#.gsub(cookie_kye, "").gsub("; path=/cgi-bin/","") end end include Main print Cookie_r("userid") ------------------------------------------------------------------------------------ 結果：userid=1; path=/cgi-bin/ 「; path=/cgi-bin/」 は削除して「1」と返して欲しいのですが、 #以下の.gsubを記入すると応答してくれません。 「1」と回答させるにはどのようにすれば良いか？教えて頂けないでしょうか？ 環境： ・windows_xp_sp3+iis ・ActiveScriptRuby 1.8.7 ・IE8
2行読み込んで一行戻り、また2行読み込む はじめまして、現在、「2行読み込み、一行戻り、また2行読み込む」処理のものを作成しています。 具体的には、 A B C D E と５行に渡り記述されたファイルを上記の旨で表示させる場合、 A B B C C D D E としたいのですが、 filename = ARGV[0] ABCDE = [] file = open(filename) while f = file.gets do 　f.chomp! 　　g = file.gets 　　g.chomp! 　p f 　p g end file.close とすると出力は "A" "B" "C" "D" abcde.rb:9: private method `chomp!' called for nil:NilClass (NoMethodError) もちろん2行読み込んで、そのまま次の２行を読み込む記述のため上記のようになってしまいます。 まとめますと、 「一行戻るための記述がわからないので、それを実現するための記述を教えてほしい」 ということです。 rewindを使うと先頭まで戻ってしまうのでどうしたらいいのかさっぱりです。 わかりづらくて非常に申し訳ない、初歩的であろう質問ですがよろしくお願いします。 rubyは1.8.6を使っています。
クローラーの設置の仕方を教えてください とりあえず下記のサイトのクローラーを動作させたいと考えています。 http://www.2mihi.com/2008/02/rubymechanize-hpricot.html 端末で、 ruby hoge.rb としますが、エラーもでず、何もおこりません。 ソースのどこを編集しないといけないのでしょうか？ 他に何かいるのでしょうか？ それか、いいのがあるなら、他のクローラーのサンプルソースでも構いません。（他の言語でもいいです） クローラーがどういうものなのか分かればいいので。 osはubuntuです。
rubyで文字列のreplaceの方法について いつもお世話になっております。 rubyで分からないことがあります。 ご存知の方がおられましたら、ご教授お願い致します。 【質問】 以下の文字列があるとします。 (文字列) <!-- Advertiser 'XXX', Include user in segment 'test--001' - DO NOT---ANY WAY --> <img src="XXXXXX" alt="test--001" width="1" height="1" /> <!-- End of segment tag --> 文字列の<!-- -->で囲まれた中でハイフンがある場合、ハイフンを-に変更したいです。 (但し、<!--と-->のハイフンは除きます) どのように記述すれば変更出来るのでしょうか？ 上記(文字列)ですと <!-- Advertiser 'XXX', Include user in segment 'test--001' - DO NOT---ANY WAY --> <img src="XXXXXX" alt="test--001" width="1" height="1" /> <!-- End of segment tag --> に変更したいです。 以上です。 よろしくお願い致します。
rubyの正規表現について質問です。 rubyを勉強中ですが、 正規表現について質問させてください。 以下のようなことをしたいのですが、どのような記述をすれば実現できるでしょうか？ (1)test → #test (2)test → test 「test」の場合は、「#」を加え、「#test」に置換したい 「test」の場合は、そのまま「test」としたい。 if を続ければ可能だとは思いますが、 一つの正規表現で(1)のケースだけを引っ掛けられればと思っています。 正規表現でANDが使えればよいのですが、使えないようですし。。。 お手数をおかけしますが、お力をよろしくお願いします。
Ruby on Rails で SNS サイト構築したい。 rails で SNS サイトを勉強のため一から構築したいと考えております。 参考になるサイト、又は教本などありましたら教えてください。 私の技術レベルですが、「Head First Rails」を一読し構築を行っております。 実務では主に運用だけおこなっております。 つまりコードスキルはへのかっぱです。
ruby の File.exist? メソッドで大文字小文字を区別してファイルの存在検査を行ないたいのですがうまくいきません。 例えば、/etc というディレクトリは自分のマシンに存在するのですが、'/ETC' で検査しても存在すること（true）になります。これを '/ETC' で検査した場合は false にしたいということです。 ### 環境 - OS X 10.6.2 - ruby 1.8.7 ### 実行結果 $ ruby -e "p File.exist?('/etc')" #=> true $ ruby -e "p File.exist?('/ETC')" #=> true になってしまう。これを false と判定したい。 よろしくお願いいたします。
Ruby１．８を使って、パケットの解析を行ないたいと考えています。 RubyPcapを利用して、pcapデータを読み込んで、パケットのデータ（ペイロード）を表示するプログラムを作りたいのです。 ↓のサイトによると、送信先IPアドレスなど取得できるのですが、同じ要領でペイロードのデータを取得することはできないのでしょうか？ http://www.db.is.kyushu-u.ac.jp/rinkou/libpcap/rubypacketdb.html
アルバイトの面接で見せるプログラムを作りたい。 Rubyのアルバイトがしたくて求人に応募したら、今までに作ったプログラムを見せてほしいとのこと。しかし、Ruby暦＝プログラミング暦で、しかもまだ勉強始めて数ヶ月なのでそんなすごいプログラムは作ったことがありません。 初心者用の本に載っているプログラムの丸写しとかはしたことがありますが、その程度では不十分な気がします。一応、基礎の初歩的なことは一通りできます。 なにか数日でできるプログラムで、アルバイト先の企業が欲しいと思ってくれるようなプログラムはないですか？プログラムのコードではなくて、どういった仕事をこなすプログラムかを教えてください。
Ruby on Railsの「Doragonfly」という画像pluginについて質問です。 画像サイズを固定にせずに扱えるというところに魅かれ使用を試みたのはいいものの アップロード時に画像を保存せずに表示する（プレビュー的な）やり方がわかりません。 保存後に表示するのは出来るのですが・・・。 一旦保存し、rollbackするといったやり方も考えたのですが、それだとファイルが作成されてしまいますし、ＤＢのidがインクリメントされるので気持ちが悪いです。 どなたか保存せずに一時的に表示させる方法をご存知の方がいましたら 教えてください。
Rubyの乱数に関して質問させてください。 1から30までの数字の中からランダムで一つを選ばせ 1の場合は email = "11111@yahoo.co.jp" password = "11111" 2の場合は email = "22222@yahoo.co.jp" password = "22222" 3の場合は email = "33333@yahoo.co.jp" password = "33333" 上記のようにしたいのですが、どのように記述したら良いでしょうか？ ご教授頂けると幸いです。 宜しくお願いいたします。
Ruby on rails　sqlite3のドライバ？のインストールがうまくいかない。 「rubyinstaller-1.8.6-p398.exe」をインストールして、gemのアップデート、「sqlite-3_6_23_1.zip」「sqlitedll-3_6_23_1.zip」をインストール？して、gemでsqlite３のドライバをインストールをすると以下のような文章がでてうまくいきません。（xp sp3） You've installed the binary version of sqlite3-ruby. It was built using SQLite3 version 3.6.23.1. It's recommended to use the exact same version to avoid potential issues. At the time of building this gem, the necessary DLL files where available in the following download: ttp://www.sqlite.org/sqlitedll-3_6_23_1.zip You can put the sqlite3.dll available in this package in your Ruby bin directory, for example C:\Ruby\bin ============================================================================= Successfully installed sqlite3-ruby-1.3.1-x86-mingw32 1 gem installed Installing ri documentation for sqlite3-ruby-1.3.1-x86-mingw32... Enclosing class/module 'mSqlite3' for class Statement not known No definition for libversion Installing RDoc documentation for sqlite3-ruby-1.3.1-x86-mingw32... Enclosing class/module 'mSqlite3' for class Statement not known No definition for libversion ドライバのバージョンを下げたりしてみてもうまくいきません。 rubyは勉強している書籍にあわせて１．８．６を使っています。 何が問題なのでしょうか？
Ruby1.87のインストールについて いままで1.9を使っていたのですが、pingというメソッドを使ってみたくて1.87をインストールしなおしました。 コンソールのプロパティを開いて環境変数から作業フォルダというところを設定するといちいち毎回フォルダをcdで動かなくてもいいと本にあったので以下のように設定しました。 C:\Rubytest そして、Rubytestのなかにtest.rbというファイルを作り、ruby test.rbで実行したのですがうまくできませんでした、エラー文は以下のとおりです。 ruby: no such file to load --ubygems(LoadError) 使用ＯＳはwindows7で、1.9はアンインストール済みです。フォルダとファイルは間違いなく存在しています。拡張子もつけ間違えていません。 インストールした後、RubyのファイルをD:ドライブに一度動かしたのがまずかったのでしょうか？ 原因と対処法が知りたいです。
現在、インストールされているrubyのバージョンを確認する方法を教えてください。 下記の件が解決しないので、CORESERVERにruby1.8.7を入れてみました。 ▽railsサンプルがレンタルサーバーで動作しません。どこを見ればよいで... - Ruby - 教えて！goo 　 http://oshiete.goo.ne.jp/qa/6103754.html ユーザ名@サーバ名:~/ror_app/adbook> ruby script/about About your application's environment Ruby version 1.8.5 (i686-linux) RubyGems version 1.3.5 Rack version 1.1 Rails version 2.3.8 Active Record version 2.3.8 Active Resource version 2.3.8 Action Mailer version 2.3.8 Active Support version 2.3.8 Application root /virtual/ユーザ名/ror_app/adbook Environment development Database adapter mysql Database schema version 20100811200136 で、新たなscaffordディレクトリを作成し、作業を進めようとしたところ、 また分からないことがでてきました。 !!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql. と表示されたので、 gem install mysql(もしくは、gem install --remote mysql)と打ったのですが、 ERROR: Error installing mysql: mysql requires Ruby version >= 1.8.6 と表示されてしまいます。 しかし、 ruby -vと表示すると、 ruby 1.8.7 (2009-06-12 patchlevel 174) [i686-linux] と表示されているので、自分としては、1.8.6以上を入れているつもりなのですが…。 現在、インストールされているrubyのバージョンを確認するには、 ruby -vでは、駄目なのでしょうか？
Rudyを勉強したい。 プログラマーの方、若しくは 詳しい方へ Rudyを勉強しようと思っております。 まず、何から始めたらいいのか 参考になるサイトなどありましたら 教えてもらえますでしょうか？ 以上、宜しくお願いします。
後処理を保証するブロック付きメソッドの例について。 後処理を保証するブロック付きメソッドの例として、以下のプログラムがありました。 def omit_brock1 if defined? yield puts "brock exist" else 以下略 ２行目のyieldについて質問です。 yieldってはじめからRubyにあったはずです。これをdefined?してもかならずtrueが返るのではないでしょうか？とするとif文使うのも無駄だと思うのですが、どうなんでしょう？ よろしくお願いします。
Ruby初心者です。 Rubyから違うファイルを実行する場合について教えてください。 例えば、test.batに echo off echo. SET /p INPUT="Input string =>" echo %INPUT% pause のように記述されており これをRubyから実行し、 入力もRubyからするにはどうしたら良いでしょうか？ つまり、Rubyからtest.batを実行し、自動で入力も行いたいです。 echoの内容もコマンドプロンプトから確認したいです。 また、RubyからBuildコマンドを実行したいと思います。 Buildは別プロセスで動いている状態になっていると思いますが、 Build中はRubyはどのような状態になるでしょうか？ RubyからBuildした場合、Build動作が重くなることを懸念しています 有識者の方、よろしくお願いします。
RubyでWin32APIのCreateWindow 初めまして。RubyでWin32APIを使ってプログラミングをしようとしています。 RubyもWin32APIも勉強を始めて間もないのですが、RubyリファレンスマニュアルのWin32APIのページやグーグル検索などを利用し一通り調べて (test.rb) require 'Win32API' createwindow = Win32API.new('user32', 'CreateWindow', %w(l p l i i i i l l l p), 'l') createwindow.call(0, "HELLO", 0xc00000, 100, 100, 100, 100, 0, 0, 0, nil) としてみました。しかしエラーで、 test.rb:2:in `initialize': GetProcAddress: CreateWindow or CreateWindo wA (RuntimeError) となりました。 rubyのバージョンは ruby 1.8.6 です。 コードのどこが間違っているのか、エラーの意味、参考になるwebサイト(rubyでWin32APIのCGIを扱っているサイト)を教えていただきたいです。 よろしくお願いします。
Ruby1.9で全角文字を半角文字にうまく変換できません。 英数字までは以下のロジックでうまく出来たのですが、カナが正しく変換されません。 何か良い知恵をどうかご教示のほどお願いいたします。 ※★→←★の間の文字は半角カナです（ブラウザ上全角カナとなってしまうため、便宜上補足しました）。 moji = "イあ１Ａａ" moji.tr('ａ-ｚＡ-Ｚ０-９ア-ン', 'a-zA-Z0-9★→ア-ン←★') 結果：★→ウ←★あ1Aa　何故か半角のイではなく半角のウとなってしまう。 　　　※アの場合のみ正しく半角のアに変換される。
Meadow3について Meadow3をインストールしたのですが画面が白いんです。 これって失敗ですよね。 アンインストールしたくてもやり方がわかりません。 「i.$MEADOW の下のディレクトリの削除 　ii.レジストリの\HKEY_LOCAL_MACHINE\SOFTWARE\GNU\Meadowを削除。ちなみに、レジストリを削　除する方法はCrtl+Rでファイル名を指定して実行、「regedit」と入力するとレジストリエディタが　起動する。」 こんな説明があっても意味がわからないんです。 オレンジ色の画面が正しいらしいんですが、私はそれを知らずに使っていました。 白い画面のMeadowにプログラムを打ち込んでコマンドプロンプトで実行してたんです。 Rubyですが普通に動いてくれました。 夏休みにRubyとMeadowの使い方に慣れるための宿題が出て、 自分のパソコンに両方インストールしたんですが、 先生は学校の実習室でやる前提で資料を書かれているので、 インストールの方法は自分で調べました。 だから不十分な面があったのかもしれません。 でもどうしたらいいのかわからないいんです。 どうすれば正しいオレンジ色の画面のMeadowになるのか、どなたか教えていただけませんか？ 乱文でごめんなさい。
rubyでのproc http://d.hatena.ne.jp/shunsuk/20090101/1230816826 ここのサイトで解説されていることなんですけど， 「同じblockを何度も使いたいときがあります。そんなときに再利用するためのコードがProcです。blockとProcの唯一の違いは、blockは保存できないということです。Procについて見てみましょう。」 とあるのですが，なにをもってblockは保存できないといってるのでしょうか？ 「lambdaはメソッドと同じように振る舞いますから、returnを使うことができます。この意味の違いは、下の例に現れます。」 の下にサンプルプログラムがあると思いますが， puts generic_return(Proc.new { |x, y| x + 2; y + 2 }) puts generic_return(Proc.new { |x, y| [x + 2, y + 2] }) この２行ではエラー処理が行われず，なんらかの出力がされています， これはなぜでしょうか？メソッドの中にreturnがある限りエラー処理が起こると思っているのですが・・・ あと，あまり関係ない質問になるかもしれませんが array.iterate!(method(:square)) このような記述のとき，squareは関数名ということはわかるのですが， :（コロン）これはなにを指すのでしょうか？ よろしくおねがいします．
/(.)(\d\d)+(.)/ =~ "123456"のとき、　p $2とすると、"45"となるのはなぜですか？ p $2 #=>23　となると思っていました。 そして、いったい23はどうすれば後方参照できるのですか？
Ruby1.9で上書き禁止でのファイルコピーする方法について。 次のようなロジックを組んでいますが、同一ファイルがある場合でも上書きをしてしまいます。 同一ファイルは上書きさせないようにするにはどうすれも良いでしょうか？ file1 = "C:/*.*" file2 = "C:/デバッグ用２/" FileUtils.cp(Dir.glob(file1),file2) どうか宜しくお願い致します。
基本プログラミングのrubyの課題を作ってもなかなか動きません。これをどうやったら動くようになるでしょうか？？何がダメなんでしょう？教えてください・・！（>_<；）） 【問題】 問題1-3 についてはプログラムcreate data.rbを一度実行して作られるファイルmarks2010 を元に取り組むこと．ただし，create data.rb は実行する毎に異なるデータを出力するので，課題で作成する提出ファイル(results2010 等) 作成では， 同一のmarks2010 を用いること．また，使用したmarks2010 を提出すること． 1. ファイルmarks2010 は1000 行からなるデータであり，各行は次のように，学生氏名，10 回分 の試験成績が記されている： "西郷あかり": 50, 33, 67, 64, 47, 27, 42, 51: 45 ただし，受験回数が10 回に満たない者もある．また，最終試験を受けた場合，その成績は行 の最後にコロン「:」の後に記載してある． このファイルから下の基準で各学生の最終成績(点数) を求め，全員の最終成績をファイル (results2010 1) に保存するプログラムを書きなさい(prog1.rb)． >ruby prog1.rb marks2010 を実行すると，ファイルresults2010 1 が作成されるようにする．ただし，結果のファイル は，各行一人の氏名と成績を次のように記述したものとする： "西郷あかり": 47.3 ※成績は小数点以下第一位まで．それ以下は四捨五入. 成績基準: 全試験(最終試験も含む) の平均点 また，60.0 点以上を合格として，合格者の氏名と本人の最終成績が記されたファイルpassed2010 1 を作成しなさい． 2. 上と同じファイルmarks2010 に対して，次の基準を用いて前問と同様のことを行いなさい．た だし，提出ファイル名は，(prog2.rb), (results2010 2) および(passed2010 2) ? 成績基準：欠席は2 回まで認め，それ以上の欠席の試験は0 点とした平均点※ ? 60 点以上が合格 ※つまり，試験を３回欠席した場合，全10 回の試験のうち，２回の欠席が認められ，残り１ 回の欠席は得点0 と計算される．したがって，試験は８回受けたこととして計算され，実際に 受験した７回分の得点と，実際には受けていない１回分の成績0 点の合計点を8 で割った平均 点が最終成績となる． 【私の作ったプログラム】 infile=open("marks2010","r") outfile=open("results2010 1","w") while data=file.gets split(/[:,]/) print data,\n end arry=file.gets s=0 arry.each{ |i| s=s+i } puts s.to_f/arry.size end infile=close outfile=close ちゃんと名前と平均が出ると思ったんですけど・・・・（T_T）泣
RubyとMeadow(Emacs)について 自分のパソコンにRubyとMeadowをインストールしたんですが、 Meadowでソースプログラムを作ってからコマンドプロンプトでそれを実行しようとすると ’ruby’は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチ　ファイルとして認識されていません。 と出てきてしまいます。 どうすれば実行できるのでしょうか？ 教えていただきたいです。 ちなみにこれは夏休みの宿題で、 プリントに書かれていたとおりにやりました。 間違いがないか自分でなんども確認しましたが、 たぶん書いてあることは間違っていないと思います。 どのようにやったかというと、 Meadowでhello.rbというファイルに print("Hello, Ruby World !\n") と打ち込み、c:\progIに保存。 コマンドプロンプトを開いて progIに移動し、 ruby hello.rb　→[Enter] です。
Ruby1.9で日付と時刻を合成したい。 日付型で日付と時刻を合成して、日付型の日付時刻を合成したいのですが、 うまく行きません。 ＜やりたいこと（例）＞ 日付：2001/01/01 時刻：01：02：03 合成して、2001/01/01　01：02：03としたい。 ※いずれも日付型（文字型ではありません） ＜試行したこと＞ 日付：ddd = Date.today 時刻：hhh = Time.now date = ddd + hhh ここでundefined method '+'となります。 また、時刻だけを定義出来るクラスはないのでしょうか。 Timeでは時刻だけと思ったのですが、日付＋時刻のようです。 こちらもアドバイス頂ければ幸いです。 どうか宜しくお願いいたします。
Ruby1.9での日付操作に関して。 次の２つについて質問させてください。どうぞ宜しくお願い致します。 （１）文字列を日時に変換する Time.parse("Tue Apr 10 04:54:42 JST 1970")は正常に変換されますが、 Time.parse("Tue Apr 10 04:54:42 JST 1969")はtime out of range(ArgumentError) となりエラーとなります。 何となく意味は分かるのですが、この範囲を拡張することが出来ますでしょうか。 （２）通算日の数値から日付を求める 上記の（１）が解決していることを前提として、基準日付=1900年1月1日0時00分00秒からの 経過を表わす数値（=1日を1.0とする）から、日付を求めたいのですが、ロジックが思いあたりません。 何か良い方法があればご教示頂けませんでしょうか。 ＜例題＞ 20323.27430556の場合は、"1955-08-22 06:35:00"としたい。 実は、上記の例題の逆は組んだのですが、その逆（この例題）がうまく作れません。 どうか宜しくお願い致します。
Ruby1.9で文字列の置換がうまくいきません。 以下の処理を実行すると、gsubのところでEncooding::CommpatibillityError とエラーが発生してうまく置換が出来ません。 何が原因でしょうか。あるいはもっと簡単な方法で置換する方法がありましたら ご教示のほどお願いいたします。 ＜仕様＞ 半角、全角に関係なく指定文字で置換する。 ※大文字部分は実際は全角文字です。 moji1 = 1abc56abcＡＢＣ" moji2 = "abc" moji3 = "ＣＢＡ" ⇒正しい置換結果は、"1ＣＢＡ56ＣＢＡＡＢＣ" #半角→全角 空白含 moji2 = moji2.tr('a-zA-Z0-9 - ', 'ａ-ｚＡ-Ｚ０-９　-　') moji2 = NKF::nkf( '-SsXm0', moji2 ) data = moji1.gsub(moji2,moji3) 　　　　　　↑↑↑ここで上記のエラー発生する。 どうか宜しくお願いいたします。
Ruby（1.9）で2進表示として文字型に変更したい。 次のような2進数表記のまま、文字型に変更する方法はありますでしょうか。 0b0001⇒"0b0001" 当然かと思いますが、0b0001をto_sすると"1"となりました。 どうか宜しくお願いいたします。
Rubyで数値型の進数の型を知りたい。 例えば、2進数の数値表現0b0001のクラスはFixnumとなります。 その数値が、10進数なのか、2進数なのか、8進数なのか、16進数なのかを 知る方法はありますでしょうか。 data = 0b0002 p data.class ⇒Fixnum 宜しくお願いいたします。
railsのscaffoldにて作成したプロジェクトの ViewsのEditのlink_toの第二引数の値がどこで設定されているかわかりません。 例えば、モデル名を"student"にてscaffoldを実行すると、 index.html.erbのEditはこのようになります。 <td><%= link_to 'Edit', edit_student_path(student) %></td> この"edit_student_path"というのが、何者なのかよくわかりません。 どこかで定義されているわけでもなく、動的に生成されているようですが、 仕組みが全くわかりません。 出力されたhtmlの該当部分はこのようになってます。 <a href="/students/1/edit">Edit</a> 現在、scaffoldにて生成したコントローラとビューを一階層掘り下げようとしている所で、出くわした問題です。 controllers/students_controller.rb views/students/index.html.erb ↓ controllers/hoge/students_controller.rb views/hoge/students/index.html.erb どなたかご教授いただけますでしょうか？ ちなみにrailsのバージョンは2.3.5です。
Ruby1.9での数値→文字変換について。 以下のようにfloat型の数値を文字に変換したいのですが、 どのようなロジックで書けば宜しいでしょうか？ （例） 1.1→"1.1" 1.12→”1.12” 1.123→”1.123” sprintf("%f",data)を使っていますが、上記の1.1の例ですと "1.100000"となってしまいます。つまり、不要な"0"を取りたいのです。 また、少数点以下の桁数によっても考慮が必要に思われます。 どうかアドバイスをお願い致します。
rubyに関する質問です。 require 'open-uri' open("uri") do |f| 5.times do print f.gets end end これを実行すると <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>繧ェ繝悶ず繧ァ繧ッ繝域欠蜷代せ繧ッ繝ェ繝励ヨ險?隱・Ruby</title> Complete(0) このように日本語のところだけ文字化けしてしまうのですが、どのようにすれば文字化けがなおるのでしょうか？
Ruby1.9での文字列操作について。 今までRuby1.8を使用していましたが、Ruby1.9に変えてから、次の4種類の問題が出てきました。 （※Ruby1.9に変えてから、#encoding: shift_jisを定義しております） どれか1種類でも結構ですので、Ruby1.9での対策、代替の処理について教えてください。 ＜問題１＞ ■文字列を指定のバイト位置まで削除する □現在（Ruby1.8）のコード moji = "1あアあアイ234565789" moji[4,14] = "" →1.8では、"1あア"となりますが、1.9では、"1あアあ"となります。 ＜問題２＞ ■文字列の中から指定文字が見つかったバイト位置の算出 □現在（Ruby1.8）のコード n = "あいうえお".index("う") →1.8では、n=4となりますが、1.9では、n=2となります。 ＜問題３＞ ■指定した年月日の存在チェック □現在（Ruby1.8）のコード y = 1900 m = 3 d = 10 if　Date.exist?(y,m,d) p "test# end →1.8では、trueとなりますが、1.9では実行時にNoMethoodErrorとなります。 ＜問題４＞ ■半角英数字→全角英数字変換 □現在（Ruby1.8）のコード sss = moji.tr('a-zA-Z0-9', 'ａ-ｚＡ-Ｚ０-９') →1.9では実行時にエラーメッセージが出力されます（略） 色々と書きましたが、どうかお助けください。
Ｒｕｂｙ言語のアルゴリズムを教えてください。 （例） "1あいアう234565789" 上記のような半角、全角文字が混在した文字列において、例えば3文字目の「い」から2文字分を 切り出したいのですが（→"いア"）、私の知識ではどうにも出来ません。 つまり、「3文字目」、「2文字分切り出す」という条件で、 任意の文字列を操作するというものです。 どうぞ、良い知恵をお願いいたします。
Ruby言語にて、全角カナ⇔半角カナ変換がうまくいかずで困っております。 以下のようにプログラミングをしてます。 結果が、思った通りではないのですが、何が原因でしょうか。 ※★→←★部分で囲んだ部分は半角文字です（ブラウザ上、半角文字が全角に変換されているようなので、 　適宜そのような表記を入れました。 ●半角→全角変換 sss = "★→アイウエオ←★".tr('★→ア-ン←★', 'ア-ン') p sss ⇒★→アウオキケ←★ ●全角→半角 sss = "アイウエオ".tr('ア-ン', '★→ア-ン←★') p sss ⇒ア★→イ←★イ★→ウ←★ウ どうか原因を教えてください。
Ruby on Railsでデータベースに接続できない。 『RailsによるアジャイルWebアプリケーション開発(第3版)』 http://www.amazon.co.jp/Rails%E3%81%AB%E3%82%88%E3%82%8B%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%ABWeb%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Sam-Ruby/dp/4274067858/ref=sr_1_1?ie=UTF8&s=books&qid=1279209371&sr=8-1 という本でRuby on Railsの勉強をしています。現在、「第10章チェックアウト」の136ページあたりで行き詰っています。 ActiveRecord::AssociationTypeMismatch in StoreController#save_orderのメッセージが表示されていますが、どうやらデータベースに接続できていないようです。 configのdatabase.yml等を色々試行錯誤してみたり、色々ググってみたりしましたが、解決できませんでした。 どうやったらデータベースに接続できるのでしょうか。恐らくInstantRails-2.0に予め入っているMySQLやApacheと別々に入れたMySQLやApacheと競合しているからでしょうか。InstantRails-2.0の入っているMySQLやApacheは停止しています。 また、別々に入れたMySQLの方にはマイグレーション(?)で問題なくデータベースやテーブルが作成されています。なのにデータベースに接続できていないようです。 もう一つ、Ruby on Railsについて文字コードはcontrollers,helpers,models,views等に入っているファイルは全てutf-8にしなければならないでしょうか。何かWindowsでRuby on railsを開発するとコマンドプロンプトの関係でShift-JISに依存しているような気がします。
Ruby言語初心者です。どうぞ宜しくお願いします。 全角英大文字⇔全角英小文字に変換するロジックを考えていますが、 どうしてもうまくいきませんので教えてください。 upcase、downcaseでは出来ないようなので、他の方法でないと無理のようです。 宜しくお願い致します。
selectの意味 リファレンスマニュアルと本のselectの説明がわかりません。 説明の文はなんとかわかるのですが、引数のとり方が「reads[, writes[, excepts[, timeout]]]」となっていて、これは 3 要素の配列を返しているように見えないので、混乱します。「reads[, writes[], excepts[], timeout[]」という書き方なら3 要素の配列を返していると納得できるのですが、ここで返しているのはreadsの中にwritesがあり、更にその中にtimeoutがある配列を返しているんでしょうか？ 手元の本に「selectはリクエストを受信すると、リクエストを検出したソケットだけをリストに返します。」とあるのですが、ここで言うソケットとは入力、出力、例外を指していて、リストというのはつまり配列のことなんでしょうか？
for 変数　in ・・・　の使い方について 以下のプログラムの一部について質問です。 require 'socket' port = 2000 server = TCPServer.open(port) socks = [server] while true ns = select(socks) next if ns == nil for s in ns[0] if s == server （以下略） ８行目のfor s in ns[0]の使われ方が納得できません。 ｓにns[0]を入れると、＜＜を使っても変更されないから、意味がないと思うのですが、なぜここでforを使ってるんでしょうか？ ns[0]を消去するようなメソッドはforの下ではつかわれていないようにみえるのですが・・・。
Rubyでプログラミングを習っています。 入力した内容を配列になおす方法をおしえてください。
Procの==はほとんど常にfalseを返す？ Proc#==は同じインスタンスであるか、それぞれのインスタンスの内容がまったく同じ場合にtrueを返すことを期待していたのですが..なぜ以下のようなことが起きるのでしょうか？ >> Proc.new{}==Proc.new{} => true >> a = 1 => 1 >> Proc.new{a}==Proc.new{a} => false 私の想像の及ばないところで何か起きているような気がしています。ご教授下さい。
いつもお世話になっております。 rubyで分からないことがあります。 ご存知の方がおられましたら、ご教授お願い致します。 【質問】 以下の文字列があるとします。 (文字列) <!-- Advertiser 'XXX', Include user in segment 'test' - AAA -->\n<img src=\"BBB\" width=\"1\" height=\"1\" />\n<!-- End of segment tag -->\n<!-- Advertiser 'XXX', Exclude user from segment 'test' - AAA -->\n<img src=\"CCC\" width=\"1\" height=\"1\" />\n<!-- End of segment tag --> この文字列を以下の様に変数1、変数2に入れたいのですが、 どのようにプログラムを記述すればよいでしょうか？ (変数1の内容) <!-- Advertiser 'XXX', Include user in segment 'test' - AAA -->\n<img src=\"BBB\" width=\"1\" height=\"1\" />\n<!-- End of segment tag --> (変数2の内容) <!-- Advertiser 'XXX', Exclude user from segment 'test' - AAA -->\n<img src=\"CCC\" width=\"1\" height=\"1\" />\n<!-- End of segment tag -->
改行文字について質問 Rubyで文字列を作る際、改行といえば\nですが、HTTPクライアントを作成する際のHTTPクライアントのリクエストには改行する際\r\nか\rを使っています。このリクエスト部分で今まで使っていた\nでやらないのはRubyとは異なる言語だからなんでしょうか？ この部分もRubyなら、なぜ\nだけでやらないのでしょうか？CRとLFの名前と意味はわかってるのですが、文字列のところでは\nだけでCRの効果も得られたと思います。 よろしくお願いします。
Routing Error rails プロジェクトフォルダ内に　「user」フォルダーを作成し その中にあるhtmlfileを表示させたいです。 /user/test.html routing error になってしまい表示することができません。 どうやれば表示することができますでしょうか？ 宜しくお願い致します。
ping送信プログラムについて require "ping" host = "localhost" puts Ping.pingecho(host) というプログラムを実行すると、以下のようにエラーが出ます。 C:/src/ping.rb:4:in '<top (required)>': uninitialized constant Ping (NameError) from ping.rb:1:in 'require' from ping.rb:1:in '<main>' requireが未定義ということなんでしょうか？ 使用しているRubyは1.91です。 宜しくお願いします。
Ruby on Railsで作られたアプリのたくさんあるサイトを教えて下さい。 Ruby on Railsの勉強をしているのですが、とりあえず超基本は覚えたので、Railsで作られたアプリ（サイト） をいろいろ読んでみて勉強したいと思います。 以前にRailsのアプリがたくさん載っているサイトをどっかで見つけたのですが、忘れてしまいました。 大規模なものだけでなく、数ページで出来ているような小さなアプリもあるようなサイトでした。 何かご存知のサイトがあればぜひ教えて下さい。
Railsによるブログアプリ、記事閲覧ページ内の「前の記事へ｜次の記事へ」の実装 よくあるブログの記事閲覧時(scaffoldで言う所のshowアクション)に下の方にある、 「前の記事へ｜次の記事へ」 というリンクの実現につまずいております。。。 users：ユーザー情報のモデル blog_entries：ブログの記事モデル それぞれのテーブルはuser_id、blog_entry_idと言った感じで紐付いています。 どのユーザーが記事を書いても、blog_entryのテーブルのレコードとして格納され、 indexページなどで、ユーザー毎の記事をとり出す時は、以下のようにしています。 @user = User.find(params[:user_id]) @blog_entries = BlogEntry.paginate( :conditions => [ 'user_id = ?', @user ], :page => params[:page], :per_page => 10, :order => "created_at DESC" ) $page_title = "#{@user.name}さんの日記一覧" このような場合、 記事閲覧時の「前の記事へ｜次の記事へ」のリンクを実装する場合、 どのようなアイデアがございますでしょうか。 詳細に欠ける質問で大変恐縮ではございますが、 皆さまにお力添えいただければ幸いです。 宜しくお願いいたします！
エクセルのデータをTAB区切りテキストに出力 １．エクセルのデータをTAB区切りテキストに出力して ２．そのテキストを入力としてrubyでデータ加工 という作業があります。現在１を手動で行っておりますが、ファイルが多いためこの操作をファイル名とシート名を指定してrubyから操作できればと考えております。 できれば追加でライブラリをインストールすることなく実現できればありがたいのですが、簡単な方法がございましたらご教示ください。 環境は、Win XP、Office 2003、ruby 1.9.1です。 最終的にはエクセルファイルから直接データを取得できるようにしたいのですが、当面は上記の方法で凌ぎたいと考えております。
rubyのWatirでIEが起動しない。 こんにちは rubyをはじめて使ってみたものです。 自動化のためにWatirを使用したいです。 インストールは無事終わっていますが、サンプルプログラムを叩くと以下の様なエラーが出てしまいにっちもさっちも行きません。 IEも起動できません。 どなたか助けていただけると本当にうれしいです。 サンプルプログラム require 'watir' agent = Watir::IE.start "http://www.google.co.jp/" ruby.exe -コンポーネントが見つかりません msvcrt-ruby18.dllが見つからなかったため、このアプリケーションを開始できませんでした。アプリケーションをインストールしなおすとこの問題は解決される場合があります。 C:/Ruby191/lib/ruby/gems/1.9.1/gems/windows-api-0.4.0/lib/windows/api.rb:1:in `r equire': 126: 指定されたモジュールが見つかりません。 - C:/Ruby191/lib/ruby/gem s/1.9.1/gems/win32-api-1.4.6-x86-mingw32/lib/win32/api.so (LoadError) from C:/Ruby191/lib/ruby/gems/1.9.1/gems/windows-api-0.4.0/lib/windows/a pi.rb:1:in `<top (required)>' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/windows-pr-1.0.9/lib/windows/er ror.rb:12:in `require' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/windows-pr-1.0.9/lib/windows/er ror.rb:12:in `<top (required)>' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/win32-process-0.6.2/lib/win32/p rocess.rb:1:in `require' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/win32-process-0.6.2/lib/win32/p rocess.rb:1:in `<top (required)>' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/watir-1.6.5/lib/watir/ie-proces s.rb:1:in `require' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/watir-1.6.5/lib/watir/ie-proces s.rb:1:in `<top (required)>' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/watir-1.6.5/lib/watir/ie.rb:45: in `require' from C:/Ruby191/lib/ruby/gems/1.9.1/gems/watir-1.6.5/lib/watir/ie.rb:45: in `<top (required)>' from gui.rb:2:in `<main>' rubyのバージョンは C:\ruby>ruby -v ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-mingw32] です。 One-Click Ruby Installer for Windowsを使用してインストールしました。 watirは以下のURL通りにインストールしました。 gem update --system gem install watir http://www.sixapart.jp/techtalk/2008/06/watir_1.html OSはwindowsXP SP2です。 どなたか本当に助けていただけると感謝でいっぱいの気持ちになります。 どうぞよろしくお願いいたします。
rubyを使ってhttp経由で外部プログラム起動させたい httpを経由して遠隔にあるPCのローカルスクリプトやC言語の実行バイナリを起動するにはどうすればよいでしょうか？ スタンドアロンの場合は、 system "ruby hello.rb" system "ruby c:\\test\\hello.rb" system "sample.exe" などで外部プログラムを起動できると思いますが、これを遠隔ＰＣに対して行いたいです。 イメージとしては、（アドレスはテスト用として） system "ruby http://localhost/hello.rb" のようなことがしたいのですが・・・ よろしくお願いいたします。
Ruby on Rails 「attr_accessor」 の使い方について こんにちは。 現在、Ruby on Railsで登録画面を作成しているのですが、attr_accessorで定義した項目に対して、validationのチェックを行うと、問題が起きてしまいました。 attr_accessorで定義した項目は、DB登録の対象ではないのですが、lengthのチェック等を行う必要があり、validates_length_of等を使って入力チェックを行っています。 問題になったのは、入力があったときだけチェックをかけたいのに、入力がなくてもチェックがかかってしまうという状態になってしまうことです。 「:if => 項目?」を書いてみると、「undefined method」のエラーがでてしまいます。 どなたか対応策の分かる方がおられましたらご教授いただけないでしょうか？ 下記に実際の問題箇所のモデルクラスのソースを書いておきます。 　class User < ActiveRecord::Base 　　　attr_accessor :NEW_USER_PW　← 追加したアクセサ 　　　# 追加したアクセサに対するチェック 　　　validates_length_of :NEW_USER_PW, :minimum=>4, :message=>"は%d桁以上を設定してくださ　　　　　　　　　　　　 　　　　い。", :on => :update, :if => :NEW_USER_PW? 　end 上記のチェック内の「:if => :NEW_USER_PW?」で落ちてしまいます。 入力がないのにチェックに引っかかるとまずいので、入力がないときだけ上記チェックを行えれば良いのですが・・・。 どうぞ宜しくお願い致します。
16進数を表す0xって何？ 多くのプログラム言語で16進数を表す接頭語として0xが使われますが、これって何かの省略なのでしょうか？ お教え願います。
rubyの文法について質問です。 aaa = `diff -q bbb ccc` のような形でdiffコマンドの実行結果をaaaに格納したいのですが bbb及びcccを任意に入力したく、一度getsメソッドでbbb,cccそれぞれに文字列を代入したのですが、それをバッククォーテーション内で使用できず困っています。 なにか解決策がありましたらご教授いただけるとありがたいです。 よろしくお願いします。
macでrubyを使用するには？ プログラミングの初心者です。 仕事上、プログラミングができるようになりたいと思っております。 そこで教えてください。 macのOS Xには最初からrubyがインストールされていると聞きますが、 そもそもどこにあるのでしょうか？ また、どのアプリ上で使用するのでしょうか？ 初級の質問ですいません。 よろしくお願いします。 それから、rubyについて解りやすいサイトなど教えていただければ助かります。m(__)m
サロゲートペアの文字コード→文字変換 Windows上でRubyを使って文字コードの書かれたファイルを読み込んで文字を出力しようとしています。 サロゲートペアの文字コードを文字に変換するにはどうしたらいいでしょうか？ たとえば上位サロゲートがa、下位サロゲートがbであるとき、JavaScriptでは次のようにすれば文字が得られるようです。 var s; s = String.fromCharCode(a,b); alert(s); （参考：http://codezine.jp/article/detail/1592） これをRubyでやろうとしていていろいろ調べてみたのですが、探し方が悪いのかわかりません。 どう書けばよいのか教えてください。 なお、WinsowsはXPです。ファイルに出力して正しく出力されているかどうかを確認しています。 よろしくお願いします。
rubyの正規表現で"["を使いたいのですが、正しく実行できません #! ruby -Ks a ="test[test" b ="test[" if /#{b}/ =~ a print "hit" end エラー内容は test.rb:4: invalid regular expression; '[' can't be the last character ie. can't start range at the end of pattern: /test[/ (RegexpError) "\["と文字を入力することで解決するかと思いましたが上手くいきませんでした。 rubyのバージョンは1.8.2です。宜しくお願いいたします。
rubyでcgiのセッションを利用したいと考えています。サンプルプログラムをまるまるコピーさせてもらって試したところ全く動きません（リロードするたびにカウントが増えるはずですが常に0）。そもそも何も保存されていないようです。しかし特にエラーは出ていません。以下のサンプルプログラムのページにあるものはきちんと動作しています。 http://d.hatena.ne.jp/unageanu/20080607 http://unageanu.sakura.ne.jp/blog-samples/080607/session.cgi perlのサンプルを試してみたところきちんと動いたのでサーバ設定の問題ではないと思っています。rubyでセッションを使うために事前準備等が必要なのでしょうか？ちなみにrubyのバージョンは1.8.7です。
Rubyでテキスト内容を別のテキストに一度に出力したいのですが、どのようにすればよいのでしょうか。 rubyはさっきはじめたところです。 一通り検索しましたが、やり方がヒットしませんでした。 a.txtの内容: aaaaa bbbbb ccccc ... を、ファイルコピーではなくoutput.txtに出力したいのですが、 a = open("a.txt") o = open("output.txt",w) ??? a.close o.close で、???の部分にどのような処理を書けばよいのでしょうか。 putsやwriteで書いてみたのですが、(o.write a) #<File:0x28a4450> と出力され、（ファイルオブジェクトのアドレス？）、a.txtの内容が出力出来ませんでした。 a.xxx のようにするのかな、と予想しますが、方法は問いませんので、ご教示いただけないでしょうか。
define_singleton_methodについて 1.9.1p378を使用しています。 メタプログラミングに興味があって、 Classに動的に生成したmethodを追加する方法を調べてみると 色々な教科書にdefine_methodを使う例が書いてあるのを見つけました。 しかし、実際にプログラムしてみると"undefined method"になってしまいます。 Class.methods.grep /define/ してみると、"define_singleton_method"というものがあり、 define_methodの代わりに使ってみたら一応期待通りに動作しました。 googleで調べてみてもdefine_singleton_methodについて解説が見つけられませんでした。 1.9系になって名前が変わったのでしょうか？ それとも似て非なるものなのでしょうか？ 詳しい方、教えてください。＜(_ _)＞
rubyでScalaのようにコールバックを変数として定義するには？ 最近Scalaの勉強を始めました。自分の一番好きな言語はrubyなので、比較しながら勉強してます。 参考書によると、関数をオブジェクトとして扱えるのがScalaの特徴との説明がありました。例えば、以下のような例なのですが、（行頭スペースは全角） class Kuku(a:Int,b:Int){ 　def calc(func:(Int,Int)=>String):String={ 　　return func(a,b)+a*b 　} } val f1=(a:Int,b:Int)=>a+"*"+b+"=" println(new Kuku(3,5).calc(f1)) これをrubyで書くと、（行頭スペースは全角） class Kuku 　def initialize(x,y) 　　@x=x 　　@y=y 　end 　def calc 　　yield(@x,@y)+(@x*@y).to_s 　end end puts Kuku.new(3,5).calc{|a,b| a.to_s+'*'+b.to_s+'='} とまでは書けたのですが、コールバック（ブロックパラメータの部分）、上記例だと |a,b| a.to_s+'*'+b.to_s+'='　の部分 を変数として定義（Scalaの例のf1として定義するところ）する方法を知りません。 このように関数を変数として定義する事ってrubyではできないと考えるのですが、そういった認識で間違いないでしょうか？ ご指導の程、よろしくお願いいたします。
Array#shift().to_iの意味 Array#shift()メソッドの意味は先頭の要素を配列から取り除いて、それを呼び出し元に戻すものだと思います。 to_iメソッドは数字に変換するものだと認識しています。 では、Array#shift().to_iメソッドはArray#shift()メソッドで戻す要素を数字に変換するという理解でよいのでしょうか？
消えたコロン 以下のプログラムを実行すると、「ruby」と出力されます。なぜ「：」が表示されないのか、納得できません。どなたか、理由を解説できる方はいらっしゃいませんでしょうか？なるべく簡単な言葉でお願いします。 def func(x) puts(x[:name]) end func(:date =>Time.now, :name => :ruby, :version => 1.9)
rubyでnums.each_char()の意味を探したい 参考書で、nums.each_char()の意味を探したいのですが、どうすればいいのでしょうか？普通にリファレンスを見ると、each_char()の別のクラスでの説明は見つかるのですが、numsクラスの説明がありませんでした。このような時、どうすれば解決できますでしょうか？このメソッドの意味と探す方法を教えてください。 当方初心者なので、簡単な言葉で説明してくださると助かります。 よろしくおねがいします。
twitteのソースでエラーが出てしまう件 http://oshiete.goo.ne.jp/qa/5844244.html で、皆さんに教えていただいたお陰で、 twitterをインストールする事が出来ました。 ありがとうございます。 早速、以下のソースを試してみました。 ファイル名「1.rb」 require 'rubygems' require 'twitter' httpauth = Twitter::HTTPAuth.new( ユーザー名 , パスワード ) o_twit = Twitter::Base.new( httpauth ) ところが、 H:\Program Files\Ruby-1.9.1\bin>ruby 1.rb と、実行すると、 1.rb:2:in `require': no such file to load -- twitter -v 0.7.0 (LoadError) from 1.rb:2:in `<main>' というエラーが出ます。 ちなみに、 H:\Program Files\Ruby-1.9.1\bin>gem 1.rb と、実行すると、 ERROR: While executing gem ... (RuntimeError) Unknown command 1.rb というエラーが出て、実行できません。 これは、twitterがインストールされていないのでしょうか？ それともソースがおかしいのでしょうか？
ruby on railsのscaffoldで配列を定義するには rails2.3での質問です。 通常、scaffoldで >ruby script/generate migration TestData name:string id:integer のようにデータ構造を指定すると思うのですが、この時に配列を定義するには どうしたら良いのでしょうか？ 通常の（Ｃ言語のような）配列でもハッシュでも構いません。 よろしくお願いいたします。
Rubyの入門書について Rubyの勉強を始めて２週間、いま、ある本でつまずいています。今使っている本は「Ruby２　さまざまなデータとプログラミング」という本を使っているのですが、この本の一巻はまだわかりやすかったのですが、この本は急に説明が投げやりな感じがします。メソッドの説明で「自分で調べてください」だの、問題の解説がほとんどないなど、非常に不親切な感じがします。３日かけても１ページ進まないことなどざらで、自分にはこの本は早かったんだろうかと思い始めました。一方で、ここで逃げてしまってはいけないという風にも思います。ちなみに、私のRubyに関する知識は今使ってる本と、その一巻だけです。 そこで、質問です。特に「たのしいRuby」をやった時点でプログラム素人だった方に聞きたいのですが、「たのしいRuby」を一通りやるのにどのくらいの時間がかかりましたか？ また、「Ruby２さまざまなデータとプログラミング」をもっている方、この本は本当に初心者向けなんでしょうか？ 最後にこの質問を見てくれた皆様に質問です。短かいにもかかわらずわからないプログラムを見て、数日も考え続けるのは時間の無駄でしょうか？それともみんな初めはこんなもんなんでしょうか？
ギャスケット作成。修正の解説をお願いします。 入門書の問題で、二次元配列を使ってパスカルの三角形を作り、そこからシェルピンスキーのギャスケットを作りたいと思い、以下のプログラムを書きました。 ピクセルの指定の部分は省略します。 （↓パスカルの三角形の部分） pas = Array.new(HEIGHT) {|i| Array.new(WIDTH, 0)} pas[0][WIDTH / 2] = 1 for i in (1..HEIGHT - 1) for j in (1..WIDTH - 2) pas[i][j] = pas[i - 1][j - 1] + pas[i - 1][j + 1] end end で、２行目のpas[0][WIDTH / 2] = 1の、「WIDTH / 2」がまずかったらしく、パスカルの三角形の左下と右下が残念な感じになってしまいます。左下はすっぽ抜けていますし、右下には必要ないところで三角形が入ってきています。何でこんなことになるんでしょうか？簡単な言葉で説明してくださると助かります。 答えを見ると、「WIDTH / 2」を「WIDTH」に、「WIDTH」を「WIDTH*2」にかえてうまく出来てるんですが、なんでそうなるのっていう感じです。 私が持っている入門書の解説には、「加えるべき数字が利用できないことが原因です」とだけしか解説してません。 ここからはあまり関係ないと思うのですが ビットマップファイル作成の部分です。 File.open("gasket.bmp", "wb") do |file| file.write(["BM", HEADERS_LEN + WIDTH * HEIGHT, 0, HEADERS_LEN].pack(BITMAPFILEHEADER)) file.write([INFOHEADER_LEN, WIDTH, HEIGHT, 1, 8, 0, 0, 0, 0, COLOR_USED, COLOR_USED].pack(BITMAPINFOHEADER)) file.write("\xff\xff\xff\0") file.write("\0\0\0\0") (HEIGHT - 1).downto(0) do |y| 0.upto(WIDTH - 1) do |x| if pas[y][x] % 2 == 0 file.write("\0") else file.write("\x01") end end end end uptoの前の部分が０になっていますが、正解例は３２０になっています。ちなみに、ピクセル指定の部分で、WIDTHは６４０になっています。これもなんだかよくわかりません。 私は、一行目で配列のすべてにゼロが入っているから、「加えるべき数字」である数はすべての配列に入っていて、 Nilになるところはないと思うのです。 グーグル先生には聞きましたが、わかりませんでした。一言でもかまいませんので、どうか、よろしくお願いします。
パスカルの三角形をＲｕｂｙで作る際、２次元配列をつかって、以下のようになりました。 ビットファイルの作成部分や、ピクセルの指定の部分は省略します。 pas = Array.new(HEIGHT) {|i| Array.new(WIDTH, 0)} pas[0][WIDTH / 2] = 1 for i in (1..HEIGHT - 1) for j in (1..WIDTH - 2) pas[i][j] = pas[i - 1][j - 1] + pas[i - 1][j + 1] end end この中で、pas[i][j] = pas[i - 1][j - 1] + pas[i - 1][j + 1]とありますが、 （i,j)=(1,1)とすると、pas[1][1] = pas[0][0] + pas[0][2]で、 （i,j)=(1,２)とすると、pas[1][２] = pas[0][１] + pas[0][３] で続いていくわけですが、これでパスカルの三角形がなぜかけるのか、非常に疑問です。 どなたか、このプログラムがどうしてパスカルの三角形が書けるのか、プログラムの流れに沿って解説できる方、いらっしゃいませんか？
Classの中のClass定義について 主にWindows環境でrubyを使用しているライトユーザーです。 ネットでソースを拝見していると、Class定義の中に更にClass定義がされているプログラムをみることがあります。以下のような感じですね。 Class Foo 　Class Bar 　…… 　end …… end このようにClass定義を他のClass定義の中に書くのは、どのような理由によるのでしょうか？ 素朴な疑問です、ご教示いただければ嬉しいです。
rubygemsとruby twitter gem　ライブラリーを読み込もうとすると エラーになってしまいます。 －－－－－－ require 'rubygems' require 'twitter' エラーメッセージ H:\Program Files\Ruby-1.9.1\bin>gem ruby 1.rb ERROR: While executing gem ... (RuntimeError) Unknown command ruby H:\Program Files\Ruby-1.9.1\bin> －－－－－－－－－－－－－－－－－－－ Ｗｉｎｘｐです。 ご指導のほどお願いします。
ruby1.9からtwitterライブラリをインストールするとエラーになってしまいます。 環境はＷｉｎｘｐです。 H:\Program Files\Ruby-1.9.1\bin>gem install twitter と、すると、以下のエラーメッセージが・・・。 Building native extensions. This could take a while... ERROR: Error installing twitter: ERROR: Failed to build gem native extension. "H:/Program Files/Ruby-1.9.1/bin/ruby.exe" extconf.rb install twitter creating Makefile nmake 'nmake' は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチ ファイルとして認識されていません。 Gem files will remain installed in H:/Program Files/Ruby-1.9.1/lib/ruby/gems/1.9 .1/gems/yajl-ruby-0.7.5 for inspection. Results logged to H:/Program Files/Ruby-1.9.1/lib/ruby/gems/1.9.1/gems/yajl-ruby -0.7.5/ext/gem_make.out －－－－－－－－－－－－－－－－－－－ ちなみに、 H:\Program Files\Ruby-1.9.1\bin>gem install twitter4r とすると、インストールは出来ます。 ただ、requireでtwitterを読み込もうとすると 「msvcrt-ruby18.dllがありません」 と言うエラーになってしまいます。 助けていただければ幸いです。
Rails コンボボックスの値の保持について(select_tag,collection_select) こんにちは。 Ruby on Railsで簡単な一覧検索画面を作成中の者です。 検索時の検索条件にコンボボックスを使用しており、検索後にコンボボックスの値を保持したいのですが、どうしてもできません。 どなたかお分かりの方がおられましたらご教授いただけないでしょうか。 下記、作成中のソースです。 Viewの検索条件部 <%- form_tag({:action => "search"},{:method=> "GET"}) do -%> <th class="U" align="left" width="10%"><label for="userNm">ユーザー名</label></th> <td width="90%"><%= text_field_tag :userNm, @userNm %></td> 　<th class="U" align="left" width="10%"><label for="authCd">社員権限</label></th> <td width="90%"> 　<%= collection_select(:auth, :authCd, Auth.find(:all, :order => "AUTH_CD"), :id, :AUTH_NM, :include_blank => true) %> 　<td align="center"><%= submit_tag '検索' %></td> Controllerクラス： def search #画面パラメータから検索条件を作成 c = Condition.new # ユーザー名 userNm = "" if params[:userNm] userNm = params[:userNm] c.and "USER_NM", "LIKE", "%#{userNm}%" end # コンボボックスの値を取得 if params[:auth] && !params[:auth]["authCd"].blank? c.and "AUTH_CD", params[:auth]["authCd"] end # 検索処理 @users = User.paginate(:order => "USER_ID asc", :per_page => 5, :page => params[:page], :conditions => c.where) # 検索条件保持 @userNm = params[:userNm] # コンボボックスの値が保持できない if params[:auth] @auth_authCd = params[:auth]["authCd"] end respond_to do |format| format.html # index.html.erb format.xml { render :xml => @users } end end 見づらくて申し訳ありませんが、ざっと上記のようになっています。 もう1つの検索条件であるユーザー名(userNm)は保持できるのですが、コンボボックス(社員権限)の値が保持できません。 select_tagや、selectも使ってみたのですが、どちらも同じ結果でした。 コンボボックスの条件は、Authモデルから値を読込み、一番上は空白にする。というものです。 どのように記述すれば保持できるのか色々調べてみたのですが、結局分からず仕舞いでした。。 どうぞ宜しくお願い致します。
Rubyのプログラミングをする環境をUSBメモリ上に整えることはできるでしょうか。 高校の課題研究でRubyでのゲーム制作をしようと思っているのですが、 学校のパソコンにActiveScriptRubyを入れられるか分からないので、 USBメモリにインストールしたいのですが、 初めてActiveScriptRubyをパソコンにインストールしたとき、 正常に動作せず、調べてみるとVistaの場合はCドライブ直下にインストールするとのことでした。 なのでただUSBメモリに入れた場合正しく動作しないと思うのですが、 どうすればいいでしょうか。 教材として「Rubyではじめるゲームプログラミング」という本を使いたいので、 ActiveScriptRuby、MyGame、Ruby/SDLというのをインストールしなければいけないみたいです。 Rubyどころかプログラミングすらまともにできない初心者なので、 もしかしたら上の質問でおかしいところがあるかもしれませんが、 教えていただけると助かります。 家と学校のパソコンはどちらもWindowsVistaです。 USBメモリは4GBです。 できれば学校のパソコンにはなにも入れないようにしたいと思っています。 また、上の条件では無理がある場合は代用品などで補うことができれば、 それでも大丈夫だと思います。 最終目標としてはゲームが作れればいいと思っています。
言語はRubyを使っているのですが、現在OAuthを使ってTwitterアプリを作ろうと思っています。 そこでgemのoauth 0.3.6を入れ、色々なページを参考に作ろうと思っているのですが、request_tokenが旨く取得できません。 何故か認証エラーになってしまいます。 以下がコードになります。 ========================= require "oauth" oauth = OAuth::Consumer.new("Key", "SecretKey",{:site => "http://twitter.com"}) oauth.get_request_token(:oauth_callback=>"callback先url") ========================= 上記のコードをirbにて入力した際に出力されるエラー内容はこちらです。 OAuth::Unauthorized: 401 Unauthorized C:/Ruby/lib/ruby/gems/1.8/gems/oauth-0.3.6/lib/oauth/consumer.rb:200:in `token_request' C:/Ruby/lib/ruby/gems/1.8/gems/oauth-0.3.6/lib/oauth/consumer.rb:128:in `get_request_token' ちなみに開発環境は以下です。 Windows XP SP3 Ruby 1.8.6 Ruby on Rails 2.3.5 Mysql 5 もし上記、わかる方がいらっしゃいましたらご教授頂けないでしょうか？ よろしくお願いいたします。
仕事でのデータ処理用にRubyで小さなプログラムを書いて使用しています。 今まで1.8系を使用していたのですが、そろそろ1.9系への移行をしたいと考えております。 そこで気になったのがソースの最初に書く # -*- coding: utf-8 -*- の表記です。 この"utf-8"の部分に書く文字コードの表記一覧（？）はどちらを参照すればよろしいのでしょうか？ 例えば、私はWindows環境での使用になるのでシフトJISコードの場合が多いのですが、書き方として"SHIFT-JIS"、"Shift-JIS"、"SJIS"等のうち、どの表記が正解なのか判りません。 非常に初歩的な質問で申し訳ありませんが、ご教示いただければ幸いです。
Windows版Rubyの質問です。 前回、別マシンに、ruby1.8.7 p249のインストールパッケージをインストールしたのですが、そのパッケージの名前とサイトアドレスを失念してしまいました。 activescriptrubyではなく、他のものです。 perlでいう Action Perl のようなパッケージで、rubyのパスの設定などを自動でしてくれるものです。 windowsのスタートメニューのruby 1.8.7 p249から、 ruby gemsやruby用のコマンドプロンプトが選択できるようになるものです。 どなたかご存知の方、「これじゃないの？」というのがあれば、何でもかまいませんのでご教示いただければ幸いです。 ぐぐったのですが見つかりませんでした。
Rubyにおける、XPathの関数「text()="x"」への変数の使用方法 お世話になります。 RubyにてXPathの関数「text()="x"」"x"の部分に変数を使用したいと思い、コードを作成しています。 text() 関数のところで困っています。 例えば <?xml version="1.0" encoding="UTF-16"?> <NameRoot> <Text> <Name>あああああ</Name> <No>001</No> </Text> <Text> <Name>いいいいい</Name> <No>002</No> </Text> <Text> <Name>ううううう</Name> <No>003</No> </Text> </NameRoot> の内容のファイルを読み込み、その中から該当するNoに相当するNameを取得しようと しています。 で、書いたのが下記のような内容なのですが、gettestクラスのgetNameメソッドにて コメントアウトしてある行であれば、決め打ちでNo="001"の物を取ってこれるのですが、 ここに引数として渡されたローカル変数の、idを使用しようとするとnode変数にNilClass が返ってきて取得できません。 文字列リテラルを色々調べてみたのですが、どうも上手く行かず困っています。 他愛も無い質問かもしれませんが、大変困っています。 どなたか知恵をお貸しくださいますようお願い致します。 class gettest def getName(id) #↓これがきちんと動きません node = REXML::XPath.first(@masterdata, '//NameRoot/Text/No[text()="#{id}")]') #↓こちらは当然ながら動きます # node = REXML::XPath.first(@masterdata, '//NameRoot/Text/No[text()="001"]') path = (node.xpath + "/../Name") @name = @masterdata.elements[path].text() end end class main def edit @mastername = "" @mastername = @master.getName("001") print @mastername end end
http://jp.rubyist.net/magazine/?0004-Win32OLE このリンクを教えていただきましたが、わかりません。 具体的な目的を提示します、具体的な方法と必要ならばその 情報もとも教えていただけるとうれしいです。 a=3 + 4 b=5 + 2 puts a puts b この　puts a と　puts b　を　エクセルの A1　と　A２　に出力させる具体的な方法を 教えてください。
ルビーで出た値を、エクセルのセルに自動的に入力させる方法はありますか？ puts 3　 puts 9 を セルに 　A　B １３ ２９ と表示させたいのです。
スクリプトファイル名を取得するには？ 今日から書籍を読みながら、Rubyの勉強を始めました。 Rubyを学ぶ上で重要ではないことなのですが、教えてください。 コマンドラインからRubyスクリプトを実行した場合、そのスクリプトの中で実行したスクリプトのファイル名を取得したいです。例えば、次のコマンドを実行した場合、"hoge.rb"を取得したいです。 > ruby hoge.rb スクリプトにハードコーディングすることなく、スクリプトファイル名を取得することは可能なのでしょうか？ よろしくお願いします。
以下のスクリプトをWindowsで動かしたときにはちゃんと最後まで動くのに対し、Linuxで動かすとループの２週目でとまってしまいます。 こういうことって結構よくあることなんですか？？ 解決法などご存知の方いたら教えてください ーーーーーーーーーー PKTMP="C6C6nCCnnnCCnC4C4" HEADLEN=34 ST = Struct.new(:tomac,:frommac,:toip,:fromip,:ttl,:prot,:data) def analyze(data) 　result = Array.new 　i=0 　while data 　　head = data.unpack(PKTMP) 　　if (head[12] != 0x800) || (head[13] != 0x45) 　　　result << "error! in No.#{i} packet" 　　　return result 　　end 　　tmp = ST.new 　　tmp.tomac = macaddr(head,0) 　　tmp.frommac= macaddr(head,6) 　　tmp.toip = ipaddr(head,-8) 　　tmp.fromip=ipaddr(head,-4) 　　tmp.ttl = sprintf("%d",head[18]) 　　tmp.prot = sprintf("%d",head[19]) 　　data.slice!(0...HEADLEN) 　　datalen = head[15] - (head[13] & 0xf)*4 　　tmp.data = data.slice!(0...datalen) 　　result << tmp 　　i+=1 　end # end of (while data ) 　return result end
rubyでスレッドを作成して内部で外部コマンドを実行しました． するとコマンドが終了するまで止まってしまいます． ググってみたら ”WindowsのRubyでThread内でプロセス作成すると止まっちゃう”とあり http://ecpplus.net/weblog/windows_ruby_threa/ ソースまでありましたが，私の環境はlinuxなので実行できません． linux環境でこの問題を解消する方法はありますでしょうか？ ご教授願います
メソッド定義　a(ｂ,ｄ) ｂの中からｄつを選ぶ組み合わせの個数 a(7000,3500)*((1.0/ 300)**3500)*((299.0/ 300)**3500) これを計算させるにはどうしたらいいのでしょうか？ begum out of float range のエラーがでます。
rubyでout of float range と算出されました。 これは計算の桁が大きすぎるためなのでしょうか。 ルビーは計算の桁がメモリーの許す限り無限と聞いたのですが。 どういう意味なのか教えていただきたいです。
Rubyのイテレータで分からないところがあります。以下のコードです。 if文のところで「yield x」が真なら「return x」を実行すると 推測できるのですが、 その実行結果はこれです。 > irb> a = [1, 2, 3, 4, 5] > => [1, 2, 3, 4, 5] > irb> find(a) {|x| x % 2 == 0} > => 2 > irb> position(a) {|x| x % 2 == 0} > => 1 > irb> count(a) {|x| x % 2 == 0} > => 2 例えば、find関数なら引数は「x」ですが「x % 2 == 0」 と条件式をブロックに書いているのが分かりません。 全体の流れとしてはfind関数なら2で割り切れたのが「２」と「４」で2つあるので 関数の結果は「２」というのは理解できます。 しかし、具体的に「return x」「 if yield x」が何をしているのかが分かりませんでした。 if「もし」yield x「なら」return xを実行する、様なコードなのですが・・・。 またfind(a)なら、引数xが２で割り切れるのなら条件式は「真」なので 真の数字をカウントする、様なコードなのですが・・・。それ以上詳細に教えてくれると助かります。 何方かご存知でしたら教えてください。 > リスト 1 : データの探索 (イテレータ版) > > # ブロックが真となる要素を探す > def find(ary) > for x in ary > return x if yield x > end > false > end > > # ブロックが真となる要素の位置を返す > def position(ary) > for x in 0...ary.size > return x if yield ary[x] > end > false > end > > # ブロックが真となる要素の個数を求める > def count(ary) > c = 0 > for x in ary > c += 1 if yield x > end > c > end なおこのコードが載っているサイトはここです。 http://www.geocities.jp/m_hiroi/light/abcruby08.html
分数の足し算をしたいのですが。 1.0/3 = 0.33333333333333 の１５桁では、精度が足りません。 精度を１０００桁にしたいのですがどうしたらいいのでしょうか？ 1.0/3 = 0.3333333333333333.....1000桁。
rubyで１０Ｃ０～１０Ｃ１０までの値をすべて合計する 計算をさせようと思って作ったのですが。 定義はうまくできa(10,1)=10と計算できるのですが whileで合計させているところがうまくいきません。 関数的にはあっていると思うのですがnilエラーになってしまい ます。原因はなんなのでしょうか。。。 定義開始 ーーーーーーーーーーーーーーーーーーーーーー def a(g,h) puts a=1 b=1 while a<=g do b = b * a a = a + 1 end c=1 d=1 while c<=h do d = d * c c = c + 1 end e=1 f=1 while e<=g-h do f = f * e e = e + 1 end puts b / ( d * f ) end ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー 定義終了 aa=0 ab=0 while aa <= 10 ab=a(10,aa)+ab aa=aa+1 puts ab end これをすると　ab=a(10,aa)+ab ここがNoMethodErrorと表示され 解がでません。 また、ab=a(10,aa)+ab　これを　ab=a(10,aa)　こうすると 解がちゃんとでるのですが。 １ nil １０ nil ４５ nil ２１０ nil . . . となってしまいます。
ruby で　組み合わせの１０Ｃ０から１０Ｃ１０までの値をすべて合計した値を求めるアルゴリズムを作ったのですが、undefined method '+" for nil:NilClass(No Method Error)となってしまいます。 def で a(b,c)をｂＣｃと定義しており、4の＋ｊを書かなければ ちゃんと、１，１０、４５、、２５２と計算され表示されます。 この値の合計を出したいのですが、なぜエラーになるのでしょうか。 1 i=0 2 j=0 3 while i <= 10 4 j = a(10,i)　+ j 5 i = i + 1 6 puts k 7 end ーーーーーーーーーーーーーー たとえば階乗を求めるアルゴリズムで a=1 b=1 while a<=10 do b = b * a a = a + 1 end puts b の場合は、ちゃんと自己加算されます。
rubyで while end と関数を組みますが (1)while (2)while (2)end (1)end とした場合 (1)の間に(2)を組むような方法はあるのでしょうか？ その書き方を知りたいです。 (1)で開始され(2)で終わるのではなく、(1)で開始され(1)で終わるように 命令したいです。
ruby で　1/300.0 の　７０００乗　を計算させる事は可能なのでしょうか？ ( 1 / 300.0 )**7000　で計算させると　０．０　になってしまいます。
rubyで10C2を計算させるにはどう書いたらいいのでしょうか？ while を使うことはわかりました、、、
ＲＵＢＹで 階乗、組み合わせの個数（４Ｃ２＝６）、有効桁数を２０００桁にする プログラムの記述の方法を教えていただきたいです。
コピー元のあるサブディレクトリーを含めて、別ドライブにコピーをしたいと思います。（※プラットフォームは Windows） 別ドライブとは、ＵＳＢメモリです。 試してみたのは、 os = `xcopy .\org_data\*.* L:\ /s /e /v` os = `xcopy ./org_data/*.* L:/ /s /e /v` os = system(".\org_data\*.* L:\ /s /e /v") os = systemu(".\org_data\*.* L:\ /s /e /v") これら、いずれもＮＧでした。 xcopyに拘っていませんが、copy & compareをさせたいと思います。 何か良い方法を、知りませんか？
Ruby初心者です。 デクリメントするループの書き方がわかりません。 Ｃ言語でいうところの・・・ for(i = 10; i > 0; i--){ //処理 } という表現は、Rubyではどのように書くのが一般的でしょうか？ どなたか教えてください。よろしくお願いします。
CGIでのHTMLとプログラムコードの分離について CGIプログラミングのフレームワーク的なアイデアについてご教示願いたいです。 CGIを記述する場合、その多くは下記のようなスタイルになるのではないかと思います。 １．formタグのactionからcgiを呼び出す 　　　　↓ ２．cgiの中で計算やsendmail等の処理を実行 　　　　↓ ３．結果をブラウザ上に表示するためprint等を利用してhtmlタグを表示 この手法を用いると、手順２のところでHTML部分とプログラムコード部分が混合してしまい、見栄え(html部分)を変更しようと考えた時、HTML部分の記述があるcgiプログラムを編集し、該当する部分のタグを表示させているであろうprint文の表示内容を変更する必要があります。 見栄えのhtml部分とCGIのコードを完全に分離することは出来ないのでしょうか？？？ 上記手順の「１」に関してはhtmlファイルを編集する事だけで、cgiファイルを編集する必要はありません。 手順「３」もリダイレクトを利用すれば可能だと思います。 問題は、手順「２」の部分です。 この部分の見栄え部分を変えようとすると、どうしてもcgiプログラムを開いて編集する必要に迫られてしまいます。 下記の例のような処理(見栄え用のhtmlファイルを読み込む方法)は出来ないものでしょうか？ ＜例：アンケートフォーム＞ １．アンケートフォーム(html)のformタグにあるactionからcgiを呼び出す 　　　　↓ ２．cgiでformタグ内のテキストエリアやラジオボタン等の情報を収集 　　　　↓ ３．収集結果を表示させるための「hantei.html」を読み込む 　　　　↓ ４．読み込んだ「hantei.html」の中に収集結果を埋め込んで表示 　　　　↓ ５．問題なければアンケート結果をsendmail等でメール送信 　　問題あれば手順１のアンケートフォーム(html)へ戻る 　　　　↓ ６．無事にメール送信出来れば、有難うございましたページ(html)へリダイレクト 上記手順の３と４が実現できれば、見栄えを変えたい時はhtmlファイルを編集すればよく、cgiプログラムを触る必要がなくなるのではないかと思います。 私が考えている事について、「自分はこうしている」とか「そうではなくてこうすれば良いよ」などなどありましたら、是非ご教示願いたいです。
RubyによるCGIプログラミング(ページ移動) kamuycikapです。 Rubyを利用してCGIを書いています。 ＜やりたい事＞ HTML(A)　→　CGI　→　HTML(B) 上記のように、ホームページAのformタグからcgiをコールしております。 cgiから別ページに飛ぶにはどのようなコードを書けばいいのでしょうか？？ WWW::Mechanizeを利用してsubmitボタンをクリックするようなプログラムにしなければならないのでしょうか？ 今までは HTML(A)　→　CGI までで、CGIの中でputsやprintf等を利用してタグを出力し、ページを作っていましたが、やりたい事はCGIから新たに別ページに飛びたいのです。 httpタグで書くとするなら、<a　href="http://www.hogege/foo.html">bar</a>を踏むような感じをイメージしています。 識者の方、ご教示願います。
engawa.rb:17: syntax error, unexpected tGVAR, expecting $end str1 = "縁側でお茶が飲みたい" と文字列に日本語を代入しただけでエラーが出るのですが、これはなぜなんでしょうか？ よろしくお願いいたします。 環境のせいかもしれませんので書いておきます。 Linux,UTF-8,Ruby1.8です。
「たのしいRuby」は読み終わりましたが、コードも読めないしあまり書けません。２冊目に読む本かサイトを探していまいす。どなたかしっている方がいらしたら教えてください。よろしくお願いいたします。
RubyとPerlの関数（メソッド)その他対比表があるサイトや本がありましたら、ご紹介していただきたいのですがよろしくお願いいたします。
こちらのサイトを参考にさせていただきました． http://www.namaraii.com/rubytips/?%A5%D5%A5%A1%A5%A4%A5%EB%A5%A2%A5%AF%A5%BB%A5%B9 やりたいことはファイルにアクセスして2行目，3行目の文字列をとってくることです． ===foo=== hoge hige foobar File::open("foo") {|content| 　puts content.readlines[1] 　puts content.readlines[2] } このようなプログラムだと， hige nil となります．ですが，以下のように分割するとうまくいきます． File::open("foo") {|content| 　puts content.readlines[1] } File::open("foo") {|content| 　puts content.readlines[2] } hige foobar できればopenは一回だけで済ませたいのですが可能でしょうか？ Ruby初心者なのでくだらない質問かもしれませんが，ご教授ねがいます．
Rubyに、クラスメソッドというものがありますが、どういう時に使うのでしょうか？初歩的な質問で申し訳ありませんが、よろしくお願いいたします。
Ruby言語はPHPのようにMySQLと容易に連動出来るのでしょうか。
Ruby言語とPHPの連動は安易に出来るのでしょうか。たとえば、検索部分をRuby言語で作って、検索したデータをPHPに渡し表示することは出来ますか。
以下に示す（例１）を実行すると、 hoge defaultString と出力されます。 （例１）------------------------------------------------------ def hoge(str) b=(str||'defaultString') + "\n" STDOUT.write b end hoge("hoge")　#hoge hoge(nil) #defaultString ------------------------------------------------------------ 下記に示す例２は、例１の2行目と3行目を１行にまとめたものです。 例１と同じ実行結果を期待しています。 （例２）　---------------------------------------------------- def hoge(str) STDOUT.write (str||'defaultString') + "\n" end hoge("hoge") hoge(nil) ------------------------------------------------------------ しかし、例２を実行すると、以下の様なエラーが出ました。 ------------------------------------------------------------ hogewrite.rb:2:in `+': String can't be coerced into Fixnum (TypeError) from write.rb:2:in `hoge' from write.rb:4 ------------------------------------------------------------ 文法的に、何に違反してるのか、わかりません。 ご指導のほど、宜しくお願いいたします。
Ruby/gsl をWindowsで使いたいのですがどうすればいいのでしょう。 現状、Windows マシンでRubyが使えるようになっていて、 http://www.gfd-dennou.org/arch/ruby/index-j.htm からダウンロードした NumRu-0.42.exe を実行しても require "gsl" はエラーがでます。 さしあたり、gsl でなくても、N次元の（方程式N本、未知数N）の １次の連立方程式を解ければいいのですが、今後のことも考えて gslを使えるようにしたいのです。 Windows で gsl が使えないのであれば、あきらめます。 １次連立方程式の解くプログラムなどは公開されているのでしょうか。 どなたかご教授ください。
rubyのプログラムファイルを複数一度に 実行したいと思い 書籍をみて test.shというファイルに #!/bin/sh ruby xxx.rb ruby vvv.rb と書き $ chmod u+x test.sh $ test.sh と実行したのですが、エラーになりました ほかにも設定が必要でしょうか よろしくお願いいたします
はじめまして、初歩的な質問ですがご教授いただければ幸いです。 英文（１文ずつ改行されたもの）から" to "または"by "または" with "を含む文のみを表示する構想のスクリプトを作りましたが、それ以外の関係ない文も出力されてしまいます。 elsif～endまでを取り除くと、to（大文字小文字の区別なし）を含む文のみ出力してくれるのでおそらく悪いのはelsifの所だとは思うのですがなぜこれではだめなのかわかりません。 ほんとに馬鹿な質問ですが教えていただければありがたいです。よろしくお願いします。 a = Array.new 　　filename = ARGV[0] 　file = open(filename) while b = file.gets do 　　　b.chomp! 　　　 if b =~ /\s+to\s+/i then 　　　　 a << b 　　　elsif b =~ /by\s+/i 　　　　a << b 　　　else b =~ /\s+with\s+/i 　　　　a << b 　　　end end for c in a 　puts c end file.close
クラスの継承で「既存の機能に処理を追加して拡張」できるらしいのですが、そのような例をみたことがないので、どなたかサンプルとして書いていただけないでしょうか。よろしくお願いいたします。
初めまして。 Ruby on railsについて質問させていただきます。 http://localhost:3000/membersにアクセスすると「We're sorry, but something went wrong.」と表示されてしまいます。 logファイルでは、 「Status: 500 Internal Server Error could not open database: unable to open database file 　C:/ruby/lib/ruby/gems/1.8/gems/sqlite3-ruby-1.2.5-x86-mswin32/lib/sqlite3/errors.rb:62:in `check' 　…　」と出ており、dbファイルがopenできない状況にあります。 どのようにしたらこれを解決することができるでしょうか？ 以下は手順と情報です。 『手順』 １．[rails groupware2]にてRailsアプリケーションを作成 ２．SQLite3にてテーブル名“members”を作成し、dbフォルダに入れる。 ３．database.ymlでそのdbファイルのパスを入力して変更 ４．[ruby script/generate scaffold member name:string acc:string]にて一連のファイルを作成 『情報』 OS ：WindowsXP Rails ：2.3.5 Ruby ：1.8.6 gem ：1.3.5 SQLite：3.6.21 思いつく範囲では、 １．DBドライバのインストール時（[gem install sqlite3-ruby]）に「No definition …」がいっぱい出る。 ２．DBファイルまたはそれが格納されているフォルダにアクセス権限が与えられていないかもしれない（ちゃんと許可されてました） が原因のような気がしますがネットで調べると、どうやらそうではなさそうです。ちなみに他のPCで一からインストールし直しても同様のエラーが起きました。海外のページにも目を通しましたが良い解決案が出てないようなのでどなたかご存知でしたら教えてください。
パスワードとユーザ名を指定してのFTPでのバイナリデータ (LZH圧縮のデータ)の取得はどのようなコードを書けばいいのでしょうか。 例えば require "open-uri" open("ftp://172.11.155.123/dir/data.LZH"){|io| open("data.LZH" , "w"){|f| f.write(io.read) } } このような場合、パスワード(abcde)とユーザ名(yamada)は、どこに、どのように、いれればいいのでしょうか。 上記のような書き方でなくても構いません。 時間がないので、あまり調べず質問することをお許しください。
kamuycikapです。 <環境> OS　：　Windows7 Ruby：　ActiveScriptRuby 　　　　ruby 1.8.7 (2009-06-12 patchlevel 174) [i386-mswin32] ＜やりたいこと＞ 手順１．ログインページにアクセスし、ログインIDとパスワードを入力し、ログインボタンをクリックする。 手順２．手順１から遷移したページに設置されている「CSVダウンロード」ボタンをクリックしてCSVファイルを取得する <ソースコード> ---ここから require 'rubygems' require 'mechanize' require 'kconv' agent = WWW::Mechanize.new page = agent.get('https://www.superdelivery.com/common/auth/login') login_form = page.forms.first login_form.fields[0].value = "hogehoge"　　# ログインID入力 login_form.fields[1].value = "foobar"　　　# パスワード入力 redirect_page = agent.submit(login_form) ---ここまで 上記プログラムを実行すると下記のエラーが発生します。 undefined method `fields' for nil:NilClass (NoMethodError) ｐメソッドを利用してpageを画面に表示してみた処、以下の様子です。 ---ここから #<WWW::Mechanize::Page {url #<URI::HTTPS:0x467dba4 URL:https://www.superdelivery.com/common/auth/login>} {meta} {title "\343\202\242\343\203\221\343\203\254\343\203\253\343\203\273\351\233\221\350\ 262\250\343\202\222\345\215\270\350\262\251\345\243\262-\343\202\271\343\203\274 \343\203\221\343\203\274\343\203\207\343\203\252\343\203\220\343\203\252\343\203 \274"} {iframes} {frames} {links #<WWW::Mechanize::Page::Link "" nil> #<WWW::Mechanize::Page::Link "\347\271\247\357\275\271\347\271\235\357\275\274\347\271\235\344\273\243" "http://www.superdelivery.com/">} {forms}> ---ここまで どうも、formを引っ張ってこれてない模様です。 name属性が設定されていれば問題無いのかもしれないのですが、name属性もありません。 結果として、ログインを行うことすら出来ておりません。 formの内部にあるテキスト領域等にアクセスするためのメソッドはformクラスのFieldにぶら下がっている様子ですので、formが取得できてなければ利用できないのではないかと想像しています。 参考にしたサイトは下記のとおりです。 http://mechanize.rubyforge.org/mechanize/WWW/Mechanize/Form/MultiSelectList.html http://d.hatena.ne.jp/kitamomonga/20090307/ruby_mwchanize_0_9_2_out WIN32OLEを使って、IEを自動操縦する事も検討したのですが、出来るならMechanizeを利用してスマートに処理を実行したいです。 上記のコードは私が利用しているサイトのログインページですが、ログインを利用するページでname属性の無いformを利用しているページであれば何処でも一緒なのではないかと思います。 解決策についてご教示願います。
お世話になっております。 MRI(Ruby1.8系環境)で作成し単体テストまで完了したCUI帳票を出力するバッチプログラムを、 DLLにして他の言語で組まれたプログラム（今回の場合であればjava）で使用したいと考えます。 尚、Ruby側で行う事はタイミングを重要としない最終ファイル出力処理と、 それに付帯するヒアドキュメントによる雛型定義と文字列処理程度なので、呼び出し側と密な関係を持つ必要はありません。 可能であればパラメータを渡して叩けるのが理想ですが、不可能であれば中間ファイルを使用する実装でもかまいません。 （ただし、雛型だけを呼び出し側から直接参照する場面も想定されたい） 可能かどうか、可能であればどのような手段を取り得るか、といった辺りをご教示いただければ幸いです。 以上です。よろしくお願いします。
インスタンスメソッドからsingletonメソッドへのアクセスが、思ったようにできません。 はじめは、次のように記述すれば動作すると思っていました。 （MyClass.get_hello_wordをインスタンスメソッドから呼び出し） class MyClass 　def hello 　　puts self.get_hello_word # エラー発生源 　end 　def self.get_hello_word 　　'hello every one' 　end end MyClass.new.hello # エラー しかし、実際には次のように記述しなければ動きませんでした。 class MyClass 　def hello 　　puts self.class.get_hello_word # self.classのワンクッション 　end 　def self.get_hello_word 　　'hello every one' 　end end MyClass.new.hello そもそも、 def self.get_hello_word と定義したんだから、参照する時も同様にできてもいいのではないかと思うんですけれど、何か認識が間違っているのでしょうか。 だとしたら、（勘で言いますと） class << MyClass 　def get_hello_word 　　'hello every one' 　end end の文法の考え方がからんでいるような気がするのですが・・ ちんぷんかんぷんです。 どうかこの辺りの知識を教えて頂けないでしょうか。 あと、self.class.get_hello_wordの記述方法よりも簡単な（そうすべき）書き方があれば教えて下さい。
こんにちは　or　こんばんは 学校の授業でRubyを習っています。 授業の課題でこんな問題がでました。 「英文の文章が入っているテキストファイルがあたえられると、そのファイルに置ける各語の出現回数を出力するプログラムをつくれ」 テキストファイルの中身は 「Show your flowcharts and conceal your tables and I will be mystified. Show your tables and your flowcharts will be obvious.」というファイルで 出力結果としては 「show 2 your 4 flowcharts 2 and 3 conceal 1 ...」 の用に出現する単語の数を表示するプログラムなのですが 単語ごとに区切る方法がわかりません。 何度かプログラムを組んでみたのですが全く違う結果でした。 $KCODE = 'e' str = [] #文字列 cnt = {} #回数 cp_str = [] ARGF.each do |l| /([A-Za-z]+)/ =~l for i in 0..(str.size) if str[i] == $1 cnt[$1] += 1 else str << $1 cnt[$1] = 1 end end end str.each do |m| puts "#{m} #{cnt[m]}" end 授業の課題の答えを教えて欲しいとは望みませんができればわかりやすいヒントをどなたかわかる方お願いします。 環境は　Vine Linux 4.2 emacs　で作成しています またテキストファイルはopenなどのメソッドは習っておらず ARGFで作成したいのでよろしくお願いします。
本当に初心者ですので、質問が分かりづらいかもしれませんが、よろしくお願いします。 環境は、OS：WindowsXPSP3 ApacheHttpserver2.2 Ruby-186-26 RubyGems -v 0.9.4 です。 erbを使って簡易掲示版を作ろう！！と言うものなのですが、 ・keijiban.html　・keijiban.rb　・data.csv(書き込んだデータ保存用csv)・・・cgi-binに保存 ************************************************************ 入力ミスは散々見直しました。 添付ファイルが2つのファイルです。localhostで表示してみていますが、 初期表示は出来ますが、データを追加しようと『投稿する』ボタンをクリックすると 画面が真っ白になります。 入力ミスは散々見直しました。 初期表示が出来ると言う事は、keijiban.rbは動作していると思われます。 REDで簡易解析と言うのをしてみた所、次のエラーが出たり出なかったりです。 C:/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require': no such file to load -- rde (LoadError) from C:/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require' from C:\Program Files\RDE\rde_export.rb:9 from C:/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require' from C:/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require' from C:/Program Files/Apache Software Foundation/Apache2.2/cgi-bin/rb1D.tmp:71 Complete(1) 何か、インストールが足りないのでしょうか？ 教えて下さい。 2000字超えたため、別ファイルに全文を記入しています。
複数プロセス間で、一つのファイルに対して読み書きしたいです。 その際、ファイルへの書き込み中は、ファイルの読み込みを抑止したいです。 また、読み込みの処理はファイルのロックを参照するだけで、ファイルへのロックは掛けない様にしたいです。 そこで、以下二つプログラムを作成して、簡単な検証を行いました。 ■プログラム１ キーボードからの入力があるまで、ファイルをロックする。 #!/usr/local/bin/ruby file='./hoge.txt' f=open(file,'r+') ret=f.flock(File::LOCK_EX|File::LOCK_NB) STDOUT.write 'Hit any key' STDIN.gets.chomp ■プログラム２ ファイルがロックされているか状態を取得する。 #!/usr/local/bin/ruby require "fcntl" file='./hoge.txt' f=open(file,'r') arg="" f.fcntl(Fcntl::F_GETLK,arg) l_start,l_len,l_pid,l_type,l_whence = arg.unpack('VVVSS') puts l_len ※プログラム２は、fcntlの使い方がマニュアルを読んでもよく理解できなかったので、 手探りで記述しました。 実行すると、プログラム１はエラー無く動きましたが、プログラム２は以下の様なエラーが 出てしまいます。 fcntl.rb:6:in `fcntl': Invalid argument - ./hoge.txt (Errno::EINVAL) from fcntl.rb:6 環境は、unixレンタルサーバ（FreeBSD）です。 上記方法では、上手くいきませんでした。 flockでファイルにロックが掛っているか否かを、そのファイルにロックを掛けることなく 調べるにはどうしたら良いのでしょうか？ ご指導のほど、宜しくお願いいたします。
File.statに、nameというメソッドを追加したいです。 st=File.stat('hoge.txt') puts st.name #=> hoge.txt 上記のように使いたいのです。 そこで、以下の様に書いてみました。（行頭のスペースは全角です） class File 　class << self 　　def stat(file) 　　　st=File::Stat.new(file) 　　　class << st 　　　　def name 　　　　　@file 　　　　end 　　　end 　　　st 　　end end end st=File.stat('./hoge.txt') puts st.name #=> nil 上記実行結果はnilが出力され、期待した結果は得られませんでした。 上記の様に書いた理由を以下に記します。 クラスメソッドstatは、file.rbのclass Fileの中に定義されていて、 stat.rbのFile::Stat.new(file)を戻り値としていました。 stat.rbのclass File::Statのinitializeでは、 def initialize(file) 　@file = file 　(略) end となっていたので、上記の様に書いてみたのですが、何が悪いのでしょうか？ ご指導のほど、宜しくお願いいたします。
rubyで作ったプログラムから linuxの静的ライブラリ、動的ライブラリを作る方法が あるでしょうか？
私はRuby初心者になります。 今、私は文字列(文)から文字列（単語）を検索させるプログラムを組みたいのですが、１つ分からない点が出てきたので質問させていただきました。 内容なのですがとりあえず以下のようなプログラムを本などで調べ組上げました。 *********************************************************** open("docu.txt"){|io| 　puts io.read 　io.pos = 0 　File.readlines("word.txt").each{|line| 　　puts line 　　line.chomp! 　　p io.read.index(line) 　} } *********************************************************** 【docu.txtの内容】 aiueokakikukekosasisuseso 【word.txtの内容】 keko *********************************************************** 結果： aiueokakikukekosasisuseso keko 11 これならちゃんと動いてくれました。 ただ、これらのテキストの内容を以下のような日本語にするとうまくいきません。 *********************************************************** 【docu.txtの内容】 あいうえおかきくけこさしすせそ 【word.txtの内容】 けこ *********************************************************** 結果： あいうえおかきくけこさしすせそ けこ nil やはり英数字でないと、うまくいかないようです。 こういった「ひらがな」や「漢字」でも検索してくれるようにするには、どういった作業が必要になるのでしょうか？ よろしくお願いします。
表形式のデータにおいて、列数が行によって可変長となる場合のエレガントな方法を探しています。 ■やりたいこと csv形式の元データを1行可変列に変換し、excelに読み込ませる。 excelに読み込ませるデータをrubyで処理したい。 処理前のデータ 　コード、属性ともにユニークではない 　コードは数値型、属性は文字型 　コード　人数１　人数２　 属性 　1　　　　1　　　　100　　　A　　 　2　　　　1　　　　0　　　　B 　3　　　　4　　　　1　　　　A 　2　　　　5　　　　8　　　　C 　4　　　　1　　　　122 　　D 処理後の最終形態 　コードは重複なし。 　コード　　属性 　1　　　　　A 　2　　　　　B,C 　3　　　　　A 　4　　　　　D この処理を 　元のデータを1行ずつ読み出す 　ハッシュに追加する 　ハッシュをcsvに書き出す と考えて、下記のようなコードを書きましたが、属性部分がカンマで区切られず、配列の値がすべて連結されてしまいます。 ■質問 こういうデータを処理するときにどうすればいいか？ （後学のために、なぜそうしたほうがよいのかを教えていただけると幸いです） 具体的にこのコードを書き直すとしたら、どこをどう変更すればよいか？ いろいろなリファレンスを読んだのですが、列数が可変長となる場合のサンプルが見つけられなくて詰まってしまいました。 よろしくお願いいたします。 環境：active ruby 1.8.6 , windows XP SP3 , ■作成したコード（抜粋） require 'csv' in_path='C:\Documents and Settings\a\デスクトップ\解凍後データ\dummy.txt' out_path='C:\Documents and Settings\a\デスクトップ\解凍後データ\out.txt' #set initial values col_code=0 'コード列位置 col_zokusei=3　'属性列位置 h=Hash.new{|h,key| h[key]=[]} CSV.foreach(in_path){|row| h[row[col_code]]<<row[col_zokusei] } #put hash to csv file. CSV.generate(out_path){ |writer| h.to_a.each{ |row| p row writer << row } }
お世話になっております。 rubyのコーディングで疑問が発生しましたので、質問させてください。 以下の様にクラスを定義してあるとします クラスA　体裁を整えて標準出力するクラス 　・インスタンス変数@Aを持つ 　・@Aを元に整形して標準出力する振る舞いを持つ クラスB　Aの子クラスで、標準出力する内容を細かく設定するクラス 　・独自のインスタンス変数は持たない 　・親クラスのインスタンス変数@Aを編集する振る舞いを持つ 上記の実装である時、クラスBの振る舞いでクラスAのインスタンス変数@Aを編集しようとした際にエラーが発生します。 尚、レシーバはsuperです。 エラー内容 ./clsb.rb:49:in `edt_dsp': super: no superclass method `edt_dsp' (NoMethodE rror) エラー文中に出てる'edt_dsp'というメソッドが親クラスのインスタンス変数を編集するメソッドです。 尚、子クラスには独自の変数は無いのでinitializeメソッドは定義していません。 なぜこのようなエラーが発生してしまうのかわからず困っています。 現在自分でも色々とサイトを回って調べていますが、解決には至っていません。 ご回答いただければ幸いです。 以上です。よろしくお願いします。
Ruby初心者です。　メモ帳で puts "hello world"と打ち、名前をsample.rbにし、c:\Users\rbというファイルに保存しました。次にコマンドプロンプトで c:\Users\rb>ruby sample.rb　と入力したんですが、'ruby'は、内部コマンドまたは外部コマンド、操作可能なプログラムまたはバッチ　ファイルとして認識されていません。といわれました。　どうすればいいのですか？　本を見てもネット上のサイトをみても >ruby　●●.rb　なんです。
初心者です。環境：ruby こういう風にしたいのですが、どうやるのでしょうか？ ◆変更前 20090925055902 20090925082043 ◆変更後 a20090925055902a a20090925082043a よろしくお願いします。
ど初心者です。この問題に５０時間以上費やしましたが解決できませんでしたので、どなた様か教えてください。 環境：sinatra,centos, 何がしたいかというと、「webブラウザから、クリック一つで特定のファイル（シェル）を実行させる」htmlのコードが知りたいです。 プログラムまったくわからないので、サンプルなどあれば助かります。 よろしくお願いします。 ◆参考文献 sinatraとは　⇒　http://www.sinatrarb.com/intro-jp.html
本を読んでいてRubyというプログラミング言語に興味を持ちました。早速ダウンロードしようとしたんですが、よくわかりません。わかりやすく、安全にRubyをダウンロードできるサイトを教えてください。
以下のようなソースの場合、to_sメソッドは何時呼ばれているのでしょうか。またどういう意味を成しているのでしょうか。 Ruby初心者のためご教授頂けないでしょうか。 よろしくお願いします。 class Vector 　　attr_accessor :x, :y 　　def initialize(x=0, y=0) 　　　　@x = x 　　　　@y = y 　　end 　　def length 　　　　Math::sqrt(@x ** 2 + @y ** 2) 　　end 　　def to_s 　　　　 "(#{@x},#{@y})" 　　end 　　def <=> other 　　　　length <=> other.length 　　end end arr =[] arr << Vector.new(2,2) arr << Vector.new(3,2) arr << Vector.new arr.sort.each do |item| 　　puts item end 結果は以下になります。 (0,0) (2,2) (3,2)
Aptana 1.5 で Rails プロジェクトが作れません。 mongorel のソースでエラーが出ているのですが、 どう対処したらよいのでしょうか？ "2276" C:/Program Files/ruby-1.9.1-p129-i386-mswin32/lib/ruby/gems/1.9.1/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:12:in `require': 126: �w�肳�ꂽ���W���[����������܂���B - C:/Program Files/ruby-1.9.1-p129-i386-mswin32/lib/ruby/gems/1.9.1/gems/mongrel-1.1.5-x86-mswin32-60/lib/http11.so (LoadError) from C:/Program Files/ruby-1.9.1-p129-i386-mswin32/lib/ruby/gems/1.9.1/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:12:in `<top (required)>' from C:/Program Files/ruby-1.9.1-p129-i386-mswin32/lib/ruby/gems/1.9.1/gems/mongrel-1.1.5-x86-mswin32-60/bin/mongrel_rails:11:in `require' from C:/Program Files/ruby-1.9.1-p129-i386-mswin32/lib/ruby/gems/1.9.1/gems/mongrel-1.1.5-x86-mswin32-60/bin/mongrel_rails:11:in `<top (required)>' from C:\Program Files\ruby-1.9.1-p129-i386-mswin32\bin\mongrel_rails:19:in `load' from C:\Program Files\ruby-1.9.1-p129-i386-mswin32\bin\mongrel_rails:19:in `<top (required)>' from -e:2:in `load' from -e:2:in `<main>'
16進数を定義したい。(整数に変換しない) phpでは、chr(0x82) . chr(0xa0); または、 pack("C2", 0x82, 0xa0);
Ruby on Railsのmigration機能は便利ですが、この機能をRuby on Rails以外のプロジェクトのユニットテストのために使いたいと思っています。 というわけでRoRプロジェクトを作成しないで同等のmigration機能だけを使用できるようなツールみたいなものを探していますが、見つかりません。 （当方のrubyとRoRの無知さから情報にたどり着けないだけの可能性あり。。） 何かいいツール知ってる方いましたら教えて下さい。 （rubyで書かれていなくてもNPです。）
Rubyの講座を受ける予定なのですが、実際現場ではどれくらい使用されているのでしょうか？ まつもとひろゆき氏の著書を読んだらアメリカの気象庁やNASAでも使われていると書いてありましたが、求人などの必須言語などにはほどんど記載されておりません。 実際にシステム開発などの現場の関係者がいましたらRubyが現場でどれくらい活用されているか教えていただけたらと思います。
質問を見ていただいて有難うございます。 質問を一言で言うと、 「メソッドの中で呼び出し元がbreakを使った事を検知できるか？」 となるのでしょうか。。。以下に詳しく質問を記述いたします。 引数に配列を渡すと、その配列をブロックに一つずつ返してくれる メソッドhoge()があるとします。 以下の様に使います。 ------------------------------------- hoge([0,1,2]) do |x| 　puts x end 実行結果 0 1 2 ------------------------------------- このhoge()は、実行中にエラーが発生した場合、トラップして falseを返す事とします。（何事もなければtrueを返します。） このhoge()を以下の様に書きました。 def hoge(arg) 　begin 　　arg.each do |x| 　　　yield x 　　end 　rescue 　　false 　else 　　true 　end end 以下の様に使います。 ------------------------------------- ret=hoge([0,1,2]) do |x| 　puts x end puts ret ? 'success' : 'fail' 実行結果 0 1 2 success ------------------------------------- ------------------------------------- ret=hoge(nil) do |x| 　puts x end puts ret ? 'success' : 'fail' 実行結果 fail ------------------------------------- ここまでは、よかったのですが、hoge()のブロックの中で、breakを使うと hoge()の戻り値はnilになってしまいます。 ------------------------------------- ret=hoge([0,1,2]) do |x| 　break if x==1 　puts x end puts ret puts ret ? 'success' : 'fail' 実行結果 0 nil fail ------------------------------------- ここで質問です。 最後の例は、hoge()として異常系ではないので、retにtrueを与えたいのですが、どうしたらよいでしょうか？ ご指導のほど、宜しくお願いいたします。
現在、時期プロジェクトでRuby on Railsを使ってシステム開発を行うためRuby on Railsを勉強中の者です。 railsはもちろんrubyも初心者です。 現在「RailsによるアジャイルWebアプリケーション開発」という本を読んで勉強していますが、他にも参考になる書籍やサイトなどがあれば教えて頂きたいです。 宜しくお願いします。
DB名についてですが、プロジェクト名と等しいことが基本かと思うのですが、 プロジェクト名と違うDB名を設定することは可能なのでしょうか？ （Railsのバージョンは、２．２です。）
Rubyでpdfファイルを読み込む方法を探しています。 file = open("sample.pdf", "r") file.each { |f| puts f } というコードを書いて実行すると文字化け？したようになったり、数字ばかりの行が挿入されていたりと、txt形式のファイルを読み込んだ時の様に文字が正しく出力されません。 何かpdfを読み込む正しい方法があるのでしょうか。 また、直接読み込むことはせずにpdftotext.exeを使って予めtxt形式に変換しようと考えたのですが、Rubyのスクリプトの中でpdftotext.exeを使う方法が分かりません。 解決方法をご存じの方がいらっしゃいましたら教えて頂けないでしょうか。 環境はWindowsです。よろしくお願いします。
Proc.new do|arg| 　arg.each do |x| 　　puts x 　end end.call([1,2,3,4,5]) 上記のようなものを無名関数と理解しているのですが、 これを下記の様にすると、 Proc.new {|arg| 　arg.each do |x| 　　yield(x) 　end }.call([1,2,3,4,5]) do |x| 　puts x end no block given とエラーになってしまいます。 無名関数で、ブロック付きメソッドって作れないものでしょうか？ ご指導の程、宜しくお願いいたします。
二つのブロック付きメソッドhogeとpiyoがあるとします。 ブロックの中に記述するプログラムは同じだが、hogeを使うか、piyoを使うかは条件により制御したいです。 このような場合、どのように書いたら簡素になるでしょうか？ sw=true if sw then 　hoge() do |x| 　　puts x 　done else 　piyo() do |x| 　　puts x 　done end 上記例では冗長の思うのですが、ご指導のほど宜しくお願いいたします。
IPアドレスをでtableタグでくくった表にしたくて悩んでいるのですが 下記のようなという変数に取り込んだ配列があり pp　@IP ["192.168.10.1"] ["192.168.11.1,2,3,4,5,6"] ["192.168.12.100,200,230"] ・ ・ ・ と第4オクテットが複数の数になる場合とならない場合があります。 これを表にあらわした時に 192.168.10.1 192.168.11.1 192.168.11.2 192.168.11.3 ・ ・ 192.168.12.230 とこのような形で表にしたいです。 （実際にはテーブルでくくってあります。） 考えていたのは@IP.split('.')で オクテット単位に区切ってみたのですが、 【"192","168","11","1,2,3,4,5"】←こんな感じ 最後の第4オクテットの表示がうまくいきません。 （第4オクテットをさらに配列にしようとして うまくいってないですが・・・） どうぞご助力頂けますでしょうか。
windows上でRubyにて作成したプログラムを実行しています。 作成した****.rbファイルをダブルクリックすると、プログラム起動中、コマンドプロンプトが表示されつづけます。 プログラム起動中にコマンドプロンプトを表示させなくする方法をご教授願います。 よろしくお願いいたします。
WinXP環境で開発環境を構築中です。 MySQL Server 5.1のテーブルを作成するために、 rake db:migrateを実行しましたが、 「Multiple migrations have the name　CreateSchedules」のエラーが発生します。 原因がよくわかりません。 どなたか、ご教示ください。
宜しくお願いします。 Rubyで配列の中の文字列をsplitして多重配列にしたいと考えています。 例えば @memberという変数の中に [ "012,234,567", "8910,111213,141516", ・・・ ] のような文字列の配列があるとします。 これを(/,/)でsplitして [ ["012","234",567] ["8910","111213","141516"] [・・・] ] （・・・は同じような配列が続いているだけです。） のような配列に変更したいと思っていますが うまくいきません。 @member.each do |mem| mem.split(/,/) end のような書き方でやってみましたが、結果は変化なし。 @member.each do |mem| #mem.split(/,/) mem =mem.split(/,/) #結果の処理内容をここに end と書くと、このループ文の中でしか機能しません。 どのような書き方をすれば変数にsplitした結果を 取り込めるのでしょうか。 どうぞ宜しくお願いいたします。
文字列から最初の/～/までを切り取りたいです。 たとえば、"/aaa/bbb/ccc"の場合、"/aaa/"です。 そこで、subを使って以下の様に書いてみました。 puts "/aaa/bbb/ccc".sub(/(\/.*?\/)/,'\1') しかし、/aaa/bbb/cccと表示され、期待した結果が得られません。 以下の様にすると、 /(\/.*?\/)/=~"/aaa/bbb/ccc" puts $1 期待通り/aaa/が表示されるのですが、正規表現はsubのときと同じだし、 subの使い方の何が悪いのかわからなくなってしまいました。 ご指導のほど、宜しくお願いいたします。
はじめまして。 よろしくお願いします。 Rubyで開発を勉強しようと、翔泳社の『かんたんRubyonRailsでWebアプリケーション開発』を購入しました。 しかし、0日目のセットアップのところで躓いてしまいました。 まず、手順どおり １．MySQL(mysql-essential-5.0.22-win32)をインストール ２．One-ClickInstaller(ruby184-17_rc2)でインストール ３．RubyGemsPackageManagerを起動しRailsをインストール というところまでいきました。 その後、テストプロジェクトとしてhelloプロジェクトを作りました。 具体的にはコマンドプロンプトを立ち上げ、 C:\Documents and Settings\username>mkdir rails の後に C:\Documents and Settings\username\rails>rails hello でプロジェクトを作成します。 C:\Documents and Settings\username\rails>cd hello で移動して、以下のコマンドを実行します。 C:\Documents and Settings\username\rails\hello>ruby script\server => Booting WEBrick... => Rails application started on ​http://0.0.0.0:3000​ => Ctrl-C to shutdown server; call with --help for options [2009-08-11 01:18:22] INFO WEBrick 1.3.1 [2009-08-11 01:18:22] INFO ruby 1.8.4 (2005-12-24) [i386-mswin32] [2009-08-11 01:18:22] INFO WEBrick::HTTPServer#start: pid=3920 port=3000 この後に、​http://127.0.0.1:3000/​ をブラウザで開くとトップページが出てくるとの説明でしたが、 トップは出てこず、ずっと「読み込んでいる状態」になってしまいます。 環境はWindowsXP　無線LAN(FON)です。 翔泳社に同じようなスレッドがあったので、参考にしました。 ​http://www.seshop.com/book/qa/Default.asp?mode=list&show_type=q...​ Windowsのファイアウォールは無効化 ウィルスセキュリティ(ソースネクスト)のファイアウォールを開放 開放方法はポート番号3000のみ指定して、他は任意にしてあります。 ping 127.0.0.1の結果は以下です。 C:\Documents and Settings\Username>ping 127.0.0.1 Pinging 127.0.0.1 with 32 bytes of data: Reply from 127.0.0.1: bytes=32 time<1ms TTL=128 Reply from 127.0.0.1: bytes=32 time<1ms TTL=128 Reply from 127.0.0.1: bytes=32 time<1ms TTL=128 Reply from 127.0.0.1: bytes=32 time<1ms TTL=128 Ping statistics for 127.0.0.1: Packets: Sent = 4, Received = 4, Lost = 0 (0% loss), Approximate round trip times in milli-seconds: Minimum = 0ms, Maximum = 0ms, Average = 0ms 初心者ですが、おそらく正常なのではないかと思っています。 現状、netstat -anの実行結果は 0.0.0.0:3000　LISTENING 127.0.0.1:3000　は出てきません。 (もう一方のデスクトップでは127.0.0.1:3000が出てきてESTABLISHEDになりましたが、トップページは表示されませんでした。) 考えられる問題は他にありませんでしょうか？ 非常に困っています。どうぞよろしくお願いします。
初めまして、Ruby on Rails初心者の者です。 現在modelを5つ作成してあります。 そこで新たにmodel(6)を作成(コマンドプロンプトにて)したのですが、記述ミスがあったので今作成されたmodel(6)を削除しました。(データーベースからも) で、また同じ名前で作成したのですがエラーが何も表示されず、コマンドが入力できる状態になってしまいます。 ruby script/generate model モデル名 　↓正常 rake db:migrate 　↓何も表示されない コマンドが入力可能状態になる 何が原因なのでしょうか？ 調べたのですが、私には分からずとても困っています 分かる方居ましたら、回答お願い致します。
Nokogiriを使ってHTMLを処理したいのですが、 以下の点で困っています。 【HTMLの内容】 <table> 　<tr> <td>…</td> </tr> 　<tr>　←(1) 　　<td> 　　　<table> 　　　　<tr>…</tr>　←(2) 　　　<table> 　　</td> </tr>　←(1) </table> このように階層構造になっているテーブルに対して table.search("tr").each { |row| 　p row } このように使うと、 (1)の範囲の<tr>が取り出された後に (2)の<tr>のが取り出されます。 同じ行に処理を複数回やってしまうため困っています。 トップ階層の<tr>だけ取り出す方法はないでしょうか？ ちなみに解析するHTMLは自作ではないので、 タグに目印をつけることはできません。 よろしくお願いいたします。
↓のchm形式のリファレンスですが http://www.ruby-lang.org/ja/man/archive/ ruby-refm-1.8.6-chm.zipを展開したものは使用できるのですが ruby-refm-1.8.7-20090729.chmや ruby-refm-1.9.1-20090729.chmが使用できません 具体的には左側の窓に項目一覧が表示されますが、その内容説明が右側の窓に表示されずに「Web ページへのナビゲーションは取り消されました」と表示されます。 使用環境は、Win XP SP3 および Win Vista SP1 です。　 使用できない理由について何かご存じの方がいらっしゃいましたらご回答をお願いいたします。
テーブルにcreated_at,updated_atにて自動保存された時間が 約8時間ほどずれてしまいます。 調べてみた結果、UNIX時間で保存されているようなのですが 回避方法が見つかりません。 どうすれば保存時間の同期がとれるでしょうか。 よろしくお願い致します。
Vista で NoEditor を C:\programfiles にインストールすると system "NoEditor " + filename が実行出来ません。 しかし、NoEditor を C:\ にインストールすると実行できるようになったのですが、今度は ファイルの関連付け で NoEditor が利用できません。 上記の何れかについての解決法についてアドバイス頂けないでしょうか？
Ruby初心者です。 rexmlを用いてXMLを扱うことになったのですが、出力がうまくいきません。 XMLファイル <hoge> <item> <name>○○○</name> <data>・・・・・</data> <data>・・・・・</data> </item> <item> <name>○○○</name> <data>・・・・・</data> <data>・・・・・</data> </item> </hoge> 上記のようなXMLファイルから<name>と<data>を取り出して出力しようと思っています。 見よう見まねで以下のようなコードを書いたのですが、これだと複数ある<data>が１つしか取れませんでした。 xml = REXML::Document.new(open("・・・・")) xml.elements.each("hoge/item") {|line| puts line.elements["name"].text puts line.elements["data"].text } ※都合で簡単に書き直したものをテストせずに載せています すべての<data>を出力したいのですが、どう書き直せばよいでしょうか？ ご教授願います。
ruby on railsのフォームで以下のように書いたのですが、 <%= select 'member', 'sex', [ [ "男", "1" ] , [ "女", "2" ]] %> 新規登録時には問題なく登録されるのですが、編集する際に、新規登録時に 女を選んだにもかかわらず、男が選ばれた状態になってしまいます。 編集時に女が選ばれた状態にするにはどこをどのように修正すればいいのでしょうか? よろしくお願いします。
rubyで整数同士の割り算をすると、割り切れないときに小数はきりすてされるようですが、切捨てしたくないときはどうしたらよいのでしょうか 例 a = 1 b = 100 printf("%5.5f / %5.5f = %5.5f\n",a,b,a/ b) 結果 1.00000 / 100.00000 = 0.00000 となってしまいます 1.00000 / 100.00000 = 0.01000 となってほしいです 割り算のまえにto_fする方法を試しましたが結果は同じでした a = 1 b = 100 a.to_f b.to_f printf("%5.5f / %5.5f = %5.5f\n",a,b,a/ b) よろしくお願いします！
最近Ruby on Railsを始めました。 モデルで使用しているメソッドでsendというものがありますが、 このsendとは何をしているものなのでしょうか？ 私の感覚では @model.send("column=", xxxx) は @model.update_attribute(:column, xxxxx) と同義だと考えております。 ※　一応ネットでも調べましたが、明確なことが記載されているサイトを見つけることができませんでした。。。 質問は １．上記の考えは正しいでしょうか？ ２．上記２つの違いはなんでしょうか？ ３．sendを実行したとき、すぐにDBに反映されるのでしょうか？ ４．sendについて詳しく記載されているサイトがあればご教授願います。 初心者で拙い説明で申し訳ありませんが、ご教授お願いいたします。
RubyOnRailsのラジオボタン 遅まきながらRubyOnRailsを勉強中です。 スーパーの商品のカテゴリを登録する画面です。カテゴリをラジオボタンで選択します。 主要部分、以下のコードで動きます。 ==== <% form_for(@item) do |f| %> <p> <%= f.label :name %><br /> <%= f.text_field :name %> </p> <p> <%= f.label :category_id %><br /> <label><%= f.radio_button "category_id",'1' %>野菜</lablel> <label><%= f.radio_button "category_id",'2' %>魚</lablel> <label><%= f.radio_button "category_id",'3' %>加工食品</lablel> <label><%= f.radio_button "category_id",'4' %>グロッサリー</lablel> </p> <p> <%= f.submit 'Update' %> </p> <% end %> ==== しかしこれは間違いです。理由はカテゴリテーブルがあり、そこから取得しなければなりません。 以下のように変更しました。 ==== <% @categories = Category.find(:all) %> <% form_for(@item) do |f| %> <p> <%= f.label :name %><br /> <%= f.text_field :name %> </p> <p> <%= f.label :category_id %><br /> <% for @category in @categories %> <label><%= f.radio_button "category_id","@cateroy.id" %><%= @category.name %></label> <% end %> </p> <p> <%= f.submit 'Update' %> </p> <% end %> ==== つまりテーブルから読んで、その値でラジオボタンを表示しました。 結果、画面は表示されます。 しかしsubmitして、itemにcategory_idが設定されません。 お分かりの方、よろしくお願いします。
RailsもMySQLも初心者です。 簡単な検索モデルを作っていますが、次のようなfindメソッドを使った検索の条件指定で、"name"の部分に複数の検索語句をor条件で指定することはできますか？ 　@users = User.find(:all, :conditions => ["family_name LIKE ?", name]) 検索対象は文字列です。 ("name1" or "name2")とか("name1" || "name2")などとやってみたのですが、最初の検索語句しか認知してくれないようです。 もしできるのでしたら、:conditionsの部分をどのように書いたらいいか教えてください。 Railsのバージョンは1.1.2です。 よろしくお願いします。 ※先ほど勘違いして同じ質問をいったん削除してしまいました。 　もしご覧になっていた方がいらしたら申し訳ありません。
railsのtime_selectで作成したフォームの値でDBへのInsertやUpdateが上手くいきません。 具体的にはtime_selectでフォームを作成すると、 Controllerには以下のような変数がくると思います。 (1i) 2009 (2i) 05 (3i) 22 (4i) 10 (5i) 10 ただ、これをそのままDBへ送ると「XX:10:10」のように、 時間の部分が分に、分が秒になってしまい、時間の箇所にはよく分からない数字が入ります。 （DBへのInsert、Updateは「paramas[:Controller名]」で 取得したものをそのままcreate、update_attributesしています。） hidden_field_tagで(6i)を作成したり、 time_selectのinclude_secondsを有効にすると正常になるのですが、 根本的な原因は何なのでしょうか？ (rubyは1.8.7、railsは2.2.2です。) ご存知の方はよろしくご教示願います。
Railsでコントローラーをつかわずにtest_controler.rbとindex.rhtmlを作成して各ディレクトリに置きました。コントローラーはdef index endだけのシンプルなものです。インデックスは空ページです。これでアクセスしたところ500エラーになりました。ジェネレータから作成しなければいけないのでしょうか よろしくお願いします。
クエリパラメータを取得するのにCGIクラスを使っています。 Rubyのマニュアルでは『フォームフィールドの値を得る』として以下の様に記載してあります。 require "cgi" cgi = CGI.new values = cgi['field_name'] # <== 'field_name' の配列 私が使用しているサーバはWindowsサーバでして、取得したクエリ（フォームフィールド）は文字コードをs-jisに変換して使う事が大半です。 そこで、CGIクラスそのものを改造して、いちいちvalues.tosjisしなくてもよい様にしたいです。 実は以前に、同じような事を質問してまして（http://oshiete1.goo.ne.jp/qa4944090.html）alias を使えばこのようなことが出来るかなと思い、以下の様に書いてみました。（行頭は全角スペースです。） #!/usr/local/bin/ruby require 'cgi' require 'kconv' STDOUT.binmode STDIN.binmode class CGI 　alias :initialize_orig :initialize 　def initialize() 　　hash=initialize_orig() 　　hash.each do|key,val| 　　　hash[key]=val.collect{|x|x.tosjis} 　　end 　　hash 　end end cgi=CGI.new if cgi.has_key?('arg') then 　STDERR.puts cgi['arg'] 　cgi.out(){'ok'} end 結果は `initialize': undefined method `each' for nil: NilClass (NoMethodError) で実行不可でした。 initializeはリターンできないからかな。 次に、 class CGI 　alias :params_orig :params 　def params() 　　hash=params_orig 　　hash.each do|key,val| 　　　hash[key]=val.collect{|x|'*' + x + '*'} 　　end 　hash end end などとも書いてみましたが、 undefined method `params' for class `CGI' で実行不可でした。 ご指導のほど、よろしくお願いいたします。
railsのscaffoldで作成したnew.html.erbのページに日付や時間を入力できるselectboxを複数個作成し、 その値をControllerで取得したいのですがどうすればよいでしょうか？ date_selectやtime_selectを使うとviewは簡単に作成できるのですが、 selectboxが複数個あり、(1i)、(2i)のように変数がControllerにくるので上手く取得する方法が分かりません。 （for文を使ってnameをdate1、date2とかにしておいて、 Controllerでそれを指定、後はハッシュからデータをとるしかないですか？） 以上、よろしくお願いいたします。
<% form_for :toto, :@toto, :url => { :action => \'update\'} %> これをHTMLに組み込んでフォームを作ろうとしたのですが、 syntax errorになってしまいます。 <>←このタグが%から%まで我慢できずに、=>の>でブロックを終了してしまっています。 何か方法をご存じでしたらぜひご教授願います。
Ruby on Rails でプルダウンを使ったページを作ってます。 プルダウンを選択すると、別のプルダウンの内容が変更されるというものです。 それ自体はjavascriptを使えばできるのですが、プルダウンの内容はDBに保存されてあるものから引っ張って使いたいと思ってます。 javascriptではDBの内容は引っ張ってこれないと思うのですが、 Railsでこういうことができるのでしょうか。 よろしくお願いします。
#!/usr/local/bin/ruby require 'cgi' require 'kconv' headers={ "status"=>"OK", "type"=>"text/html; charset=utf-8" } cgi=CGI.new hoge=cgi['arg'] cgi.out(headers){Kconv.toutf8(hoge)} 上記はcgiはクエリパラメータargに与えた文字列がUTF-8で表示される 物の基本骨格として記しました。 実際に作りたい物は、もう少し複雑で、cgi.outのブロックに渡す部分 は、ケースにより複数あります。 そこで、毎回ブロックに渡す部分をKconv.toutf8でくくるのは、如何な ものかと思い、CGIクラスそのものを改造して、 cgi.out(headers){hoge} と記述しても、UTF-8で出力されるようにしたいのですが、やり方が解 りません。 CGIクラスのoutメソッドをオーバーライドするのかなぁ？ と思うのですが、オーバーライドってやった事が無いので、 手がかりがつかめません。 お手ほどきの、よろしくお願いいたします。
Rails初心者です。 Railsでアプリケーションを構築する場合、何か良い方法はありますか？ たとえば、アクション内でオブジェクトの中身などをみたくて p myObjや pp myObj などということをしても、テンプレートに遷移して出力されません。（pの後にexitをしても、exit専用画面？になって、結局出力がみれず） ruby-debugというものがあるようなのですが、passengerを使った場合は動作しないようでした。 何か良い方法があれば教えてください。よろしくおねがいします。
ruby初心者です。 最近、ruby on railsで書かれたソースを引き継ぎ解析を行っています。 その中で、以下のような構文が出てきました。 ========================================= num = 0 bool = false vals = '' puts 'start' num == 0 && bool && if vals 　puts 'true' else 　puts 'false' end puts 'end' ========================================= 上記プログラムを実行すると、if ～ end までが実行されませんでした。 そこで、変数boolをtrueに変更して再実行したところ、if文が実行されました。 そこで私は、上記プログラムは以下と同値であると解釈しました。 ====================================== （省略） if num == 0 && bool 　if vals 　　puts 'true' 　else 　　puts 'false' 　end end ======================================= 以上を踏まえて・・・ １．私の解釈は正しいでしょうか？ ２．間違っている場合、正しい処理の解釈を教えていただけますでしょうか？または参考URLを教えていただけますと助かります。 文の最後に"&&"がついている文を見たことがなく、ネットで調べても 正解らしいものが掲載されていなかったので質問させていただきました。 拙い説明で申し訳ありませんが、よろしくお願いいたします。
gemでrailsを指定ディレクトリにインストールをしようとしているのですが、railsのインストールでエラーが出てしまいます。 rubyはもともと入っており、管理者権限などが無いため、 rubygemsを指定ディレクトリ以下にいれgemコマンドで ←gem install rails --include-dependencies を投入したところ、 →ERROR: While executing gem ... (NameError) uninitialized constant Digest::MD5 のエラーが表示されてしまいます。 gem -vなど、正常に実行されるコマンドもあります。 原因などわかる方がいらっしゃれば、教えていただきたいです。 ・バージョン、場所 rubygems：1.3.1 　指定ディレクトリ/rubygems ruby：1.8.7 /usr/local/lib/ruby
クラスメソッド“say”を定義しました。 クラス外からこれを呼び出すときは Hoge.say 'hello' で、同じクラス内の、インスタンスメソッド“hello”からクラスメソッド“say”を呼び出したいとき、クラス外から呼び出すのと同じように呼び出すことはできました。 class Hoge 　def self.say(word) 　　puts word 　end 　def hello 　　Hoge.say('hello') 　end end しかし、メソッド“hello”内にHogeというクラス名を直書きしたくないのですが、どんな文法を使用すればよろしいでしょうか？ # Hoge#hello内での試行錯誤 self.say 'hello' => エラー say 'hello' => エラー ひょっとして、クラス名を直書きする以外手段はないのでしょうか・・？
RubyOnRailsでMicrosoftSQLServerをDBとしたアプリを作ろうとしているのですが、正常に動作せず、 no such file to load -- deprecated というエラーが出てしまいます。 どなたか、回避策をご教授願えないでしょうか？ ネット上で調べた限りでは、 gem install deprecated でdeprecatedをインストールしてあげれば、改善するという書き込みもあったのですが、deprecatedのパッケージがないというエラーで失敗してしまいます。 環境：NetBeans6.5 OS:WindowsXP DB：MicrosftSQLServer　Express2005 よろしくお願いします。
【データベース】 テーブル名：Fruits +----+---------+ | id | name | +----+---------+ | 1 | りんご | | 2 | みかん | | 3 | なし | | 4 | パイン | +----+---------+ 【コントローラ】 @fs = Fruits.find(:all) 【ビュー】 <% @fs.each do |f| %> <span style="white-space: nowrap;"><%= check_box "fs", f.id, :checked => nil %>&nbsp;<%= hl(f.name) %></span> <% end %> 【ログ】 りんごとパインを選択しました。 Parameters: {"fs"=>{"1"=>"1", "2"=>"0", "3"=>"0", "4"=>"1"}} チェックリストで選択した値を得たいのですがどのようにしたら得られますか？？
言語はRubyです。 場面としては、railsにPOSTされたパラメータを受け取ってオブジェクトであるdetaを保存しているところです。 #case1 #params = {'a' => 1, 'b'=> 2 ,'c' => 3} #case2 #params = [{'a' => 1, 'b'=> 2 ,'c' => 3}, {'a' => 4, 'c' => 5}] if params.kind_of?(Array) params.length.times do |i| @deta.new if a = params[i]['a'] end if b = params[i]['b'] end if c = params[i]['c'] end @deta.save! end else @deta.new if a = params['a'] end if b = params['b'] end if c = params['c'] end @deta.save! end paramsが配列の可能性がある上、 paramsのハッシュである a, b, c のキーが毎回存在するかわからないので、 if文で例外がでないようにチェックしています。 自分で書いてて冗長な感じがして気持ち悪いです。 なにかよい方法があれば、教えてください。 よろしくお願いします。
"cronで /dog/cat/bird の中の一日より前の古いファイルを消す"というプログラムを作っていただけませんか？ 完全に初心者で本を見ながらなんですがどうしていいか分かりません。。 ※Rubyでお願い致します。 ※1文1文説明を付けてくださるとありがたいです。。 どうかお願い致します。。。。。
プログラミング初心者です。 fifiaのランキングのページ（http://www.fifa.com/worldfootball/ranking/lastranking/gender=m/fullranking.html）を対象にして、スクレイピングを行おうとし、 require("win32ole") ie =WIN32OLE.new("InternetExplorer.Application") でIEオブジェクトを取得し、 ie.visible =true ie.Navigate("http://www.fifa.com/worldfootball/ranking/lastranking/gender=m/fullranking.html") while ie.busy == true sleep 0.1 end ここまではいいのですが、表の中の値を取得しようと ie.document.getelementsbytagneme("td") を実行してみてもnilが帰ってきてしまいます。 HTMLのソースを表示してみても<td>タグは含まれているはずなのですが、試しにie.document.getelementsbytagname("td").lengthを実行してみると０が返ってきてしまい、どうしたらいいのかさっぱりわからない状態です。 ie.document.getelementsbytagname("div")などはちゃんと機能するので、おそらく問題の原因は<td>タグがAJAX.updaterメソッドを使ったページの内容更新の対象となっていることだと思うのですが、いかんせん不勉強で解決方法がわかりません。 どなたか詳しい方、ご教授していただけないでしょうか。
Rubyでexpectライブラリを利用して、対話的な処理を自動で行おうと思っています。 その場合に、条件文(if文)をどうやって書いていいのか分からず困っています。 ※条件文の必要のないサンプルプログラムは検索したところいろいろあったのですが・・・ 例えば spawn("ssh #{hostname}") do expect(/User \(.*\): /) { |match| user } expect(/[Pp]assword: /) { |match| pass } expect(/[\>\$] /) {|match| command } このcommmandの実行結果がAならば expect(/A/) {|match| command2 } そうではなくBならば expect(/B/) {|match| command3 } end ぜひよろしくお願いいたします。
f = ["1111111111111","2222222222222","3333333333333",] f.each {|l| p l.sub(/^.+$/, "aaaaaaa#{$&}bbbbbb") p l p "" } を Ruby1.8.7(2008-08-11patchlevel72)[i386-mswin32] で実行すると下記のように　.sub(・・・) での置換開始行がずれました。なぜでしょうか？教えてくださいお願いします。 "aaaaaaabbbbbb" "1111111111111" "" "aaaaaaa1111111111111bbbbbb" "2222222222222" "" "aaaaaaa2222222222222bbbbbb" "3333333333333" ""
yamlで記述した設定ファイルを読み込んで、 設定値があれば、変数にセットし、 なければdefault値を使うプログラムを書いています。 こんな感じです。 [設定ファイル(yaml)] top_dir : 　linux : /home/user 　windows : C:/Documents [ruby] conf = YAML.load_file(filename) p conf #=> {"top_dir"=>{"linux"=>"/home/user", "windows"=>"C:/Documents"}} str = "/root" str = conf['top_dir']['linux'] unless conf['top_dir'].nil? or conf['top_dir']['linux'].nil? 最後の２次元Hashのキーをチェックして、変数にセットしている 部分ですが、もっと短く書けないでしょうか？ 特にconfが３回も出てくるところに無駄を感じています。 ちなみに、Hashのキー'top_dir'と'linux'は yamlに記述があるかもしれないし、ないかもしれないという 前提でお願いします。 達人の方、ご教授お願いします。
プログラミングを始めて間もない初心者です。 windowsアプリケーションを制御対象として扱おうと、win32oleライブラリをrequireしてCOMコンポーネントを扱う方法をネット上で色々調べてみたのですがどうも腑に落ちない点・分からない点があるので質問します。 rubyリファレンスマニュアルからリンクされているサイト（http://jp.rubyist.net/magazine/?0003-Win32OLE）において、以下のような記述があります。 >COM ではインスタンスを生成するときに「COM コンポーネント」を指 >定するための ProgID を引数として WIN32OLE.new メソッドを実行し >ます。 COM コンポーネントとは、Windows に登録された、ある機能 >(たとえば、IE や MS Office の制御機能) を提供するためのもので >す。この「COM コンポーネント」を利用して作成したインスタンス を>「COM オブジェクト」とこの記事では呼んでいます。 COM オブジェク>トを作成した後は、その COM オブジェクトで定義されている「メソッ>ド」を実行することでそのコンポーネントが提供する機能を実現する >ことができます。 この文に従えば、作成したCOMオブジェクトを扱う方法を知るためにはCOMオブジェクトで定義されているメソッドを参照すれば良いこととなります。そこで自分もWIN32OLE.new("InternetExplorer.Application") によって得たCOMオブジェクトにWIN32OLE.ole_methodsを適用することでメソッドの一覧を取得しましたが、前述のサイトで紹介されているie.document.all.Item()というメソッドを探してみてもどこにも見つかりません。 これはどういうことなのかと思い、ネット上で色々とCOMとは何か、タイプライブラリとは何かなどを調べて見ましたが、いまだCOMの全体像の把握ができません。 たとえばrubyの場合、あるオブジェクトに対して使えるメソッドというのはそのオブジェクトが該当するクラスに於いて定義されているメソッド((1))及びkernelモジュールで定義されている組み込みメソッド((2))ですよね。 (初心者なのでこの理解にも間違いがあるかもしれませんがその場合はご指摘お願いします) このような考え方でいくとWIN32OLE.ole_methodsによって取得したメソッドの一覧は(1)にあたり、document.all.Item()というのは(2)にあたるのではないかという考えもできるかと思うのですが誰か正しい理解をご教授いただきたいです。 質問が長くなってしまいましたがie.document.all.Item()というメソッドがどこに定義されているのか、そういったメソッドの定義場所はCOMにおいてどのように見つけるのか、そこだけでもいいのでよろしくお願いします。
Ruby on Railsで controller内で、何か処理を行った後 redirect_to "http://どこかのサイト" とリダイレクトした場合に ブラウザのアドレス欄ではリダイレクト前のURLのままで 表示はリダイレクト先となってしまいます。 アドレス欄の方もリダイレクト先にしたいのですが、何か方法ありませんか？
『クラスの生成に失敗』を表現したいのです。 newの戻り値にnilやfalseを返せばよいと考え、 以下の様に書いてみました。（行頭は全角スペースです。） class Hoge 　def initialize(arg) 　　return arg 　end end h = Hoge.new(false) STDERR.puts 'err' unless(h) errはputsされませんでした。（グーグルで調べるとinitializeのreturnは、返ってこないそうでした。） そこで以下の様に書きました。（行頭は全角スペースです。） class Hoge 　attr_reader :stat 　def initialize(arg) 　　@stat = arg 　end end h = Hoge.new(false) STDERR.puts 'err' unless(h.stat) なんか、ものすごく我流になってる気がします。。。 アドバイスをお願いいたします。
プログラミングを始めて間もない初心者です。 2chの国内サッカー掲示板一覧(http://ex24.2ch.net/soccer/subback.html)から 「集え」「名古屋グランパスファン」との文字列で検索したリンクを開き、取得した名古屋グランパスのスレッドの内容を表示するプログラムを書こうと、 以下のようなコードを書きました。が、 test1-9.rb:32: syntax error, unexpected tIDENTIFIER, expecting keyword_endとの警告メッセージとともにエラーになってしまいます。 #-*- coding:sjis-*- require 'open-uri' require 'uri' class Searchgra　 def initialize open("http://ex24.2ch.net/soccer/subback.html"){|g| g.each_line{|title| tsu = "集え" sup = "グランパスファン" if /(<a href="(.*)\/l50">.*#{tsu}.*#{sup})/ =~ title then @grasre ="http://ex24.2ch.net/test/read.cgi/soccer/#{$2}" end } } end def fuku open("#{grasre}") {|f| linenum = 0 f.each_line {|line| line.gsub!(/&gt;/,">") line.gsub!(/<br><br>/,"<br>\n") if /<dd>/ =~ line then linenum += 1 end /<dd>.*<br>\n/ =~ line print linenum,";","#{$&}".gsub!(/<.*?>/,"") print("\n")　#ここが32行目 } }　 end end search1 = Searchgra.new() search1.fuku ネットで様々な情報を見てみましたが原因が分からず、 またエラーメッセージ中のtIDENTIFIERとはいったい何なのかも分かりません。 ソースコードの間違い等、指摘をよろしくお願いします。
HTTP POSTについてお聞きしたいです。 http://ligin.weizmann.ac.il/~lpgerzon/mbs4/mbs.cgi のページに、自動で入力を投げて答えを返してもらうスクリプトを書きたいです。 dataに、Inputする文字列を&でつないで、 Net::HTTP.start('ligin.weizmann.ac.il', 80) {|http| response = http.post('/~lpgerzon/mbs4/mbs.cgi',data) puts response.body } という方法で実行してみたのですが、 帰ってくる出力が、上記のURIのソースのままになってしまいます。 GUIでクリックして入力した場合は、末尾がmbs3.cgiのページに移動するはずなのですが、 なぜか上手く入力を与えることができません。 説明が曖昧で申し訳ありません。 アドバイスなどだけでも構いませんので、 よろしくお願い致します。
Rubyでは変数に$がつかなくなっていますが、Perlでは$がついています。 Perlの作者が変数に$をあえてつけた理由が、 自分にはわかりません。 けど何か理由はあるはずだと思うんです。 どういった理由が考えられますでしょうか？ また、それをはずしてしまったRubyは大丈夫なんでしょうか？
こんにちは、いつもお世話になってます。 本を読んでいくうちに、メソッドの引数の最後に&をつけたものとyieldを書いたものの違いがほとんどないように思えました。 この違いを考えてみたらyieldは引数が持てることくらいしか思いつかないのですがそう考えていいですか？ そもそも基本から両者を間違って理解していたら申し訳ございません。
初めまして。 この度身の程知らずにもプログラムを書けるようになりたくて、Rubyの本を買ってきて1ページ目から読み始めました。 で、RubyとRDEというエディタをインストールして、「Hello World」を書いてみたのですが、実行すると、左下のコンソールウインドウには「complete(0)」と表示されるのに、同時にダイアログが開いて「ファイル doesn't exist.」と表示されてしまうんです。 プログラム保存前は、上記「ファイル」の部分がtmpファイル、保存後も「ファイル名.rb」で表示されます。 原因がまったく分からなくていきなり（本当にいきなり）つまづいてしまっています。 どなたかご教示願えませんでしょうか？ レベルの低すぎる質問ですみません。。。
以下のサンプルを改造し ----------------------------------------------------- ENTRIES = 5 require 'uri' require 'open-uri' require 'rss' uri = URI.parse('http://b.hatena.ne.jp/entrylist?mode=rss&sort=hot&threshold=3') rss = RSS::Parser.parse(uri.read) rss.output_encoding = 'Shift_JIS' bookmarks = [] rss.items.each do |i| bookmarks.push([i.title, i.link]) end puts "■はてなブックマーク 最近の注目エントリ #{ENTRIES}件" puts puts bookmarks[0, ENTRIES].map {|i| i.join("\n") }.join("\n\n") ----------------------------------------------------- rdfファイルを加工するスクリプトを作成してみましたが エラーが出てしまいます。 エラーメッセージ ----------------------------------------------------- rss.rb:27: undefined method `join' for "Sun, 25 Jan 2009 02:51:06 +0900":String (NoMethodError) from rss.rb:26:in `each' from rss.rb:26 ----------------------------------------------------- サンプルを改造したもの ----------------------------------------------------- ENTRIES = 5 require 'uri' require 'open-uri' require 'rss' uri = URI.parse('honyarara.rdf') rss = RSS::Parser.parse(uri.read) rss.output_encoding = 'Shift_JIS' titles = [] links = [] dates = []#空の配列を生成 rssdata = "" rss.items.each do |i| titles.push([i.title])#pushは配列に要素を加えると言う意味 links.push([i.link]) dates.push([i.date]) end puts "\n\n" for i in 0...5 rssdata += dates[i].join("<a href='").join(links[i]).join("'>").join(titles[i]).join("</a>").join("\n") end puts "\n\n" puts rssdata ----------------------------------------------------- ほかに【.join】の部分を【＋】にしてみたり 色々試してみましたがうまくいきませんでした。 rdfの要素を取り出しHTML形式で書き出したいのですが 【↓このような形にして変数に格納したい】 ----------------------------------------------------- 2009/10/17<a href="​http://foo.bar.com/article/2">​使い方難しい。</a>\n 2009/10/18<a href="​http://foo.bar.com/article/3">​使い方難しい2。</a> ----------------------------------------------------- rdfの要素と文字列の連結方法がわかりません。 宜しくお願いします。
タイトルにあるとおりRubricks の環境を作ろうと思うのですが、、 Mongrel 1.1.2のインストール gem install mongrel -v 1.1.2 -y　を行うと、 Building native extensions. This could take a while... ERROR: While executing gem ... (Gem::Installer::ExtensionBuildError) ERROR: Failed to build gem native extension. ruby extconf.rb install mongrel -v 1.1.2 -y creating Makefile nmake 'nmake' は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチ ファイルとして認識されていません。 Gem files will remain installed in c:/ruby/lib/ruby/gems/1.8/gems/fastthread-1.0 .1 for inspection. Results logged to c:/ruby/lib/ruby/gems/1.8/gems/fastthread-1.0.1/ext/fastthread /gem_make.out と言うエラーが表示されます。 どのように対処したらよいのか分かりません。 詳しい方、よろしくお願いします。。
Rubyには他の言語でよくある++演算子がないようなのですが、 なぜないのでしょうか？ 盛り込むのはそう難しくないと思うので、ないのはそれなりの思想があると思うのですが、どういう意図なのでしょうか？
ランダムな数１５個（＝１+２+４+８個）を 二分ヒープに並べ替える次のようなプログラムを作りました。 require 'HeapByArray.rb' array=Array.new(); i=0; puts("Before") while(i<15) i+=1; array[i]=rand(100); print(" "+array[i].to_s) end puts(" "); queue=HeapByArray::new i=0; while(i<15) i+=1; queue.enqueue(array[i]); end puts("After") i=0; while(i<15) i+=1; array[i]=queue.dequeue(); print(" "+array[i].to_s); end puts(); たとえばデータが [1,11,14,9,5,2,15,7,6,4,12,10,8,3,13]ならば [15,14,13,12,11,10,9,8,7,6,5,4,3,2,1]といった風に 並べ替えられます。実行結果は Before 1,11,14,9,5,2,15,7,6,4,12,10,8,3,13 After 15,14,13,12,11,10,9,8,7,6,5,4,3,2,1 となります。 そこでこの実行結果表示をツリーの表示、つまり □□□8 □□12 □□□7 □14 □□□6 □□11 □□□5 15 □□□4 □□10 □□□3 □13 □□□2 □□9 □□□1 (□部分は空白です。ここで質問記事を投稿するときになぜか空白は無視されてしまうので□にしました。) という風になるように改良したいのですが何をすればよいでしょうか？ 詳しい方、よろしくお願いいたします。
配列を使って２分ヒープを定義したいのですが、どのように定義すればいいのでしょうか。
私はＲＰＧツクールＶＸをゲームを作っています。 Rubyに関することは全てヘルプで学びました。 なので ヘルプで説明されてない予約語（例えばalias・ensureなど）の使い方が分かりません。 詳しく説明してください。
Rubyで画像処理はどこまでできますか。 画像のなかのある特定の色を使っている四角形やら曲線やらの角の座標や外側の線の座標などを取得したいなと思うのですがそういうことはできますか？
すみません。ｒｕｂｙを学習したての者です。 以下のコードで構文エラーがでます。３つです。 どこが悪いのかまったくわかりません。 ------------------------------------------------------ puts 'じゃんけんゲーム開始' sleep 1 #プレイヤーのじゃんけん入力 puts '何を出しますか？' puts '１グー' puts '２チョキ' puts '３パー' input_value = gets #じゃんけんロボの処理 robo = rand(3) + 1 case robo when 1 puts 'ロボはグーを出した！' when 2 puts 'ロボはチョキを出した！' when 3 puts 'ロボはパーを出した！' end #じゃんけん結果判定 player = input_value.to_i case player when 1 puts 'あなたはグーを出した' case robo when 1 #ロボがグーなら puts '引き分けです' when 2 #ロボがチョキなら puts 'あなたの勝ちです' when 3 #ロボがパーなら puts 'あなたの負けです' end when 2 puts 'あなたはチョキを出した' case robo when 1 puts '引き分けです' when 2 puts 'あなたの勝ちです' when 3 puts 'あなたの負けです' end when 3 puts 'あなたはパーを出した' case robo when 1 puts 'あなたの勝ちです' when 2 puts 'あなたの負けです' when 3 puts '引き分けです' end 　 else #どの条件も成立しなかったとき puts 'あなたは何も出さなかった' puts 'あなたの負けです' end --------------------------------------------------- めんどくさいと思いますが、さらっと見て分かる方教えてください。
Ruby認定試験対策問題の解説の中で、分からない箇所があったので、教えてください。 ■問題9の一部 s = "I slit the sheet, the sheet I slit, and on the slitted sheet I sit." /sheet/.match(s).length ■説明 文字列sの中と正規表現/sheet/にマッチした全体の文字列とマッチした部分文字列の配列の数を取得します。 ■回答 => 1 ■irbで自分なりに試してみた内容 irb> s = "I slit the sheet, the sheet I slit, and on the slitted sheet I sit." => "I slit the sheet, the sheet I slit, and on the slitted sheet I sit." irb> /sheet/.match(s).length => 1 irb> /sheet/.match(s) => #<MatchData:0x2c28d30> irb> /sheet/.match(s).class => MatchData irb> /sheet/.match(s).to_a => ["sheet"] irb> /sheet/.match(s).offset(0) => [11, 16] ■疑問 ・match(s).lengthの答えが、どうして1になるか分からない。 ・説明の中の「正規表現/sheet/にマッチした全体の文字列」とは何を指すのか？ ・説明の中の「マッチした部分文字列の配列」が何を意味しているか？ ・返ってきたMatchData オブジェクトの中身は何？　 [11, 16]だけってこと？ 一応、リファレンスも覗いてみたのですが、そこに掲載されていた内容もよく理解できませんでした。 http://www.ruby-lang.org/ja/man/html/Regexp.html#match bar = /foo(.*)baz/.match("foobarbaz").to_a[1] foo, bar, baz = /(foo)(bar)(baz)/.match("foobarbaz").to_a.values_at(1,2,3) さらに、そこに掲載されていた「正規表現にマッチした部分文字列だけが必要な場合に」 ってのは、どういう意味なのでしょうか。
複数行で記述してあった箇所を、試しに一行にしてみたら、syntax errorとなりました。 改行した方が見やすいとは思うのですが、一行で書くときは、どうやればよいのでしょうか。 ■正常に動く class Foo __def print3 ____yield(1,2) __end end foo=Foo.new foo.print3{|x,y　//この部分を一行にしてみたかったのですが、 __print x,"\n" __print y,"\n" } ■エラーとなる class Foo __def print3 (略) foo.print3{|x,y|print x,"\n" print y,"\n"}　//←この行を直したいのですが、 (irb): syntax error, unexpected tIDENTIFIER, expecting '}'
Ruby認定試験対策問題をやっていたら、また分からないところがあったので、教えてください。 2.9-3.ブロック ■問題 次の式を実行した場合，正しい出力結果はどれか． ['foo'].each do |i| ['bar'].each do |i| print i end print i end ■回答 barbar ■解説 ブロックには変数をシャドーウィングする機能がないため ■疑問 ・barfooだと思ったのですが、どうして、正答はbarbarになるのでしょうか。 ・「変数をシャドーウィングする機能」ってどういう機能ですか？
Ruby認定試験対策問題をやっていたら分からないところがあったので、 教えてください。 2.9-1.ブロック ■問題 testメソッドに渡されたブロックのselfは次のうちどれか？ class Foo def test (1..3).each{|i| yield(i)} end end foo = Foo.new foo.test{|i| i } ■回答 トップレベル ■解説 ブロックはメソッドの呼出し先のselfを継承します ■疑問 ・testメソッドに渡されたブロックとは、(1..3)のことを指すのでしょうか。 ・メソッドの呼出し先とは、foo.test{|i| i }のことを意味しているのでしょうか。 ・呼出し先のselfとは、fooかFooのことでしょうか？ ・「selfはメソッド内で実行されるとそのメソッドを実行しているオブジェクトを参照することが出来ます」 と別のサイトに記載されていたのですが、「トップレベルのselfとはObjectクラスのメソッドを実行している」、という意味になるのでしょうか。 それがこの問題のどこに関連しているのでしょうか。
def insertSort(v) $swapCount = 0 $compCount=0 until ($swapCount>= v.size-1) do　　　（A） target = v.delete_at($swapCount + 1)　（B） i = 0 until (i > $swapCount) do　　　　　（C） $compCount+=1 break if v.at(i) > target　　　　（D） i += 1 end v.insert(i, target)#targetをiに置き換える $swapCount += 1#置き換えた＝入れ替えたとき、swampCountを加算 end return v ; end 上のプログラムは挿入ソートのプログラムなのですが、.size .atなどが何を表すかがわからないので、（A）～（D）部分がないをやっているのかがわかりません・・・・。お手数ですが詳しい方、アドバイスよろしくお願いいたします。
WEBrickのWebサーバに対して、 http://xxx.xx.xx.xx/hoge　＃サーバアドレスxxx.xx.xx.xx　ディレクトリ名hogeの例 の様にアクセスした場合、 Index of/hoge Name　　　　　　　　　Lastmodified　　　Size ---------------------------------------------- の様な形式でファイルのリストを返してくるのですが、これを無効にするにはどうしたらよいですか？
タイトルの通りです。 例えば文字列 "adcb" を "abcd" に変換する方法を探しています。 str = "abcd".split(//).sort.join このように一度配列に置き換えてソートする 上記のコードでも問題なく動いていますが、 もっと簡潔に書ける方法はないのでしょうか？ ご指導お願いします。
たのしいRuby P252に掲載されていた、例題 「ハッシュ(単語数を数える)」の解説を読んでも 意味が分からなかったので教えてください。 ■例題word_count.rb 1:# 単語数のカウント 2: 3: count = Hash.new(0) 4: 5:## 単語の集計 6:while line = gets 7: words = line.split 8: words.each{|word| 9: count[word] += 1 10: } 11:end 12: 13:## 結果の出力 14:count.sort{|a,b| 15: a[1] <=> b[1] 16:}.each{|key, value| 17: print "#{key}: #{value}\n" 18} ■疑問1. 解説には、 # 3行目で出現回数を記録するハッシュcountを作ります。 # countは、キーが単語、値がその単語が出現した回数を表します。 と書かれているのですが、「キーが単語、値がその単語が出現した回数を表します」 の内容が理解できません。newしただけなのに、どうして、 キーと値の内容が決まるのでしょうか？ ■疑問2. 解説には、 # 8行目からの繰り返しでは、それぞれの単語をキーにして、countから出現回数を取り出し、 # ＋1します。 と書かれているのですが、「count[word] += 1」 の内容が理解できません。 作成したハッシュcountと、getsメソッドで読み込み単語単位に分割した配列wordsとが、 どこで関連付けされているのかが、分かりません。 ■疑問3. 解説には、 # ruby word_count.rb README という形で、Rubyに同梱されているREADMEファイルの単語数を調べた 実行結果が掲載されているのですが、 そのときの具体的な処理の流れが分かりません。 「ruby word_count.rb README」と書くだけで、 処理の流れが、getsの所まできたとき、 自動的に指定ファイル名を判断し、 読み込みを始めるということなのでしょうか。
Ruby認定試験対策問題をやっていたら分からないところがあったので、 教えてください。 2.4.演算子 ■問題 次の各行を独立して実行した場合、エラーとなる行があった。エラーとなった行について正しく述べているのはどれか。 A: 1 << 1 B: 1 << 1.0 C: 1.0 << 1 D: 1.0 << 1.0 ■回答 正解は(1)「C行, D行がエラーとなった。」 ■解説 Float には、<< 演算子が定義されていません。また、Integer型に、<< 演算子の引数として、浮動小数点を渡しても、引数は自動的にInteger型に変換され、正しく処理されます。 とあるのですが、問題の意味、なぜ回答が(1)になるか、また、解説の「Integer型に、<< 演算子の引数として、浮動小数点を渡しても」がどの部分を指すのかが分かりません。 自分が調べた限りでは、 << はIntegerクラスのメソッド(シフト演算子)で、ビットを左にシフトするものということだけなのですが……。 この場合、問題の主旨は、例えば「Aだと、1 を 1 ビット左にシフトする」、「Bだと、1 を 1.0 ビット左にシフトする」、「Cだと、1.0 を 1 ビット左にシフトする」という意味なのでしょうか。 また、演算子の引数というのは、<<より右側を指すのでしょうか？
たのしいRubyを買ってきて勉強しているのですが、 分からなくて躓いてきて、だんだん楽しくなくなってきたので 誰か教えてください。 ■1.P268 □パターン / ^(ABC)?$ / □文字列 "" □マッチする部分 "→←" となっているのですが、ABCが繰り返されてもいないのにマッチしている理由が分かりません。 ■2.P268 □パターン / ^(ABC)?$ / □文字列 "ABCABC" □マッチする部分 "マッチしない" となっているのですが、ABCが繰り返されてもいるのにマッチしない理由が分かりません。 ■3.P272 □パターン / (ドット)(/d/d)+(ドット) /=~ "123456" p $1 # => "1" p $2 # => "45" p $3 # => "6" となっているのですが、p $2 # => "45"と書かれている理由が分かりません。（p $2 #= > "23"だと思うのですが…） ■4.P272 □パターン /(ドット)(?:/d/d)+(ドット)/ =~ "123456" p $1 # => "1" p $2 # => "6" となっています。しかし、p $2 は、(ドット)(?:/d/d)+(ドット)/ の部分を指すのだと思っているのですが、何がどうなっているのかさっぱり分かりません。
以下のようなクラス拡張をしてみました。 Class String def count_word Array.new(ary) ary = self.split(/\s/) return ary.size end end ここで、Array.new()のところでエラーになってしまいます。 感覚的に配列で受け取るようにするべきだと思っていたの ですが、この１行を外すと正常に動きます。 なぜ配列を生成するのがまずいのでしょうか？
以下のような単純なプログラムなのですが、 p (1..10).find {|n| n > 3} 実行するとWARNINGが表示されてしまいます。 $ ruby -v test.rb ruby 1.8.4 (2005-12-24) [i386-cygwin] test.rb:2: warning: (...) interpreted as grouped expression 4 「interpreted as grouped expression」のエラーは何を意味するのでしょうか。
以下のサイトからAptanaをダウンロードしようとしましたが、 白枠の中のすべてのリンクがなぜかクリックできません。 http://www.aptana.com/ 外枠のグレー部分はクリック可能です。 何かＩＥの設定でしょうか、つい２週間前はＤＬできたのですが。 WindowsXP＋SP３＋IE6で、ＤＬできずにおります。
どなたかご教授下さい。 外部ファイルへ任意の文字列を書き込むプログラムをつくりたいのですがうまく行きません。具体的には ↓↓↓ filenameA = "kakikomi.txt" (中略) def final_file_out(*m) fw = open(filenameA, "a") fw.write(*m) fw.close end ↑↑↑ とやっているのですが、これだと undefined local variable or method `filenameA' for main と出てしまいます。文字列の使い方が悪いのは分かっているのですが どうしたらよいのか分かりません。どなたか分かる方助けて頂けないでしょうか。よろしくお願いします。
お世話になります。前任者の作成したプログラムを読んでいるのですが、以下の部分が分からない為、ご教示頂ける方がいらっしゃれば、ご協力よろしくお願いいたします。 ＜エラーメッセージ表示部＞ def usage STDERR.print "\nusage: #$0 [-F/D] [-START/STOP] Filename \n" exit 1 end ＜オプション処理部＞ while ARGV[0] =~ /^-/ case ARGV.shift when /^-F(\d+)/ ; calling_num = $1.to_s when /^-T(\d+)/ ; called_num = $1.to_s when /^-START/ ; start_only = true when /^-STOP/ ; stop_only =true else ; usage end end 上記の $1へ値を渡すためには、コマンド入力時に特別な引数を渡す方法が必要なのでしょうか。 $ ruby -v check.rb -STOP Filename ⇒ 正常終了 $ ruby -v check.rb -F 012345678 Filename ⇒ STDERR.print 表示
今まではJavaを主に使っていたのですが、最近Rubyを使い始めた者です。 rescue節で例外を捕捉し、例外が発生した状況などの補足情報を新しい例外オブジェクトに付加して、より抽象度の高い例外として再スローしたいと思っています。 しかし困ったことに、Rubyの例外クラスでは、JavaのExceptionクラスのようにcauseを引数に渡して例外オブジェクトを生成することはできないようです。 Rubyではこのような場合、どのような方法で例外の情報を新しい例外オブジェクトに引き継ぐのが一般的なのでしょうか？ よろしくお願いいたします。
